function startExperience(){new Helpers.Matrixificator($("#logo-text .text-orange"),30).matrixifyReversed(),new Helpers.Matrixificator($("#logo-text .text-white"),30).matrixifyReversed(),$("#preloader_spinner").css("transform","scale(0,0)"),setTimeout(function(){$("#logo-block").css({top:"0px",left:"0px",transform:"translate(0px,0%)"}),new Helpers.Matrixificator($("#logo-text .text-orange"),30).matrixify(),new Helpers.Matrixificator($("#logo-text .text-white"),30).matrixify(),$("#preloader_spinner").css("transform","scale(1,1)")},750);var a=$("#logo-block #logo-text"),b=$("#logo-block #preloader_spinner");a.mouseover(function(){"about"!=currentpage&&spinner.mouseOver()}).mouseleave(function(){"about"!=currentpage&&spinner.mouseLeave()}),b.mouseover(function(){"about"!=currentpage&&spinner.mouseOver()}).mouseleave(function(){"about"!=currentpage&&spinner.mouseLeave()}),$("#logo-block").click(function(){"about"!=currentpage&&(gaEvent({eventCategory:"Header - Menu",eventAction:"Click",eventLabel:"Home"}),spinner.mouseLeave(),location.href="#about")}),vars.$body=$("body");for(var c=0,d=init.length;c<d;c++)init[c](vars);brands=new Brands,brands.load(function(){brands.addUIItems($("#drawing")),null!=soundsloaded&&soundsloaded.load(),$(window).on("hashchange",function(){loadHashedPage()}),loadHashedPage(),SND.loop("whitenoise","whitenoise"),SND.volLoop("whitenoise",.4),SND.scanDOM(),$(window).on("mousemove",function(a){var b=$(window).width(),c=a.clientX/b*2-1,d=Math.round(10*c)/10;panhld!=d&&(panhld=d,SND.panLoop("whitenoise",panhld))}),window.Helpers.viewFrustrumDetectionRig()});var e=SVG("scroll").size("6rem","10rem");e.viewbox(0,0,100,100).attr("preserveAspectRatio","xMidYMid meet");var f=e.defs().path(window.assetRepo.pathData.decagon_regular);f.size(100).center(50,80);var g=assetRepo.patterns.lightgrey(e,{pw:10,ph:1,r1w:1,r1h:1,r2w:2,r2h:4,m:!0}),h=assetRepo.patterns.orange(marker,{pw:8,ph:1,r1w:1,r1h:1,r2w:2,r2h:4,m:!0});e.viewbox(0,0,100,100).attr("preserveAspectRatio","xMidYMid meet");e.use(f).scale(.45).fill("none").stroke({color:g,width:14}),e.use(f).scale(.5).fill({color:h}).opacity(0);e.text(function(a){a.tspan("SCROLL").fill("#fd664c")}).font({size:16,family:"Roboto-Mono"}).center(50,10).rotate(-90).animate(1500,"<>").cx(45).loop(!0,!0),$("#scroll").off("click").on("click",function(){window.scroller.scrollTo(window.scroller.getIndex()+1,!1,!0)}),$("#scroll").find("svg use:last").velocity({opacity:0},{duration:50,easing:"easeInOutCubic"}),$("#scroll").mouseover(function(){$(this).find("svg use:first").stop().velocity({opacity:0},{duration:250,easing:"easeInOutCubic"}),$(this).find("svg use:last").stop().velocity({opacity:1},{duration:250,easing:"easeInOutCubic"})}),$("#scroll").mouseleave(function(){$(this).find("svg use:first").stop().velocity({opacity:1},{duration:250,easing:"easeInOutCubic"}),$(this).find("svg use:last").stop().velocity({opacity:0},{duration:250,easing:"easeInOutCubic"})}),$(".circle-buttons").click(function(){Helpers.shockwave($(this),-1,!0)})}function onMobileDevice(){var a=navigator.userAgent||navigator.vendor||window.opera,b={mediaquery:window.matchMedia?window.matchMedia("only screen and (max-width:760px)").matches:null,ratio:window.screen.width>window.screen.height,agentstr:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)),touchscreen:"ontouchstart"in window||navigator.msMaxTouchPoints>0};return!!(b.mediaquery&&b.ratio&&b.agentstr&&b.touchscreen)||(!(!b.mediaquery||!b.agentstr)||!(!b.agentstr||b.ratio))}function loadHashedPage(){var a=""==window.location.hash?"about":window.location.hash.replace("#","");loadpage(a,a)}function loadpage(a,b){currentpage!=b&&(scrollHint(!1),SND.stopAllSounds(["whitenoise"]),gaPageview("/"+a),$(".item[data-area]").removeClass("active"),$(".item[data-area='"+b+"']").addClass("active"),spinner.spin(),$(".footer").hide(),$("body").attr("data-page",b),$("#stage").fadeOut(150,function(){$.ajax({url:a+(-1===a.indexOf(".php")?".php":""),success:function(a){currentpage=b;window.visitedStatus[b];window.visitedStatus[b]=!0,spinner.halt(),$("#stage").children("*").off(),$("#stage").html(a).fadeIn("150"),$(".footer").show(),$("[data-exclusive]").each(function(){$(this).attr("data-exclusive")==currentpage?$(this).fadeIn(250):$(this).fadeOut(250)});for(var c=0;c<absolutehovers.length;c++)absolutehovers[c].remove();absolutehovers=[],resetEnv();for(var d=[],e=0;e<ondemand.length;e++)odmobj=ondemand[e],odmobj.id==currentpage&&d.push({order:odmobj.order,ctorfunc:odmobj.ctorfunc});d.sort(function(a,b){return a.order-b.order}),d.forEach(function(a){a.ctorfunc(vars)}),Update.resume(),SND.scanDOM(),window.Helpers.viewFrustrumDetectionListUpdate()},dataType:"html"})}))}function scrollHint(a){$("#wrp_scroll").velocity({opacity:a?1:0},250),$("#wrp_scroll svg text").velocity({opacity:a?1:0},150)}function resetEnv(){var a="onwheel"in document?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";if($(window).off("resize").off("orientationchange").off("mousedown").off("mouseup").off("scroll").off("keydown").off(a).off("resize.whocares").off("resize.neurology").off("resize.aboutcanvas").off("scroll.aboutcanvas"),window.readyForSectionAnimation&&(window.readyForSectionAnimation=[]),window.toctrl&&(window.toctrl=[]),window.triggeredAnimations&&(window.triggeredAnimations=null),window.hintGroup&&(window.hintGroup=null),window.exp&&(window.exp.off("mouseenter").off("mouseleave").off("click"),window.exp.setDraw(null),window.exp.pauseDraw(),window.exp.looper.remove(),window.exp.unbind(),window.exp=null),window.scroller&&(window.scroller.unbind(),window.scroller=null),window.csh){if(window.csh.scenes){if(window.csh.scenes.brands){var b=window.csh.scenes.brands;b.setDraw(null),b.pauseDraw(),b.unbind(),window.csh.scenes.brands=null}if(window.csh.scenes.intro){var b=window.csh.scenes.intro;b.setDraw(null),b.pauseDraw(),b.looper.remove(),b.unbind(),window.csh.scenes.intro=null}window.csh.scenes=null}window.csh=null}if(window.sh){if(window.sh.scenes){if(window.sh.scenes.brands){var b=window.sh.scenes.brands;b.setDraw(null),b.pauseDraw(),b.unbind(),window.sh.scenes.brands=null}if(window.sh.scenes.empathy){var b=window.sh.scenes.empathy;b.setDraw(null),b.pauseDraw(),b.unbind(),window.sh.scenes.empathy=null}if(window.sh.scenes.intro){var b=window.sh.scenes.intro;b.setDraw(null),b.pauseDraw(),b.looper.remove(),b.unbind(),window.sh.scenes.intro=null}window.sh.scenes=null}window.sh=null}$("#about-nav .nav > li").removeClass("active"),$("#about-nav .nav > li:first-child").addClass("active"),Helpers.clearAutoMatrixificators(),Update.pause(),Update.unregister(),window.quotereposi&&clearInterval(window.quotereposi),window.tds=new SceneResize($("#tdscanvas")),$(window).on("scroll",function(){var a=$("html").scrollTop()||$("body").scrollTop();if(perc1=85*a/150,perc2=100*a/150,perc1>65&&(perc1=65),perc2>100&&(perc2=100),$("#menu").css("background","linear-gradient(rgba(39, 39, 40, .9) "+perc1+"%, transparent "+perc2+"%)"),window.hintGroup&&!animationTriggered("about_part1")&&window.hintGroup.part1){if(($("html").scrollTop()||$("body").scrollTop())-$("#part1").offset().top+$(window).height()>400){reportTriggeredAnimation("about_part1");var b=new workspaces.about.Animation;window.sh.scenes.empathy.neurology.transition(1),b.canvasTextAnimation(1)}}window.Helpers.viewFrustrumDetection()})}function About(a){var b=this;b.$el=a;justgothere&&$("body").css("overflow","hidden"),window.sh=SceneHandler({intro:new SceneAboutIntro($("#who_cares canvas")),empathy:new SceneAboutEmpathy($("#neurochemistry canvas"),$(".neurology-text")),brands:new SceneAboutBrands($("#brands canvas"),config.items.ids)}),window.sh.scenes.intro.animateAlpha(0,!1,!1);var c=$("#brands .quote"),d=window.sh.scenes.brands;_.each(d.newAboutPoints,function(a,b){a.on("attract",function(a){var d=1.1*a.x,e=1.1*a.y;c.eq(b).css("transform","translate("+d+"px, "+e+"px)")})});var e=$("#gotoresults_cta"),d=window.sh.scenes.brands;_.each(d.brands,function(a,b){"final-node"==a.id&&a.on("attract",function(a){var b=1.15*a.x,c=1.15*a.y;e.css("transform","translate("+b+"px, "+c+"px)")})});new workspaces.about.Hints,new workspaces.about.Scroller,new Parallax(document.getElementById("scene"));return window.aa=new workspaces.about.Animation,aa.rigTerms(),aa.animationWhoCares(),window.quotereposi=setInterval(function(){if(window.quotepos)for(var a=$(".neurochemistry_img"),b=0;b<a.length;b++)$(a[b]).css({top:window.quotepos[b].y-260,left:window.quotepos[b].x-125})},1e3/60),b}function BrandSelectFilters(){var a=this;a.filters={},a.set=function(b,c){return a.filters[b]!=c&&(a.filters[b]=c,!0)},a.unset=function(b){return!!a.filters[b]&&(delete a.filters[b],!0)},a.getFilterValue=function(b){return a.filters[b]},a.cmpAge=function(a,b){var c,d;switch(a){case"age1":c=24,d=15;break;case"age2":c=34,d=25;break;case"age3":c=44,d=35;break;case"age4":c=54,d=45;break;case"age5":c=64,d=55;break;case"age6":c=74,d=65}return c==b.max&&d==b.min},a.cmpSalary=function(a,b){var c,d;switch(a){case"salary1":c=600,d=null;break;case"salary2":c=1050,d=601;break;case"salary3":c=1500,d=1051;break;case"salary4":c=2500,d=1501;break;case"salary5":c=null,d=2501;break;case"salary6":c=null,d=null}var e=b.max&&0!=b.max?b.max:null,f=b.min&&0!=b.min?b.min:null;return c==e&&d==f},a.isItemActive=function(b){for(var c in a.filters){var d,e=a.filters[c],f=!0;switch(c){case"category":d=b.brand.category.slug,f=e==d}if(!f)return!1}return!0}}function BrandUI(a){var b=this;b.$el=null,b.isVisible=!1,b.id=function(){return a.brand.slug},b.init=function(){b.$el=$('<div class="brand-item" brand-id="'+b.id()+'" >'+b.id()+"</div>"),b.isVisible=!0},b.addTo=function(a){a.append(b.$el)},b.setVisible=function(a){a?b.show():b.hide()},b.show=function(){b.isVisible=!0,b.$el.show(1e3)},b.hide=function(){b.isVisible=!1,b.$el.hide(1e3)},b.setVisibilityWithFilter=function(c){var d=c.isItemActive(a);d!=b.isVisible&&b.setVisible(d)},b.init()}function Bounds(a,b,c,d){this.left=a||0,this.top=b||0,this.width=c||0,this.height=d||0,this.refresh()}function DrawAnimation(a,b,c,d){var e={};return a=_.chain([a]).flatten().value(),0===a.length?_.noop:(c=Utils.validate(c,"linear","string"),Utils.Easing[c]||(c="linear"),_.each(a,function(a,c){e[c]={},_.each(b,function(b,d){var f=Utils.splitPath(d),g=Utils.resolve(a,f);void 0!==g&&(e[c][d]={path:f,start:g,end:b})})}),function(b,f,g,h){var i=Utils.Easing[c](g);_.each(e,function(b,c){var d=a[c];_.each(b,function(a,b){var c=Utils.lerp(a.start,a.end,i);Utils.resolveSet(d,a.path,c)})}),g>=1&&"function"==typeof d&&d(a)})}function Drawman(a,b,c){var d=_.extend(this,Backbone.Events);if(!(a instanceof HTMLCanvasElement))throw new Exception("Drawman received no valid canvas!");d.canvas=a,d.ctx=Drawman.prepareContext(a.getContext("2d")),d.clear=!0,d.center=new Point,d.bounds=new Bounds,d.visible=new Bounds,d.pointer=new Point(null),d.clicked=!1;var e=null;return d.refresh=function(a){if(a||(a=new Bounds(window.scrollX,window.scrollY,window.innerWidth,window.innerHeight)),d.forced)return d.visible.left=0,d.visible.top=0,d.visible.width=d.bounds.width,d.visible.height=d.bounds.height,d.visible.refresh(),d;var b=Math.min(a.width,d.bounds.width),c=Math.min(a.height,d.bounds.height);return d.visible.left=Utils.clamp(0,d.bounds.width,a.left-d.bounds.left),d.visible.top=Utils.clamp(0,d.bounds.height,a.top-d.bounds.top),d.visible.width=Utils.clamp(0,b,a.left<d.bounds.left?a.right-d.bounds.left:d.bounds.right-a.left),d.visible.height=Utils.clamp(0,c,a.top<d.bounds.top?a.bottom-d.bounds.top:d.bounds.bottom-a.top),d.visible.refresh(),d},d.beforeDraw=function(a){if(!0===a||d.bounds.width!==d.canvas.width||d.bounds.height!==d.canvas.height){var b=$(d.canvas).offset()||{left:0,top:0};d.bounds.left=b.left,d.bounds.top=b.top,d.bounds.width=d.canvas.width,d.bounds.height=d.canvas.height,d.bounds.refresh(),d.center.set(d.bounds.width/2,d.bounds.height/2),d.refresh()}return d.clear&&d.ctx.clearRect(0,0,d.canvas.width,d.canvas.height),d},d.afterDraw=function(){return d.clicked=!1,d},d.setDraw=function(a){return e&&(Update.unregister(e),e=null),"function"==typeof a&&(e=function(b){d.beforeDraw(),a.call(d,b),d.afterDraw()},Update.register(e)),d},d.pauseDraw=function(){return d.toggleDraw(!1)},d.resumeDraw=function(){return d.toggleDraw(!0)},d.toggleDraw=function(a){return e&&(e.paused=!a),d},d.getDrawState=function(){return!!e&&!e.paused},d.beforeDraw(),b="function"!=typeof b?function(a){a()}:b,b.call(d,function(){d.setDraw(c)}),d}function DrawObject(a,b){this.position=new Point(a),this.alpha=1,this.scale=1,this.color=b||!1,this.circ=2*Math.PI,this.dead=!1,_.extend(this,Backbone.Events)}function Point(a,b,c){this.x=null,this.y=null,this.z=null,!0!==a&&null!==a&&(Point.isPoint(a)&&(c=a.z,b=a.y,a=a.x),this.x=a||0,this.y=b||0,this.z=c||0)}function FlowCloud(a,b){DrawObject.call(this,a),this.particles=[],this.animRunning=!1,this.animTime=0,this.settings={animating:!1,bound:80,burst:5,dampenStart:.1,dampenEnd:.2,end:400},this.options=_.extend({color:[243,93,79,.6],velocityX:[65,280],velocityY:[50,180],sizeVariation:[.5,5.5],sizeVariationRare:[2,12],verticalVariation:[2,30],verticalVariationRare:[10,70]},b),this.options.velocityX=Utils.collect(this.options.velocityX,3,_.isNumber),this.options.velocityY=Utils.collect(this.options.velocityY,3,_.isNumber),this.options.verticalVariation=Utils.collect(this.options.verticalVariation,5,_.isNumber)}function GlitchCloud(a,b){DrawObject.call(this,a),this.points=[],this.connector=null,this.options=_.extend({radius:100,velocity:100,dashSize:1,dashSpace:2,dashStyle:"rgba(128, 128, 128, 0.5)"},b)}function GlobeCloud(a,b){DrawObject.call(this,a),this.points=[],this.settings={rotate:.4,fov:650,pointInRadius:1,pointOutRadius:1,pointScale:2},this.options=_.extend({radius:100,radiusVariation:3,radiusOut:150,radiusOutVariation:6,speed:.02,colorIn:[243,93,79,1],colorOut:[243,93,79,1],colorLine:[160,160,160,.15],dashSize:1,dashSpace:2},b)}function LazyGlitchCloud(a,b){DrawObject.call(this,a);var c=this;this.points=[],this.connector=null,this.toH=null,this.lastActiveIdx=-1,this.options=_.extend({radius:100,velocity:150,dashSize:1,dashSpace:2,dashStyle:"rgba(128, 128, 128, 1)",triggerMode:"timed",timedTriggerToggle:3e3},b),this.changeActivePoint=function(){for(var a=c.lastActiveIdx;a==c.lastActiveIdx;)a=Math.floor(Math.random()*c.points.length);c.lastActiveIdx=a;for(var b=0;b<c.points.length;b++)void 0!=c.points[b]&&(c.points[b].enabled=b==a)}}function LineCloud(a,b){DrawObject.call(this,a),this.particles=[],this.settings={animating:!1,minimumStableDistance:.5,minimumStableSpeed:1},this.options=_.extend({color:[243,93,79,1],startDelay:[0,1],startAcceleration:[1.5,3],heightSpeed:[1,4],heightVariation:[2,30],positionDampening:.15,spacing:1,size:.75},b)}function ParticleCloud(a,b){DrawObject.call(this,a),this.particles=[],this.settings={rotate:1},this.options=_.extend({radius:100,fill:0,size:[2,10],speed:[.01,.03],color:[255,255,255],alpha:[.1,.2]},b)}function ReactiveGlitchCloud(a,b){DrawObject.call(this,a);this.points=[],this.connector=null,this.options=_.extend({radius:100,dashSize:1,dashSpace:2,dashStyle:"rgba(128, 128, 128, 1)"},b)}function Neurology(a){DrawObject.apply(this,arguments),this.looper=new Looper,_.each([this.outerDecagon=new Decagon(this.position,"rgba(255, 255, 255, 1)",300),this.innerDecagon=new Decagon(this.position,"rgba(255, 255, 255, 1)",175),this.particleCloud=new ParticleCloud(this.position),this.globeCloud=new GlobeCloud(this.position),this.mirroredGlobeCloud=new GlobeCloud(this.position),this.lineCloud=new LineCloud(this.position),this.flowCloud=new FlowCloud(this.position)],function(a){a.scale=0,a.alpha=0}),this.outerDecagon.mask=.97,this.innerDecagon.mask=.5,this.particleCloud.generate(150,{radius:400,fill:250}),this.globeCloud.generate(100,{radius:200,radiusOut:400}),this.mirroredGlobeCloud.generate(100,{radius:200,radiusOut:400}),this.lineCloud.generate(400)}function Decagon(a,b,c,d){DrawObject.apply(this,arguments),this.points=[],this.radius=c,this.edges=10,this.mask=null,!1!==d&&(this.color=Utils.createDiagonalPattern(this.color)),this.setPoints(this.edges,this.radius)}function DecagonBrand(a,b,c,d,e){this.colorOut=c.colorOut,this.colorOver=c.colorOver,c.imageOut&&(this.imageOut=c.imageOut),c.imageOver&&(this.imageOver=c.imageOver),c.maskOut&&(this.maskOut=c.maskOut),c.maskOver&&(this.maskOver=c.maskOver),!1!==e&&(this.colorOut=Utils.createDiagonalPattern(this.colorOut),this.colorOver=Utils.createDiagonalPattern(this.colorOver)),Decagon.call(this,a,this.colorOut,d,!1),this.mask=c.maskOut?c.maskOut:.8,this.image=new DrawImage(null,b)}function DrawImage(a,b,c){DrawObject.call(this,a,c),this.image=b,this.size=null,this.offset=Point.zero(),this.maintainRatio=!0,this.horizontalAlign=1,this.verticalAlign=1,this.cropPosition=null,this.cropSize=null}function SceneAboutBrands(a,b,c){a=a instanceof jQuery?a:$(),b=b instanceof Array?b:[],c="boolean"==typeof c&&c;var d={ID:0,NAME:1,POSITION:2,RADIUS:3,MASK:4},e="rgba(253, 102, 76, 1)",f=new Point(0,640),g=(new Point(0,120),function(a){return function(b){return b+a}}),h=_.flatten(_.times(2,function(a){return _.map([[1,3,2,5,3,4,1,0,2,1],[3,6,5,8,9,7,6,3,7,4],[6,8,7,10,9,11,12,9,13,12,14,13],[12,15,16,11,15,18,17,16,15,17,18,20,17,19,20],[19,21,20,22,24,21,23,24],[24,26,23,27,26,28,27,25,28,29,25]],function(b){return b.map(g(29*a))})}).concat([[[10,13],[15,14,18],[44,43,47],[54,58,59,57]]]),!0),i=_.reduce([0,1],function(a,b){var d=1750*b,e=c?400:0;return a.concat([[new Point(-200,d+(b>0?e:0)+100),35],[new Point(-5,d+(b>0?e:0)+225),45],[new Point(-120,d+(b>0?e:0)+290),50],[new Point(70,d+(b>0?e:0)+340),50],[new Point(220,d+(b>0?e:0)+360),30,0],[new Point(-150,d+e+450),40],[new Point(5,d+e+500),50],[new Point(210,d+e+560),45,0],[new Point(-150,d+e+625),35,0],[new Point(25,d+e+740),45],[new Point(340,d+e+770),40,0],[new Point(-130,d+e+890),50],[new Point(60,d+e+940),52.5],[new Point(275,d+e+900),50],[new Point(295,d+e+1050),50],[new Point(-25,d+e+1050),45],[new Point(-175,d+e+1100),52.5],[new Point(-60,d+e+1165),45,0],[new Point(200,d+e+1200),35,0],[new Point(-210,d+e+1260),35,0],[new Point(100,d+e+1285),45,0],[new Point(-65,d+e+1400),50],[new Point(200,d+e+1410),45,0],[new Point(-215,d+e+1475),45],[new Point(185,d+e+1560),32.5,0],[new Point(-250,d+e+1700),45],[new Point(60,d+e+1630),55],[new Point(-125,d+e+1635),50],[new Point(-10,d+e+1745),45]])},[]).concat([[new Point(-205,3500+(c?400:0)+100),35,0],[new Point(150,3500+(c?400:0)+110),45]]),j=_.map(i,function(a,c){b[c];return a.unshift(b[c][0],b[c][1]),a}),k=[new Point(300,450),new Point(-250,2e3)],l=[new Point(300,1550),new Point(-250,2e3),new Point(150,2325),new Point(-250,2660),new Point(250,3475)];return new Drawman(a[0],function(b){var g=this;g.canvas.width=a.width(),g.canvas.height=a.height(),g.beforeDraw();var i=new Point(g.center.x,0);if(g.positionAnimations=[],g.brands=_.map(j,function(a,b){var c=Point.add(i,a[d.POSITION]),e=ImageSource("images/brands/"+a[d.NAME]+".svg"),f=new DecagonBrand(c,e,{colorOut:"rgba(255, 255, 255, 0.5)",colorOver:"rgba(255, 255, 255, 0.5)"},a[d.RADIUS]);return f.mask=Utils.validate(a[d.MASK],f.mask),f.id=a[d.ID],f.targetPosition=Point.add(i,new Point(a[d.POSITION].x,a[d.POSITION].y+1e3)),f.finalPosition=Point.add(i,a[d.POSITION]),f.mustMove=!0,g.positionAnimations.push({startAt:f.position.y,matchIdx:b,func:function(a){var b=g.brands[a];b.targetPosition=b.finalPosition}}),f.on("attract",function(a){g.trigger("attract"+f.id,a,f.position)}),f.on("mouseenter",function(){SND.play("staticover_low")}),Electrostatic(f)}),!c){var m=new Point(0,3750),n=ImageSource("images/icon_eye_negative.svg"),o=new DecagonBrand(Point.add(i,m),n,{colorOut:e,colorOver:e,maskOut:.8,maskOver:1e-4},50);o.myPosition=m.clone(),o.id="final-node",o.on("mouseenter",function(){SND.play("staticover_low")}),o.on("click",function(){gaEvent({eventCategory:"Menu SOBRE - Links",eventAction:"Click",eventLabel:"ConheÃ§a o estudo Who Cares"}),setTimeout(function(){location.href="#experience"},250),SND.play("click_low")}),g.brands.push(Electrostatic(o)),h.push([57,60]),h.push([58,60]),h.push([59,60])}if(c){var m=new Point(0,4150),n=ImageSource("images/icon_eye_negative.svg"),p=new DecagonBrand(Point.add(i,m),n,{colorOut:e,colorOver:e,maskOut:.8,maskOver:1e-4},50);p.myPosition=m.clone(),p.id="final-node-conclusions",p.on("mouseenter",function(){SND.play("staticover_low")}),p.on("click",function(){gaEvent({eventCategory:"Menu CONCLUSÃ•ES - Links",eventAction:"Click",eventLabel:"Download do estudo Who Cares"}),modals.downloadModal.operation.show("ConclusÃµes"),SND.play("click_low")}),g.brands.push(Electrostatic(p)),h.push([57,60]),h.push([58,60]),h.push([59,60]);var q=Point.add(i,f);g.globeDecagon=Electrostatic(new Decagon(q,"rgba(255, 255, 255, .2)",200)),g.globeDecagonInner=Electrostatic(new Decagon(q,"rgba(255, 255, 255, .2)",150)),g.globeDecagon.mask=.9,g.globeDecagonInner.mask=0,g.globeCloud=new GlobeCloud(q),g.globeCloud.generate(50,{radius:180,radiusOut:300})}var r=function(a){return g.brands[a]},s=h.map(function(a){return a.map(r)});c&&(g.others=_.times(l.length,function(a){return Electrostatic(new Decagon(Point.add(i,l[a]),e,10))}),s.push([r(2),g.globeDecagonInner,r(5)],[r(6),g.globeDecagonInner,r(4)],[r(14),g.others[0],r(18)],[r(23),g.others[1],r(27)],[r(30),g.others[2],r(33)],[r(34),g.others[3],r(37)],[r(47),g.others[4],r(49)],[g.others[4],r(51)])),c||(g.newAboutPoints=_.times(k.length,function(a){return Electrostatic(new Decagon(Point.add(i,k[a]),e,10))}),s.push([r(4),g.newAboutPoints[0],r(7)],[r(29),g.newAboutPoints[1],r(31)],[r(29),g.newAboutPoints[1]])),g.connector=new(Connector.bind.apply(Connector,[Connector].concat(s))),$(window).on("resize.whocares",_.debounce(function(b){g.canvas.width=a.width(),g.canvas.height=a.height(),g.beforeDraw();var e=new Point(g.center.x,0);if(_.map(g.brands,function(a,b){"final-node"==a.id||"final-node-conclusions"==a.id?a.position.set(Point.add(e,a.myPosition)):a.position.set(Point.add(e,j[b][d.POSITION]))}),c){var h=Point.add(e,f);g.globeDecagon.position.set(h),g.globeDecagonInner.position.set(h),g.globeCloud.position.set(h),_.map(g.others,function(a,b){a.position.set(Point.add(e,l[b]))})}},500)),$(g.canvas).on("mousemove",function(a){g.pointer.set(a.offsetX,a.offsetY)}).on("click",function(a){g.clicked=!0}),b()},function(b){var d=this,e=c&&d.visible.intersects(d.globeCloud.position,d.globeCloud.options.radiusOut-100);e&&(d.globeDecagon.repel(d.pointer,1.25*d.globeDecagon.radius,b),d.globeDecagonInner.repel(d.pointer,1.5*d.globeDecagonInner.radius,b),d.globeCloud.position.set(d.globeDecagon.position),d.globeCloud.position.set(d.globeDecagonInner.position),d.globeCloud.update(b),d.globeCloud.draw(d.ctx,0,d.globeCloud.zeroIndex)),d.connector.draw(d.ctx);var f=($("html").scrollTop()||$("body").scrollTop())-a.offset().top+$(window).height();if(animationTriggered("who_cares_brands")||c){for(var g=d.positionAnimations.length-1;g>=0;g--){var h=d.positionAnimations[g];h.startAt<f&&(d.positionAnimations.splice(g,1),h.func(h.matchIdx))}_.each(d.brands,function(a,c){if(a.mustMove){var e=Math.abs(a.targetPosition.x-a.position.x);e<1&&(a.position.x=a.targetPosition.x),a.targetPosition.x<a.position.x&&(a.position.x-=.1*e),a.targetPosition.x>a.position.x&&(a.position.x+=.1*e),e=Math.abs(a.targetPosition.y-a.position.y),e<1&&(a.position.y=a.targetPosition.y),a.targetPosition.y<a.position.y&&(a.position.y-=.1*e),a.targetPosition.y>a.position.y&&(a.position.y+=.1*e),a.position.x==a.finalPosition.x&&a.position.y==a.finalPosition.y&&(a.mustMove=!1)}else a.attract(d.pointer,3*a.radius,b);a.update(b,d),a.draw(d.ctx)})}_.each(d.others,function(a,c){d.visible.intersects(a.position,a.radius)&&(a.attract(d.pointer,100,b),a.draw(d.ctx))}),_.each(d.newAboutPoints,function(a,c){d.visible.intersects(a.position,a.radius)&&(a.attract(d.pointer,100,b),a.draw(d.ctx))}),e&&d.globeCloud.draw(d.ctx,d.globeCloud.zeroIndex)})}function SceneAboutEmpathy(a,b){a=a instanceof jQuery?a:$(),b=b instanceof jQuery?b:$();var c=(new Looper,new Point(400,400)),d=[new Point(-390,400),new Point(5,850),new Point(-385,1260),new Point(3,1700)],e={timeline:[new Point(-390,1400),new Point(5,1850),new Point(-1200,1860),new Point(1200,2400)]},f=[new Point(0,80),new Point(0,80),new Point(-15,-20),Point.zero()];return new Drawman(a[0],function(g){var h=this;h.canvas.width=a.width(),h.canvas.height=2090+window.innerHeight,h.beforeDraw();var i=new Point(h.center.x,0);h.positionAnimations=[{startAt:150,func:function(a,b){a[0].targetPosition=a[0].finalPosition}},{startAt:580,func:function(a,b){a[1].targetPosition=a[1].finalPosition}},{startAt:1400,func:function(a,b){a[2].targetPosition=a[2].finalPosition}},{startAt:1800,func:function(a,b){a[3].targetPosition=a[3].finalPosition}}],h.timeline=_.times(4,function(a){var g=(Point.add(i,d[a]),Point.add(i,e.timeline[a])),h=ImageSource("images/timeline_"+(a+1)+".svg"),j=Electrostatic(new DrawImage(g,h));return j.size=c.clone(),j.offset=f[a],j.targetPosition=Point.add(i,e.timeline[a]),j.finalPosition=Point.add(i,d[a]),j.matchIdx=a,j.mustMove=!0,j.on("repel",function(a){var c=1.15*a.x,d=1.15*a.y;b.eq(this.matchIdx).css("transform","translate("+c+"px, "+d+"px)")}),j}),h.neurology=new Neurology(Point.add(i,0,h.bounds.height-window.innerHeight/2)),h.neurology.on("stage",function(a){h.neurology.looper.add(.25,DrawAnimation(h.connector,{alpha:1===a?1:0},"easeInOutCubic"))}),h.connector=new Connector([h.timeline[0],h.timeline[1],h.timeline[2],h.timeline[0]],[h.timeline[2],h.timeline[3],h.neurology,h.timeline[2]]),$(window).on("resize.neurology",_.debounce(function(b){h.canvas.width=a.width(),h.canvas.height=2090+window.innerHeight,h.beforeDraw();var c=new Point(h.center.x,0);_.each(h.timeline,function(a,b){a.position.set(Point.add(c,e.timeline[b]))}),h.neurology.recenter(Point.add(c,0,h.bounds.height-window.innerHeight/2))},500)),$(h.canvas).on("mousemove",function(a){h.pointer.set(a.offsetX,a.offsetY)}).on("click",function(a){h.clicked=!0}),g()},function(b){var c=this,e=($("html").scrollTop()||$("body").scrollTop())-a.offset().top+$(window).height();if(animationTriggered("what_is_empathy")){for(var f=c.positionAnimations.length-1;f>=0;f--){var g=c.positionAnimations[f];g.startAt<e&&(c.positionAnimations.splice(f,1),g.func(c.timeline,d))}_.each(c.timeline,function(a,d){if(a.mustMove){var e=Math.abs(a.targetPosition.x-a.position.x);e<1&&(a.position.x=a.targetPosition.x),a.targetPosition.x<a.position.x&&(a.position.x-=.1*e),a.targetPosition.x>a.position.x&&(a.position.x+=.1*e),e=Math.abs(a.targetPosition.y-a.position.y),e<1&&(a.position.y=a.targetPosition.y),a.targetPosition.y<a.position.y&&(a.position.y-=.1*e),a.targetPosition.y>a.position.y&&(a.position.y+=.1*e),a.position.x==a.finalPosition.x&&a.position.y==a.finalPosition.y&&(a.mustMove=!1)}else a.repel(c.pointer,300,b);window.quotepos||(window.quotepos={}),window.quotepos[a.matchIdx]=a.position})}c.visible.intersects(c.neurology.position,400)&&(c.neurology.update(b),c.neurology.draw(c.ctx)),c.connector.draw(c.ctx)})}function SceneAboutIntro(a){return a=a instanceof jQuery?a:$(),new Drawman(a[0],function(b){function c(b){d.canvas.width=a.width(),d.canvas.height=a.height(),d.beforeDraw(),d.particleCloud.position.set(d.center),d.glitchCloud.position.set(d.center);var c=Math.min(window.innerWidth,window.innerHeight),e=c/925;d.particleCloud.scale=e,d.glitchCloud.scale=e}var d=this;d.pointer=new Point(0,0),d.canvas.width=a.width(),d.canvas.height=a.height(),d.beforeDraw(),d.looper=new Looper,d.particleCloud=new ParticleCloud(d.center,{radius:425,fill:250,scale:.2}),d.glitchCloud=new ReactiveGlitchCloud(d.center,{radius:400}),d.particleCloud.generate(150),d.glitchCloud.generateFromPreset(window.assetRepo.glitchPresets[Math.floor(Math.random()*window.assetRepo.glitchPresets.length)]),d.animateAlpha=function(a,b,c){if(b)return void(c&&d.looper.add(.5,DrawAnimation(d.glitchCloud,{alpha:a},"easeInOutCirc")));d.glitchCloud.alpha=0},$(window).on("resize.whocares",_.debounce(c,500)),$(d.canvas).on("mousemove",function(a){d.pointer.set(a.offsetX,a.offsetY)}),c(),b()},function(a){var b=this;if(b.looper.update(a),b.particleCloud.canDraw()&&(b.particleCloud.update(a),b.particleCloud.draw(b.ctx)),b.glitchCloud.canDraw()){var c=new Point(b.pointer.x-b.particleCloud.position.x,b.pointer.y-b.particleCloud.position.y);_.each(b.glitchCloud.points,function(b,d){b.repel(c,200,a)}),b.glitchCloud.update(a),b.glitchCloud.draw(b.ctx)}})}function SceneExperienceDetail(a){return a=a instanceof jQuery?a:$(),new Drawman(a[0],function(b){var c=this;c.canvas.width=a.width(),c.canvas.height=a.height(),c.beforeDraw();var d=Math.min(c.canvas.width,c.canvas.height)/2;c.globeCloud=new GlobeCloud(c.center,{radius:.55*d,radiusOut:.95*d}),c.globeCloud.settings.pointScale=1,c.globeCloud.generate(100),$(window).on("resize.whocares",_.debounce(function(b){c.canvas.width=a.width(),c.canvas.height=a.height(),c.beforeDraw(),c.globeCloud.position.set(c.center)},500)),b()},function(a){var b=this;b.globeCloud.canDraw()&&(b.globeCloud.update(a),b.globeCloud.draw(b.ctx))})}function SceneExperience(a,b){a=a instanceof jQuery?a:$();var c=_.extend({minValue:2,maxValue:6,brandRadius:30,brandPopDurationMin:.2,brandPopDurationMax:1,brandPopDelay:1,brandColorOut:"rgba(255, 255, 255, 0.5)",brandColorOver:"rgba(253, 102, 76, 1)",imagePath:"images/brands/",imageExtension:".svg"},b),d=new Point(-178,6),e=0,f=!1,g=!1,h=[];return new Drawman(a[0],function(b){function i(b){j.canvas.width=a.width(),j.canvas.height=a.height(),j.beforeDraw();var c=Math.min(window.innerWidth,window.innerHeight),e=c/1e3;j.particleCloud.scale=e,j.lineCloud.scale=e,j.flowCloud.scale=e;var f=Point.mult(d,e);j.lineCloud.position.set(Point.add(j.center,f)),j.flowCloud.position.set(Point.add(j.center,f)),j.particleCloud.position.set(j.center),_.each(j.brands,function(a){a.scale=j.particleCloud.scale,a.position.set(j.center.x+Math.cos(a.calcAngle)*a.calcRadius*j.particleCloud.scale,j.center.y+Math.sin(a.calcAngle)*a.calcRadius*j.particleCloud.scale),a.originalposition=a.position,a.originalscale=a.scale})}var j=this
;j.canvas.width=a.width(),j.canvas.height=a.height(),j.beforeDraw(),j.looper=new Looper,j.particleCloud=new ParticleCloud(j.center,{radius:425,fill:250,alpha:[.05,.1]}),j.lineCloud=new LineCloud(Point.add(j.center,d)),j.flowCloud=new FlowCloud(Point.add(j.center,d)),j.connector=new Connector,j.particleCloud.generate(150),j.lineCloud.generate(350),j.flowCloud.settings.end=345,j.connector.alpha=0,j.lineCloud.alpha=0,j.getRadiusForValue=function(a){return(1-Utils.elapsed(c.minValue,c.maxValue,a))*(.8*j.particleCloud.options.radius)},j.indexer=0,j.brands=_.map(brands.items,function(a){for(var b=-1;b>Math.PI-.3&&b<Math.PI+.3||-1==b;)b=Math.random()*Math.PI*2;var d=STUDYDATA.getBrandScore(a.brand.slug,{}),f=j.getRadiusForValue(d),g=new Point(j.center.x+Math.cos(b)*f*j.particleCloud.scale,j.center.y+Math.sin(b)*f*j.particleCloud.scale),h=ImageSource(c.imagePath+a.brand.slug+c.imageExtension),i=new DecagonBrand(g,h,{colorOut:c.brandColorOut,colorOver:c.brandColorOver},c.brandRadius);i.id=a.brand.slug,i.value=d,i.calcAngle=b,i.calcRadius=f,i.zindex=j.indexer++,i.scaleInCloud=Math.random()*(.35-.2)+.2;var k=390*j.particleCloud.scale*1.05,l=390*j.particleCloud.scale*.95;return i.radiusInCloud=Math.random()*(k-l)+l,i.speedInCloud=Math.random()*(.0015-9e-4)+9e-4,i.on("mouseenter",function(){j.stepBrandForward(this.id),j.trigger("mouseenter",i.id,i.position.clone())}),i.on("mouseleave",function(){j.stepBrandBackward(this.id),j.trigger("mouseleave",i.id)}),i.on("click",function(){j.trigger("click",i.id)}),i.scale=j.particleCloud.scale,i.originalposition=new Point(g.x,g.y),i.originalangle=b,i.originalradius=f,i.originalzindex=i.zindex,i.originalscale=i.scale,i.scale=.2,i.alpha=0,i.totalscore=d.toFixed(2),i.filteredscore||(i.filteredscore=d),i.on("attract",function(a){if(e++,window.exp.highlightedbrand&&window.exp.currenthint&&e%2!=0){var b,c,d,f,g=window.exp.highlightedbrand,h=window.exp.currenthint,i={x:g.position.x,y:g.position.y},k=(h.getHintGeometry(),{x:i.x,y:i.y}),l=$(window).width(),m=$(window).height();d=i.x>l/2?"r":"l",f=i.y>m/2?"t":"b","r"==d&&"t"==f&&(b=45,c=-45),"l"==d&&"t"==f&&(b=135,c=-135),"r"==d&&"b"==f&&(b=-45,c=45),"l"==d&&"b"==f&&(b=-135,c=135);var n=b*Math.PI/180;i.x=i.x+Math.cos(n)*(2*j.particleCloud.scale)*g.radius,i.y=i.y-Math.sin(n)*(2*j.particleCloud.scale)*g.radius;var k=window.Helpers.angledPoint(i,180,c),o=-1==g.filteredscore?"N/A":g.filteredscore.toFixed(2);h.$hover.find('[data-absh-placeholder="total-score"]').text(o),h.update(i,k)}}),Electrostatic(i)}),j.occludedbrands=[],j.stepBrandForward=function(a){for(var b=0;b<j.brands.length;b++){var c=j.brands[b];if(c.selfindex=b,c.id==a){c.zindex*=150,window.exp.highlightedbrand=c,j.looper.add(.5,DrawAnimation(c,{scale:2*j.particleCloud.scale},"easeOutCubic"));break}}j.brands.sort(function(a,b){return a.zindex-b.zindex})},j.stepBrandBackward=function(a){for(var b=0;b<j.brands.length;b++){var c=j.brands[b];if(c.id==a){c.zindex/=150,window.exp.highlightedbrand=null,j.looper.add(.5,DrawAnimation(c,{scale:c.originalscale},"easeOutCubic"));break}}j.brands.sort(function(a,b){return a.zindex-b.zindex})},j.animateAlpha=function(a,b,c){if(b){var d=[j.lineCloud,j.flowCloud];return void j.looper.add(.5,DrawAnimation(d,{alpha:a},"easeInOutCirc",c))}j.particleCloud.alpha=0,j.lineCloud.alpha=0,j.flowCloud.alpha=0,"function"==typeof c&&c()},j.firstFilter=!0,j.toggleClouds=function(a){if(j.lineCloud.settings.animating=a,j.flowCloud.settings.animating=a,j.looper.add(.5,DrawAnimation(j.lineCloud,{alpha:a?1:0},"easeInOutCirc")),j.firstFilter)return void(j.firstFilter=!1);a?(SND.play("glups_particles_start",.03),setTimeout(function(){SND.loop("glups_loop","glups_particles_loop"),SND.volLoop("glups_loop",.03)},600)):(SND.stopLoop("glups_loop"),setTimeout(function(){SND.play("glups_particles_end",.03)},0))},j.otherMode=!1,j.changeMode=function(a,b){var c=_.union(j.brands,j.occludedbrands);j.brands.length,c.length,a&&(j.looper.add(.25,DrawAnimation(c,{alpha:0},"easeInOutCirc")),j.looper.add(.25,DrawAnimation(j.connector,{alpha:0},"easeInOutCirc")),j.looper.add(.25,DrawAnimation(j.particleCloud,{alpha:1},"easeInOutCirc",b))),j.otherMode=a,j.changeBrands(j.brands,a)},j.changeBrands=function(a,b){var c=_.pluck(a,"id"),d=_.pluck(j.brands,"id"),e=_.pluck(j.occludedbrands,"id"),i=_.union(d,e),k=_.union(j.brands,j.occludedbrands);if(d=_.intersection(i,c),e=_.difference(i,c),j.brands=_.filter(k,function(a){return-1!=d.indexOf(a.id)}),j.occludedbrands=_.filter(k,function(a){return-1!=e.indexOf(a.id)}),j.connector.objects.length=0,j.connector.alpha=0,j.brands.length>0){var l=_.times(j.brands.length,_.identity);l=_.map(l,function(a){return j.brands[a]}),l.push(l[0]),j.connector.objects=l,j.otherMode||(0==j.connector.alpha?j.looper.add(.5,.675,DrawAnimation(j.connector,{alpha:1},"linear")):j.looper.add(.5,.675,DrawAnimation(j.connector,{alpha:0},"linear"),function(){j.looper.add(.5,.675,DrawAnimation(j.connector,{alpha:1},"linear"))}))}if(f=j.brands.length!=k.length,window.exp.toggleClouds(f),!j.otherMode){for(j.looper.add(.5,DrawAnimation(j.particleCloud,{alpha:f?1:0},"linear"));h.length>0;)j.looper.remove(h.pop());for(var m=0,n=0;n<j.brands.length;n++){var o=j.brands[n];o.zindex=o.originalzindex,g&&!1!==b||(o.scale=.01),j.looper.add(1,m,DrawAnimation(o,{alpha:1},"easeInOutQuintic")),h.push(j.looper.add(1,m,DrawAnimation(o,{calcRadius:o.refinementradius?o.refinementradius:o.originalradius},"easeInOutBack"))),j.looper.add(1,m,DrawAnimation(o,{scale:o.originalscale},"easeInOutBack"));var p=angleToPosition(j.center,o.calcRadius,o.calcAngle,j.particleCloud.scale);o.position.x=p.x,o.position.y=p.y,m+=.01}m=0;for(var q=0;q<j.occludedbrands.length;q++){var o=j.occludedbrands[q];o.zindex=0,j.looper.add(1,m,DrawAnimation(o,{alpha:.3},"easeInOutQuintic")),h.push(j.looper.add(1,m,DrawAnimation(o,{calcRadius:o.radiusInCloud},"easeInOutBack"))),j.looper.add(1,m,DrawAnimation(o,{scale:o.scaleInCloud},"easeInOutBack")),m+=.01}}g||(g=!0),window.dispatchEvent(new CustomEvent("brandsChanged",{detail:0==j.brands.length}))},j.getBrandById=function(a){return _.findWhere(j.brands,{id:a})},j.checkBrandCollision=function(a,b,c){var d={};return _.chain(j.brands).filter(function(e){if(e.id===c)return!1;var f=Point.distance(a,e.position);return f<=b&&(d[e.id]=f,!0)}).map(function(b){var c=d[b.id],e=b.position.x-a.x,f=b.position.y-a.y;return{obj:b,dx:e,dy:f,h:e<0?"left":"right",v:f<0?"top":"bottom",hInv:e<0?"right":"left",vInv:f<0?"bottom":"top",distance:c}}).value()},$(window).on("resize.whocares",_.debounce(i,500)),$(j.canvas).on("mousemove",function(a){j.pointer.set(a.offsetX,a.offsetY)}).on("click",function(a){j.clicked=!0}),i(),b()},function(a){var b=this;if(b.looper.update(a),b.particleCloud.canDraw()&&(b.particleCloud.update(a),b.particleCloud.draw(b.ctx)),b.lineCloud.canDraw()&&(b.lineCloud.update(a),b.lineCloud.draw(b.ctx)),b.flowCloud.canDraw()&&(b.flowCloud.update(a),b.flowCloud.draw(b.ctx)),b.connector.canDraw()&&b.connector.draw(b.ctx),g){for(var c=0;c<b.occludedbrands.length;c++){var d=b.occludedbrands[c];if(d.canDraw()){d.calcAngle+=d.speedInCloud,d.calcAngle=d.calcAngle%(2*Math.PI);var e=angleToPosition(b.center,d.calcRadius,d.calcAngle,b.particleCloud.scale);d.position.x=e.x,d.position.y=e.y,d.draw(b.ctx)}}for(var f=!1,c=b.brands.length-1;c>=0;c--){var d=b.brands[c];if(d.canDraw()){d.attract(b.pointer,2*d.radius,a);var h=d.update(a,!f&&b);h&&(f=h)}}for(var c=0;c<b.brands.length;c++){var d=b.brands[c];if(d.canDraw()){if(d.calcRadius!=(d.refinementradius?d.refinementradius:d.originalradius)){var e=angleToPosition(b.center,d.calcRadius,d.calcAngle,b.particleCloud.scale);d.position.x=e.x,d.position.y=e.y}var i=d.alpha;d.irrelevant?d.alpha=Math.min(i,.1):d.alpha=Math.min(i,1),d.draw(b.ctx),d.alpha!=i&&(d.alpha=i)}}}})}function angleToPosition(a,b,c,d){return{x:a.x+Math.cos(c)*b*d,y:a.y+Math.sin(c)*b*d}}function SceneResize(a){a=a instanceof jQuery?a:$();return new Drawman(a[0],function(b){var c=this;c.pointer=new Point(0,0),c.canvas.width=$(window).width(),c.canvas.height=$(window).height(),c.beforeDraw(),c.looper=new Looper,c.particleCloud=new ParticleCloud(c.center,{radius:590,fill:415,scale:.2}),c.globeCloud=new GlobeCloud(c.center),c.globeCloud.options.radius=180,c.globeCloud.options.radiusVariation=3,c.globeCloud.options.radiusOut=300,c.globeCloud.options.radiusOutVariation=6,c.globeCloud.options.speed=.02,c.globeCloud.options.colorIn=[243,93,79,1],c.globeCloud.options.colorOut=[243,93,79,1],c.globeCloud.options.colorLine=[160,160,160,.15],c.globeCloud.options.dashSize=1,c.globeCloud.options.dashSpace=2,c.particleCloud.generate(150),c.globeCloud.generate(100),c.resize=function(b){c.canvas.width=a.width(),c.canvas.height=a.height(),c.beforeDraw(),c.particleCloud.position.set($(window).width()/2),c.globeCloud.position.set($(window).height()/2);var d=Math.min(window.innerWidth,window.innerHeight),e=d/925;c.particleCloud.scale=e,c.globeCloud.scale=e},c.resize(),b()},function(a){var b=this;b.looper.update(a),b.particleCloud.canDraw()&&(b.particleCloud.update(a),b.particleCloud.draw(b.ctx)),b.globeCloud.canDraw()&&(b.globeCloud.update(a),b.globeCloud.draw(b.ctx))})}function Connector(){var a=_.toArray(arguments),b=function(a){return Point.isPoint(a)||DrawObject.isObject(a)};DrawObject.apply(this,null),this.objects=_.chain(a).map(function(a){return a instanceof Array?_.filter(a,b):a}).filter(function(a){return b(a)||a instanceof Array&&a.length>0}).value();var c=_.without.apply(_,[a].concat(this.objects));this.options=$.extend(!0,{lineWidth:.2,dashSize:1,dashSpace:2,dashStyle:"rgba(255, 255, 255, 1)"},_.first(c)),this.alpha=1,this.scale=1,this.dead=!1}function Electrostatic(a,b){function c(){a.es.last.isEqual(a.position)||(a.es.origin.set(a.position),a.es.smooth&&a.position.set(a.es.last))}return a.es=$.extend(!0,{origin:new Point(a.position),target:new Point(a.position),last:new Point(a.position),offset:new Point,easing:"easeOutApprox",smooth:!1,speed:2},b),a.attract=function(b,d,e){c(),a.es.target.set(a.es.origin);var f=Point.sub(a.es.origin,b),g=f.mag();if(g<d){var h=Utils.Easing[a.es.easing](1-g/d);a.es.target.sub(f.mult(h))}var i=Point.lerp(a.position,a.es.target,(e||1)*a.es.speed,.03);a.position.set(i);var j=Point.sub(a.position,a.es.origin);return j.isEqual(a.es.offset)||(a.es.offset.set(j),a.trigger("attract",j)),a.es.last.set(i),f},a.repel=function(b,d,e){c(),a.es.target.set(a.es.origin);var f=Point.sub(a.position,b),g=f.mag();if(g<d){var h=Utils.Easing[a.es.easing](1-g/d),i=f.clone().div(Point.equal(d)),j=f.normalize().sub(i).mult(d*h);a.es.target.add(j)}var k=Point.lerp(a.position,a.es.target,(e||1)*a.es.speed,.03);a.position.set(k);var l=Point.sub(a.position,a.es.origin);return l.isEqual(a.es.offset)||(a.es.offset.set(l),a.trigger("repel",l)),a.es.last.set(k),f},a}function SceneHandler(a){var b={};return b.scenes=_.extend({},a),b.bounds=new Bounds(0,0,0,0),b.recalcCanvasSizes=function(a){_.each(b.scenes,function(b){(0===b.visible.width||0===b.visible.height||a)&&b.beforeDraw(!0)})},b.recalcCanvasSizesThrottled=_.throttle(b.recalcCanvasSizes,2e3),b.manageCanvasSizes=function(a){var c="resize"===(a||{}).type;b.bounds.left=window.scrollX,b.bounds.top=window.scrollY,b.bounds.width=window.innerWidth,b.bounds.height=window.innerHeight,c||b.recalcCanvasSizesThrottled(),_.each(b.scenes,function(a){c&&a.beforeDraw(!0),a.refresh(b.bounds).toggleDraw(a.visible.width>0&&a.visible.height>0)})},$(window).on("resize.aboutcanvas",b.manageCanvasSizes).on("scroll.aboutcanvas",b.manageCanvasSizes),setTimeout(function(){b.recalcCanvasSizes(!0)},1e3),b}function ImageSource(a,b,c){var d=new Image(b,c);return d.src=a,d}function Looper(){this.loops={}}function Conclusions(a){var b=this;b.$el=a,window.csh=SceneHandler({intro:new SceneAboutIntro($("#conclusion canvas:first")),brands:new SceneAboutBrands($("#results canvas"),config.items.ids,!0)}),window.csh.scenes.intro.animateAlpha(0,!1),window.csh.scenes.intro.glitchCloud.dead=!0;var c=$("#cri"),d=$("#results .quote"),e=window.csh.scenes.brands;_.each(e.others,function(a,b){a.on("attract",function(a){var e=1.15*a.x,f=1.15*a.y;d.eq(b+1).css("transform","translate("+e+"px, "+f+"px)"),c.css("transform","translate("+e+"px, "+f+"px)")})}),e.globeDecagon.on("repel",function(a){var b=1.25*a.x,e=1.25*a.y;d.eq(0).css("transform","translate("+b+"px, "+e+"px)"),c.css("transform","translate("+b+"px, "+e+"px)")});var f=$("#gotodownload_cta"),e=window.csh.scenes.brands;_.each(e.brands,function(a,b){"final-node-conclusions"==a.id&&a.on("attract",function(a){var b=1.15*a.x,c=1.15*a.y;f.css("transform","translate("+b+"px, "+c+"px)")})});var g=(new workspaces.conclusions.Hints,new workspaces.conclusions.Scroller,new workspaces.conclusions.Animation);return g.rigTerms(),g.animationConclusions(),justgothere=!1,b}function Results(a){var b=this;return b.$el=a,b}function Experience(a){var b=this,c=$("#experience_container");return window.exp=new SceneExperience(c.find("canvas")),window.addEventListener("brandsChanged",function(a){a.detail?$("#no_experience_results").fadeIn(500):$("#no_experience_results").fadeOut(500)}),window.exp.animateAlpha(0,!1),window.exp.currenthint=null,window.exp.on("mouseenter",function(a,b){if(SND.play("staticover_low"),null==window.exp.currenthint){var d=_.find(brands.items,function(b){return b.brand.slug===a});if(d){var e=(window.exp.getBrandById(a),new AbsoluteHover(c,"experiencestyle",{x:b.x,y:b.y},{x:b.x,y:b.y},[{key:"title",value:d.brand.name},{key:"description",value:d.brand.category.label}],{drawDecagonStroke:!1,drawDecagonFill:!1,drawStraightLine:!0}));e.$el.css("opacity",0),e.$hover.css({"white-space":"nowrap","z-index":"19"}),e.$canvas.css({"z-index":"19"}),e.$el.appendTo(e.host),e.$el.animate({opacity:1},{duration:100}),window.exp.currenthint=e}}}).on("mouseleave",function(a){null!=window.exp.currenthint&&(window.exp.currenthint.$el.remove(),window.exp.currenthint=null)}).on("click",function(a){SND.play("intro_areas"),fillBrandDataAndShowModal(a)}),window.expa=new workspaces.experience.Animation,window.expa.animationExperience(),b}function getAppliedFilters(){for(var a=$(".filter-parameter.parameter-selected,.filter-inlined-parameter.parameter-selected"),b={},c=0;c<a.length;c++){var d=$(a[c]).attr("data-filter"),e=$(a[c]).attr("data-filter-parameter");switch(d){case"gender":d="gnd";break;case"skills":d="edu";break;case"region":d="zne";break;case"salary":d="inc"}b[d]=e}return b}function AbsoluteHover(a,b,c,d,e,f){var g=this,h=!1,i=window.assetRepo.pathData.abs_decagon;g.host=a,g.pivot=c,g.hover=d,g.resizeStrategy=null,g.options={drawStraightLine:!!f&&(void 0!=f.drawStraightLine&&f.drawStraightLine),drawDecagonStroke:!!f&&(void 0!=f.drawDecagonStroke&&f.drawDecagonStroke),drawDecagonFill:!!f&&(void 0!=f.drawDecagonFill&&f.drawDecagonFill),maxHoverWidth:f&&void 0!=f.maxHoverWidth?f.maxHoverWidth:null,onDemandCanvasDraw:!!f&&(void 0!=f.onDemandCanvasDraw&&f.onDemandCanvasDraw),animationOrder:f&&void 0!=f.animationOrder?f.animationOrder:"HTP"},g.canvasDrawData={},g.animationCompleted=!1,g.reverseAnimation=!1,g.fullyExpanded=!1,g.fullyRetracted=!0,g.animationCount=0,g.resetted=!1,g.killed=!1,g.remove=function(){this.$el.remove(),this.killed=!0},g.getHintGeometry=function(){return{x:g.atRight?g.canvasGeometry.x:g.hoverGeometry.x,y:g.atBottom?g.canvasGeometry.y:g.hoverGeometry.y,w:g.canvasGeometry.w+g.hoverGeometry.w,h:g.canvasGeometry.h+g.hoverGeometry.h}},g.onScreen=function(){if(!g.killed){var a={x:Math.max($("html").scrollLeft(),$("body").scrollLeft()),y:Math.max($("html").scrollTop(),$("body").scrollTop()),w:$(window).width(),h:$(window).height()},b=g.atRight?g.$canvas.offset().left:g.$hover.offset().left,c=g.atBottom?g.$canvas.offset().top:g.$hover.offset().top,d=g.getHintGeometry(),e=Math.max(b,a.x)<Math.min(b+d.w,a.x+a.w),f=Math.max(c,a.y)<Math.min(c+d.h,a.y+a.h);return e&&f}},g.applyResizeStrategy=function(){if(g.resizeStrategy){var a=g.resizeStrategy();g.update(a.pivot,a.hover)}},g.calculateGeometries=function(){g.hoverGeometry={x:g.atRight?g.hover.x:g.hover.x-g.$hover.outerWidth(),y:g.hover.y-g.$hover.outerHeight()/2,w:g.$hover.outerWidth(),h:g.$hover.outerHeight()},g.canvasGeometry={x:g.atRight?g.pivot.x:g.hoverGeometry.x+g.hoverGeometry.w,y:g.atBottom?g.pivot.y:g.hover.y-g.hoverGeometry.h/2,w:g.atRight?Math.abs(g.pivot.x-g.hover.x):Math.abs(g.pivot.x-g.hover.x)+5,h:g.atBottom?Math.abs(g.pivot.y-g.hoverGeometry.h/2-g.hover.y):Math.abs(g.pivot.y-g.hover.y+g.hoverGeometry.h/2)+5},h=Math.abs(g.hover.y-g.pivot.y)<g.hoverGeometry.h,g.decagonGeometry={x:0,y:0,w:100,h:100};var a={x:g.atRight?g.canvasGeometry.x:g.canvasGeometry.x+g.canvasGeometry.w,y:g.atBottom?g.canvasGeometry.y:g.canvasGeometry.y+g.canvasGeometry.h},b=0;g.options.drawStraightLine||(b=g.atRight?-35:35);var c={x:(g.atRight?g.canvasGeometry.x+g.canvasGeometry.w:g.canvasGeometry.x)+b,y:(g.atBottom?g.canvasGeometry.y+g.canvasGeometry.h:g.canvasGeometry.y)+b},d=(a.y-c.y)/(a.x-c.x),e=Math.atan(d);g.angleBetweenPoints=e,(g.atBottom&&g.atRight||!g.atBottom&&g.atRight)&&(g.decagonGeometry.x=a.x-g.decagonGeometry.w/2,g.decagonGeometry.y=a.y-g.decagonGeometry.h/2),(!g.atBottom&&!g.atRight||g.atBottom&&!g.atRight)&&(g.decagonGeometry.x=a.x-g.decagonGeometry.w/2,g.decagonGeometry.y=a.y-g.decagonGeometry.h/2)},g.applyGeometries=function(){g.$hover.css({left:g.hoverGeometry.x,top:g.hoverGeometry.y}),g.$canvas.css({left:g.canvasGeometry.x,top:g.canvasGeometry.y}),g.$decagonPlaceholder.css({left:g.decagonGeometry.x,top:g.decagonGeometry.y}),g.$canvas.attr("width",g.canvasGeometry.w),g.$canvas.attr("height",g.canvasGeometry.h)},g.recalculate=function(a){g.fullyExpanded=!1,g.fullyRetracted=!1,g.$hover.find("[data-absh-placeholder='title']").text(g.title),g.$hover.find("[data-absh-placeholder='description']").text(g.description),g.$hover.find("[data-absh-placeholder='total-score']").text(g.total),g.calculateGeometries(),g.applyGeometries(),g.canvasOperation.updateCanvas(),!g.options.onDemandCanvasDraw||g.animationCompleted?g.canvasOperation.immediateDraw():(g.$hover.css({opacity:a?1:0}),g.$decagonPlaceholder.css({opacity:a?1:0})),g.complementDecagons()},g.update=function(a,b){g.pivot=a,g.hover=b,g.DOMhelpers.convertPoints(),g.atRight=g.pivot.x<g.hover.x,g.atBottom=g.pivot.y<g.hover.y,g.calculateGeometries(),g.applyGeometries(),g.canvasOperation.updateCanvas(),g.resetted||(g.options.onDemandCanvasDraw&&!g.animationCompleted||g.canvasOperation.immediateDraw(),g.complementDecagons())},g.complementDecagons=function(){if(g.options.drawDecagonStroke||g.options.drawDecagonFill){g.$decagonPlaceholder.html("");var a=SVG(g.$decagonPlaceholder[0]),b=a.path(i);b.size(90,90).center(50,50),b.attr("stroke-width","10px");var c=assetRepo.patterns.darkgrey(a,{pw:2,ph:1,r1w:1,r1h:1,r2w:1,r2h:2,m:!0}),d=assetRepo.patterns.orange(a,{pw:2,ph:1,r1w:1,r1h:1,r2w:1,r2h:2,m:!0});b.fill(c),b.stroke(d),g.options.drawDecagonFill||b.attr("fill-opacity","0"),g.options.drawDecagonStroke||b.attr("stroke-opacity","0")}},g.reset=function(){g.resetted=!0,g.canvasOperation.drawInstructionsUntil(-1),g.$hover.css({opacity:0}),g.$decagonPlaceholder.css({opacity:0}),g.animationCompleted=!0},g.animateConnector=function(){g.killed||g.onScreen&&g.options.onDemandCanvasDraw&&(g.resetted=!1,g.reverseAnimation=!1,g.animationCompleted=!1,g.recalculate(!1),g.canvasOperation.animatedDraw(0,1),g.options.drawDecagonStroke||g.options.drawDecagonFill?SND.play("hints_glitch",.2):SND.play("matrix_medium",.2))},g.reverseAnimateConnector=function(){g.killed||g.onScreen&&g.options.onDemandCanvasDraw&&(g.resetted=!1,g.reverseAnimation=!0,g.animationCompleted=!1,g.recalculate(!0),g.canvasOperation.animatedDraw(g.canvasDrawData.instructions.length-1,-1),g.options.drawDecagonStroke||g.options.drawDecagonFill?SND.play("hints_glitch_inverse",.2):SND.play("matrix_medium",.2))},g.canvasOperation={addPathStops:function(a,b){for(var c=[],d=1;d<a.length;d++)for(var e=a[d-1],f=a[d],g=f.x-e.x,h=f.y-e.y,i=0;i<b;i++){var j=e.x+g*i/b,k=e.y+h*i/b;c.push({x:j,y:k})}return c.push({x:a[a.length-1].x,y:a[a.length-1].y}),c},updateCanvas:function(){g.canvasDrawData.instructions=[];var a=function(a){return g.canvasDrawData.instructions.push([a]),g.canvasDrawData.instructions.length-1},b=[];"PTH"==g.options.animationOrder&&((g.options.drawDecagonFill||g.options.drawDecagonStroke)&&(b=["DECAGON:15","WASTE:5"]),b=b.concat(["PIVOT","REVERSECONNECTOR","DONUT","MATRIXHOVER:25"])),"HTP"==g.options.animationOrder&&(b=["MATRIXHOVER:25","DONUT","CONNECTOR","PIVOT"],(g.options.drawDecagonFill||g.options.drawDecagonStroke)&&(b=b.concat(["WASTE:5","DECAGON:15"])));for(var c=0;c<b.length;c++){var d=b[c];if(0==d.indexOf("WASTE"))for(var e=parseInt(d.split(":")[1]),f=1;f<=e;f++)a({type:"WST"});if(0==d.indexOf("DECAGON")){var e=parseInt(d.split(":")[1]);a({type:"DGN",o:0});for(var f=0;f<=1;f+=1/e)a({type:"DGN",o:Math.random()});a({type:"DGN",o:1})}if(0==d.indexOf("HOVER"))for(var e=parseInt(d.split(":")[1]),f=0;f<=1;f+=1/e)a({type:"HVA",o:f});if(0==d.indexOf("MATRIXHOVER")){var e=parseInt(d.split(":")[1]);a({type:"HVA",o:0});var i=a({type:"HVA",o:1});i++;for(var j=[],k=[],l=window.Helpers.matrixifyToList(g.title,e),m=0;m<l.length;m++)j.push({type:"HVT",t:l[m]});l=window.Helpers.matrixifyToList(g.description,e);for(var m=0;m<l.length;m++)k.push({type:"HVD",t:l[m]});for(var n=j.length<k.length?j:k,o=k.length<j.length?k:j,f=0;f<o.length;f++){var p=[];p.push(o[f]),f<n.length&&p.push(n[f]),function(a){g.canvasDrawData.instructions.push(a),g.canvasDrawData.instructions.length}(p)}}switch(d){case"DONUT":var q={};g.atRight?q.x=g.canvasGeometry.w-15:q.x=15,g.atBottom?q.y=h?g.canvasGeometry.h/2+2:g.canvasGeometry.h-g.hoverGeometry.h/2:q.y=g.hoverGeometry.h/2,a({type:"DNT",x:q.x,y:q.y});break;case"CONNECTOR":var r=[],s=2.5;if((g.options.drawDecagonStroke||g.options.drawDecagonFill)&&(s=42.5),g.atRight&&!g.atBottom){if(g.options.drawStraightLine){var t=g.canvasGeometry.w-15-7.5*Math.cos(g.angleBetweenPoints),u=g.hoverGeometry.h/2-7.5*Math.sin(g.angleBetweenPoints);r.push({x:t,y:u})}else r.push({x:g.canvasGeometry.w-20,y:g.hoverGeometry.h/2}),r.push({x:g.canvasGeometry.w-45,y:g.hoverGeometry.h/2});r.push({x:s,y:g.canvasGeometry.h-s})}else if(g.atRight&&g.atBottom){if(g.options.drawStraightLine){var t=g.canvasGeometry.w-15-7.5*Math.cos(g.angleBetweenPoints),u=g.canvasGeometry.h-g.hoverGeometry.h/2-7.5*Math.sin(g.angleBetweenPoints);r.push({x:t,y:u})}else r.push({x:g.canvasGeometry.w-20,y:g.canvasGeometry.h-g.hoverGeometry.h/2}),r.push({x:g.canvasGeometry.w-45,y:g.canvasGeometry.h-g.hoverGeometry.h/2});r.push({x:s,y:s})}else if(g.atRight||g.atBottom){if(g.options.drawStraightLine){var t=15+7.5*Math.cos(g.angleBetweenPoints),u=g.canvasGeometry.h-g.hoverGeometry.h/2+7.5*Math.sin(g.angleBetweenPoints);r.push({x:t,y:u})}else r.push({x:20,y:g.canvasGeometry.h-g.hoverGeometry.h/2}),r.push({x:45,y:g.canvasGeometry.h-g.hoverGeometry.h/2});r.push({x:g.canvasGeometry.w-s,y:s})}else{if(g.options.drawStraightLine){var t=15+7.5*Math.cos(g.angleBetweenPoints),u=g.hoverGeometry.h/2+7.5*Math.sin(g.angleBetweenPoints);r.push({x:t,y:u})}else r.push({x:20,y:g.hoverGeometry.h/2}),r.push({x:45,y:g.hoverGeometry.h/2});r.push({x:g.canvasGeometry.w-s,y:g.canvasGeometry.h-s})}if(g.options.onDemandCanvasDraw)for(var v=g.canvasOperation.addPathStops(r,5),f=0;f<v.length;f++)a({type:"PPT",x:v[f].x,y:v[f].y});else for(var f=0;f<r.length;f++)a({type:"PPT",x:r[f].x,y:r[f].y});break;case"REVERSECONNECTOR":var r=[],s=2.5;if((g.options.drawDecagonStroke||g.options.drawDecagonFill)&&(s=37.5),g.atRight&&!g.atBottom)if(r.push({x:s,y:h?g.canvasGeometry.h/2:g.canvasGeometry.h-s}),g.options.drawStraightLine){var t=g.canvasGeometry.w-15-7.5*Math.cos(g.angleBetweenPoints),u=h?g.canvasGeometry.h/2:g.hoverGeometry.h/2-7.5*Math.sin(g.angleBetweenPoints);r.push({x:t,y:u})}else r.push({x:g.canvasGeometry.w-45,y:g.hoverGeometry.h/2}),r.push({x:g.canvasGeometry.w-20,y:g.hoverGeometry.h/2});else if(g.atRight&&g.atBottom)if(r.push({x:s,y:h?g.canvasGeometry.h/2:s}),g.options.drawStraightLine){var t=g.canvasGeometry.w-15-7.5*Math.cos(g.angleBetweenPoints),u=h?g.canvasGeometry.h/2:g.canvasGeometry.h-g.hoverGeometry.h/2-7.5*Math.sin(g.angleBetweenPoints);r.push({x:t,y:u})}else r.push({x:g.canvasGeometry.w-45,y:g.canvasGeometry.h-g.hoverGeometry.h/2}),r.push({x:g.canvasGeometry.w-20,y:g.canvasGeometry.h-g.hoverGeometry.h/2});else if(g.atRight||g.atBottom)if(r.push({x:g.canvasGeometry.w-s,y:h?g.canvasGeometry.h/2:s}),g.options.drawStraightLine){var t=15+7.5*Math.cos(g.angleBetweenPoints),u=h?g.canvasGeometry.h/2:g.canvasGeometry.h-g.hoverGeometry.h/2+7.5*Math.sin(g.angleBetweenPoints);r.push({x:t,y:u})}else r.push({x:45,y:g.canvasGeometry.h-g.hoverGeometry.h/2}),r.push({x:20,y:g.canvasGeometry.h-g.hoverGeometry.h/2});else if(r.push({x:g.canvasGeometry.w-s,y:h?g.canvasGeometry.h/2:g.canvasGeometry.h-s}),g.options.drawStraightLine){var t=15+7.5*Math.cos(g.angleBetweenPoints),u=h?g.canvasGeometry.h/2:g.hoverGeometry.h/2+7.5*Math.sin(g.angleBetweenPoints);r.push({x:t,y:u})}else r.push({x:45,y:g.hoverGeometry.h/2}),r.push({x:20,y:g.hoverGeometry.h/2});if(g.options.onDemandCanvasDraw)for(var v=g.canvasOperation.addPathStops(r,10),f=0;f<v.length;f++)a({type:"PPT",x:v[f].x,y:v[f].y});else for(var f=0;f<r.length;f++)a({type:"PPT",x:r[f].x,y:r[f].y});break;case"PIVOT":var s=0;(g.options.drawDecagonStroke||g.options.drawDecagonFill)&&(s=30),a(g.atRight&&!g.atBottom?{type:"PVT",x:0+s,y:h?g.canvasGeometry.h/2-2.5:g.canvasGeometry.h-5-s,w:5,h:5}:g.atRight&&g.atBottom?{type:"PVT",x:0+s,y:h?g.canvasGeometry.h/2-2.5:0+s,w:5,h:5}:g.atRight||g.atBottom?{type:"PVT",x:g.canvasGeometry.w-5-s,y:h?g.canvasGeometry.h/2-2.5:0+s,w:5,h:5}:{type:"PVT",x:g.canvasGeometry.w-5-s,y:h?g.canvasGeometry.h/2-2.5:g.canvasGeometry.h-5-s,w:5,h:5})}}},prevTickFn:null,animatedDraw:function(a,b){g.canvasOperation.drawInstructionsUntil(a),g.canvasOperation.prevTickFn&&(Update.unregister(g.canvasOperation.prevTickFn),g.canvasOperation.prevTickFn=null),a+b>=0&&a+b<g.canvasDrawData.instructions.length?(g.canvasOperation.prevTickFn=function(){g.canvasOperation.animatedDraw(a+b,b)},Update.register(g.canvasOperation.prevTickFn)):(g.animationCompleted=!0,g.reverseAnimation?g.fullyRetracted=!0:g.fullyExpanded=!0),g.animationCount++},immediateDraw:function(){g.canvasOperation.drawInstructionsUntil(g.canvasDrawData.instructions.length-1)},drawInstructionsUntil:function(a){var b=g.$canvas[0],c=b.getContext("2d");c.clearRect(0,0,b.width,b.height);for(var d=!1,e=0;e<=a;e++)for(var f=g.canvasDrawData.instructions[e],h=0;h<f.length;h++){var i=f[h];switch(d&&"PPT"!=i.type&&(c.stroke(),d=!1),i.type){case"PVT":c.fillStyle="#fff",c.fillRect(i.x,i.y,i.w,i.h);break;case"PPT":d?c.lineTo(i.x,i.y):(c.beginPath(),c.strokeStyle="#fff",c.setLineDash([2]),c.lineWidth=.5,d=!0,c.moveTo(i.x,i.y)),a==e&&c.stroke();break;case"DNT":c.fillStyle="#fd664c",c.beginPath(),c.arc(i.x,i.y,7.5,0,2*Math.PI,!1),c.arc(i.x,i.y,5.5,0,2*Math.PI,!0),c.fill();break;case"DGN":g.$decagonPlaceholder.css({opacity:i.o});break;case"HVA":g.$hover.css({opacity:i.o});break;case"HVT":g.$hover.find("[data-absh-placeholder='title']").text(i.t);break;case"HVD":g.$hover.find("[data-absh-placeholder='description']").text(i.t);break;case"HVTB":g.$hover.find("[data-absh-placeholder='total-score']").text(i.t);break;case"HTS":g.$hover.find("[data-absh-placeholder='title']").css("letter-spacing",i.s)}}}},g.DOMhelpers={convertPoints:function(){var a=$("<div/>").css({position:"absolute",left:g.pivot.x,top:g.pivot.y,width:"1px",height:"1px"}),b=$("<div/>").css({position:"absolute",left:g.hover.x,top:g.hover.y,width:"1px",height:"1px"});$(g.host).append(a),$(g.host).append(b),g.pivot={x:a.position().left,y:a.position().top},g.hover={x:b.position().left,y:b.position().top},a.remove(),b.remove()}};for(var j=$("section#template_absolutehover section."+b).html(),k=0;k<e.length;k++)e[k].key&&e[k].value&&(j=j.replace("\x3c!-- "+e[k].key+" --\x3e",e[k].value));g.rendered=j,g.$el=$(g.rendered),g.$el.css({position:"static","pointer-events":"none"}),g.$canvas=g.$el.children("canvas"),g.$hover=g.$el.children("div");var l=$("<div/>").css({position:"absolute",width:"100px",height:"100px"});g.$decagonPlaceholder=$(l),g.$el.prepend(g.$decagonPlaceholder),g.options.onDemandCanvasDraw&&(g.$hover.css("opacity",0),g.$decagonPlaceholder.css("opacity",0)),g.title=g.$hover.find("[data-absh-placeholder='title']").text(),g.description=g.$hover.find("[data-absh-placeholder='description']").text(),g.total=g.$hover.find("[data-absh-placeholder='total-score']").text(),g.DOMhelpers.convertPoints(),g.atRight=g.pivot.x<g.hover.x,g.atBottom=g.pivot.y<g.hover.y,g.$hover.css({position:"absolute","pointer-events":"none"}),null!=g.options.maxHoverWidth&&g.$hover.css({"max-width":g.options.maxHoverWidth}),g.$canvas.css({position:"absolute","pointer-events":"none"});var m=$("<div/>").css({position:"fixed",opacity:"0"});return m.append(g.$el),$(g.host).append(m),g.calculateGeometries(),m.remove(),g.applyGeometries(),g.canvasOperation.updateCanvas(),g.options.onDemandCanvasDraw||g.canvasOperation.immediateDraw(),g.complementDecagons(),g}function Closeable(a,b){function c(){if(null!=f){var a={x:l.offset().left,y:l.offset().top},b=Math.sqrt(Math.pow(a.x-f.x,2)+Math.pow(a.y-f.y,2));b>50&&(g+=(b-50)/1e3),f.x>a.x&&(a.x+=.2*Math.abs(f.x-a.x)),f.x<a.x&&(a.x-=.2*Math.abs(a.x-f.x)),f.y>a.y&&(a.y+=.2*Math.abs(f.y-a.y)),f.y<a.y&&(a.y-=.2*Math.abs(a.y-f.y)),g>1&&(g-=.2*(g-1)),l.css({top:a.y,left:a.x}),l.find("div:first-child").css({transform:"scale("+g+")"})}}var d,e=this,f=null,g=1,h=!0,i=null!=b&&b,j=$(a),k=_.uniqueId("closecursor_"),l=$("<div><div></div><div></div></div>");l.attr("id",k).addClass("closecursor").hide(),$("body").append(l),j.css("cursor","none"),d=setInterval(function(){c()},1),j.on("mousemove",function(a){if(SND.play("staticover_low",.1),a.target.id!=j.attr("id")&&i)return h=!0,l.fadeOut(150),j.css("cursor","auto"),void event.stopImmediatePropagation();j.css("cursor","none");var b=j.offset(),c=a.pageX-b.left-5,d=a.pageY-b.top-5;f={x:c,y:d},event.stopImmediatePropagation(),h&&(h=!1,l.css({top:d,left:c}),f={y:d,x:c},g=1,l.find("div:first-child").css({transform:"scale("+g+")"})),l.fadeIn(150),$(".shockwave").css({top:l.css("top"),left:l.css("left")})}),j.on("mouseenter",function(){h=!0,g=1}),j.on("mouseleave",function(){}),j.on("click",function(){Helpers.shockwave(l,9999998,!1),SND.play("click_high"),SND.play("modal_close")}),e.remove=function(){l.fadeOut(250,function(){l.remove()}),j.css("cursor","auto"),clearInterval(d)}}function Scroller(){var a=_.extend(this,Backbone.Events),b="onwheel"in document?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",c=0,d=0,e=[],f=[],g=(new Date).getTime(),h=[],i=!1,j=!1,k=!1,l=null;return a.$window=$(window),a.$elements=$(".scroll-section"),a.speed=1750,a.easing="easeInOutCubic",a.handleResize=function(b){e.length=0,f.length=0,a.$elements.each(function(){var a=$(this),b=parseInt(a.offset().top),c=a.outerHeight();e.push(b),f.push(c>window.innerHeight)})},a.handleOrientation=function(a){},a.handleMouseDown=function(a){j=!1,k=!1},a.handleMouseUp=function(b){j=!0,k&&a.calculateNearest(!1,!0)},a.handleScroll=function(b){l&&(clearTimeout(l),l=null),l=setTimeout(function(){if(k=!0,!j)return!1;j=!1,a.calculateNearest(!1,!0)},200)},a.calculateNearest=function(b,d){for(var f,g=window.scrollY,h=0,i=Math.abs(e[0]-g),j=1;j<e.length;j++)(f=Math.abs(e[j]-g))<i&&(i=f,h=j);(a.isAtBottom()&&h>c||a.isAtTop())&&a.scrollTo(h,b,d)},a.isAccelerating=function(a){function b(b){for(var c=0,d=a.slice(Math.max(a.length-b,1)),e=0;e<d.length;e++)c+=d[e];return Math.ceil(c/b)}return b(10)>=b(70)},a.isAtTop=function(){return window.scrollY<=parseInt(e[c])},a.isAtBottom=function(){return window.scrollY>=parseInt(e[c])+a.$elements.eq(c).outerHeight()-window.innerHeight},a.handleWheel=function(b){b=b||window.event;var d=b.originalEvent.wheelDelta||-b.originalEvent.deltaY||-b.originalEvent.detail,f=Utils.clamp(-1,1,d),j=(new Date).getTime();if(h.length>149&&h.shift(),
h.push(Math.abs(d)),j-g>200&&(h=[]),g=j,i)return!1;if(f<0){if(c<e.length-1&&a.isAtBottom())return a.isAccelerating(h)&&(b.preventDefault(),i=!0,a.scrollTo(c+1,!1,!0)),!1}else if(f>0&&c>0&&a.isAtTop())return a.isAccelerating(h)&&(b.preventDefault(),i=!0,a.scrollTo(c-1,!1,!0)),!1},a.handleKey=function(b){if(i)return!1;38===b.keyCode||33===b.keyCode?c>0&&a.isAtTop()&&(b.preventDefault(),a.scrollTo(c-1,!1,!0)):40!==b.keyCode&&34!==b.keyCode||c<e.length-1&&a.isAtBottom()&&(b.preventDefault(),a.scrollTo(c+1,!1,!0))},a.scrollTo=function(b,g,h){var k=c;if(b===c&&(h=!1),j=!1,d=e[b],h&&a.trigger("before",b,k),c>b&&f[b]){var l=parseInt(e[b]),m=a.$elements.eq(b).outerHeight();d=l+(m-window.innerHeight)}if(c=b,g)return $("html, body").stop().scrollTop(d),void(h&&a.trigger("after",b,k));i=!0,$("html, body").velocity("stop").velocity("scroll",{duration:a.speed,easing:a.easing,offset:d,mobileHA:!1,complete:function(){i=!1,h&&a.trigger("after",b,k)}})},a.$window.on("resize",a.handleResize).on("orientationchange",a.handleOrientation).on("mousedown",a.handleMouseDown).on("mouseup",a.handleMouseUp).on("scroll",a.handleScroll).on("keydown",a.handleKey).on(b,a.handleWheel),a.handleResize(),a.getIndex=function(){return c},this}function Mobile(a){var b=this;b.$el=a;var c=new workspaces.mobile.Animation;return c.animationMobile(),c.warningMobile(),b}function Spinner(a,b,c){var d=this,e=a,f=b,g=c,h=2*Math.PI*22;d.preloading=!1,d.haltqueued=!1;var i=0;f.attr("stroke-dasharray",h),d.spin=function(){d.preloading||i>0||(i++,d.haltqueued=!1,f.rotate(0),e.animate(500,">").size(40,40).center(50,50),f.animate(500).attr("stroke-width","5px").animate(500,">").size(37,37).center(50,50).animate(500).attr("stroke-dashoffset",.8*h).animate(750).during(function(){d.preloading=!0,d.haltqueued&&d.halt()}).rotate(360).loop())},d.halt=function(){if(0!=i){if(!d.preloading)return void(d.haltqueued=!0);i--,d.preloading=!1,d.haltqueued=!1,f.animate(1,"<>").stop().animate(500,">").attr("stroke-dashoffset",0).size(8,8).center(50,50).animate(500,">").attr("stroke-width","20px").rotate(0),e.animate(1500,">").size(100,100).center(50,50)}},d.mouseOver=function(){g.stop().animate(250,">").opacity(1),f.animate(1,"<>").stop().animate(1,">").attr("stroke-dashoffset",0).size(8,8).center(50,50).animate(250,">").attr("stroke-width","55px").rotate(0)},d.mouseLeave=function(){g.stop().animate(250,">").opacity(0),f.animate(1,"<>").stop().animate(1,">").attr("stroke-dashoffset",0).size(8,8).center(50,50).animate(250,">").attr("stroke-width","20px").rotate(0)}}function Preloader(){var a=this;a.$el=$("#preloader");var b,c=!1;a.loadAssetsFile=function(c){a.$el.show(),b=new createjs.LoadQueue,b.addEventListener("fileload",function(){a.loadAssetsItems(extfiles)}),b.loadFile(c)},a.loadAssetsItems=function(b){var d=new createjs.LoadQueue;config.sound&&d.installPlugin(createjs.Sound),c?d.on("complete",a.setLoadedSound,this):(d.on("progress",function(b,c,d){a.$el.html(Math.floor(100*b.progress)+"%")},this),d.on("complete",a.setLoaded,this));for(var e=[],f=0,g=b.length;f<g;f++){var h=b[f];("sound"!=h.type||config.sound)&&(c&&"sound"!=h.type||(e.push({id:h.id_asset,src:h.file}),"sound"==h.type&&null!=soundsloaded&&soundsloaded.addAsset(h.id_asset,h.file,h.alias)))}d.loadManifest(e)},a.setLoadedSound=function(){a.callbackonlysound&&a.callbackonlysound()},a.setLoaded=function(){a.$el.hide(),$(".hideonpreloader").show(),a.callback&&a.callback()},a.load=function(b,d){a.callback=b,config.preload&&config.preload.active?a.loadAssetsFile(config.preload.assetsJSON):(config.sound&&(a.callbackonlysound=d,c=!0,a.loadAssetsFile(config.preload.assetsJSON)),a.setLoaded())}}function SoundsLoaded(){function a(a){g[a]&&delete g[a]}function b(b){var c=h++;return g[c]=b,b.on("complete",function(){a(c)}),b.on("failed",function(){a(c)}),c}function c(a){"undefined"!=typeof localStorage&&localStorage.setItem("mutesound",a)}var d=this,e={},f={},g={},h=1,i=createjs.Sound,j=!0;d.addAsset=function(a,b,c){e[a]=b,_.each(c,function(b){f[b]=a})},d.getInstances=function(){return g},d.stopAll=function(){for(var a in g){var b=g[a];b&&(b.stop(),delete g[a])}},d.stopAllExcept=function(a){for(var b in g){var c=g[b];if(c){if(-1!=a.indexOf(parseInt(b)))continue;c.stop(),delete g[b]}}};var k=function(){return config.sound&&j};d.setInactive=function(){j=!1,this.stopAll(),c(!0)},d.setActive=function(){j=!0,c(!1)},d.play=function(a){if(k()){var c=i.play(f[a]||a);return c.assetid=a,b(c)}},d.loop=function(a){if(k()){var c=(new createjs.PlayPropsConfig).set({loop:-1});return b(i.play(f[a]||a,c))}},d.stopInstance=function(a){g[a]&&g[a].stop()},d.stopAndDeleteInstance=function(a){g[a]&&(g[a].stop(),delete g[a])},d.setVolume=function(a,b){g[a]&&(g[a].volume=b)},d.setPan=function(a,b){g[a]&&(g[a].pan=b)},d.load=function(){if(config.sound){var a=!1;"undefined"!=typeof localStorage&&"true"==localStorage.getItem("mutesound")&&(a=!0),a?d.setInactive():d.setActive()}}}function Brands(){var a=_.extend(this,Backbone.Events);a.filters=new BrandSelectFilters,a.items=[],a.UIItems={},a.loadUIItems=function(){for(var b=0,c=a.items.length;b<c;b++){var d=new BrandUI(a.items[b]);a.UIItems[d.id()]=d}},a.load=function(b){STUDYDATA.loadData().done(function(){a.items=STUDYDATA.data.brands,a.loadUIItems(),b()})},a.addUIItems=function(b){for(var c in a.UIItems)a.UIItems[c].addTo(b)},a.addFilter=function(b,c){var d=a.filters.getFilterValue(b)?"change":"add";a.filters.set(b,c)&&a.updatedFilters(d)},a.removeFilter=function(b){a.filters.unset(b)&&a.updatedFilters("remove")},a.getFilter=function(b){return a.filters.getFilterValue(b)},a.updatedFilters=function(b){for(var c in a.UIItems)a.UIItems[c].setVisibilityWithFilter(a.filters);var d=a.getFilteredItems();a.trigger("filter:"+b,a.filters.filters,d),a.trigger("filter",a.filters.filters,d)},a.getFilteredItems=function(){var b=_.where(a.UIItems,{isVisible:!0}),c=_.map(b,function(a){return a.id()});return _.chain(a.items).filter(function(a){return _.contains(c,a.brand.slug)}).map(function(a){return{id:a.brand.slug,brand:a.brand}}).value()}}function Footer(a){var b=this,c=SVG("footer_marker").size(65,65),d=(c.viewbox(0,0,100,100).attr("preserveAspectRatio","xMidYMid meet"),assetRepo.patterns.darkgrey(c,{pw:4,ph:1,r1w:1,r1h:1,r2w:1,r2h:10,m:!0})),e=assetRepo.pathData.abs_decagon;c.path(e).size(90,90).fill(d).center(50,4);return b}function Menu(a){var b=this;animateMenu();var c=($(".item"),$("#sound_icon")),d=$("#sound_icon .icon_bars"),e=$("#sound_icon img");return c.on("click",function(){d.toggleClass("hidden").velocity("callout.flash",{duration:100}),e.toggleClass("hidden").velocity("callout.flash",{duration:100})}),b}function animateMenu(){var a=$("main").attr("data-id");$("#menu").find("ul.nav").find("a[data-area="+a+"]").addClass("active")}function Modal(a){var b=this;b.presentationMarker="presented",b.showModal=function(a){SND.play("wosh_entrada_scroll"),$elm=$(a),$elm.hasClass("modal")&&!$elm.hasClass(b.presentationMarker)&&$elm.addClass(b.presentationMarker).css("display","block").toggleClass("active")},b.hideModal=function(a){window.brandmodalcloseable&&window.brandmodalcloseable.remove(),window.downloadmodalcloseable&&window.downloadmodalcloseable.remove(),$elm=$(a),$elm.hasClass("modal")?($elm.removeClass(b.presentationMarker).toggleClass("active"),setTimeout(function(){$elm.css("display","none")},800)):($elm.parents("div.modal").removeClass(b.presentationMarker).toggleClass("active"),setTimeout(function(){$elm.parents("div.modal").css("display","none")},800))},b.downloadModal={operation:{show:function(a){$("#mce-NAME").val("").removeClass("error"),$("#mce-EMAIL").val("").removeClass("error"),$("#mc_signup_error").hide(),$("#comingfrom").val(a||""),b.showModal($("#mc_embed_signup")),window.downloadmodalcloseable=new Closeable($("#mc_embed_signup"),!0);var c=$("#mc_embed_signup .modal_header .spot_orange").css({opacity:0}),d=$("#mc_embed_signup .modal_header .description").css({opacity:0}),e=$("#mc_embed_signup #mce-NAME").css({opacity:0}),f=$("#mc_embed_signup #mce-EMAIL").css({opacity:0}),g=$("#mc_embed_signup #mce-NAME").next().css({opacity:0}),h=$("#mc_embed_signup #mce-EMAIL").next().css({opacity:0}),i=$("#mc_embed_signup .submitbtn").css({opacity:0}),j=[{e:c,p:"callout.flash",o:{easing:"easeInOutCubic",delay:30,duration:250,sequenceQueue:!1,complete:function(){var a=$("#mc_embed_signup .modal_header .heading");new Helpers.Matrixificator(a,30).matrixify(),SND.play("matrix_medium",.5)}}},{e:d,p:{translateY:"0%",opacity:"1"},o:{easing:"easeInOutCubic",delay:94,duration:500,sequenceQueue:!1}},{e:g,p:{width:"100%",opacity:"1"},o:{easing:"easeInOutCubic",delay:94,duration:500,sequenceQueue:!1}},{e:e,p:{translateY:"0%",opacity:"1"},o:{easing:"easeInOutCubic",delay:94,duration:500,sequenceQueue:!1}},{e:h,p:{width:"100%",opacity:"1"},o:{easing:"easeInOutCubic",delay:94,duration:500,sequenceQueue:!1}},{e:f,p:{translateY:"0%",opacity:"1"},o:{easing:"easeInOutCubic",delay:94,duration:500,sequenceQueue:!1}},{e:i,p:{translateY:"0%",opacity:"1"},o:{easing:"easeInOutCubic",delay:188,duration:500,sequenceQueue:!1}}];$.Velocity.RunSequence(j)},hide:function(){var a=$("#mc_embed_signup .modal_header .spot_orange"),c=$("#mc_embed_signup .modal_header .description"),d=$("#mc_embed_signup #mce-NAME"),e=$("#mc_embed_signup #mce-EMAIL"),f=$("#mc_embed_signup #mce-NAME").next(),g=$("#mc_embed_signup #mce-EMAIL").next(),h=$("#mc_embed_signup .submitbtn"),i=[{e:h,p:{translateY:"100%",opacity:"0"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:e,p:{translateY:"100%",opacity:"0"},o:{easing:"easeInOutCubic",delay:94,duration:500,sequenceQueue:!1}},{e:g,p:{width:"0%",opacity:"0"},o:{easing:"easeInOutCubic",delay:94,duration:500,sequenceQueue:!1}},{e:d,p:{translateY:"100%",opacity:"0"},o:{easing:"easeInOutCubic",delay:94,duration:500,sequenceQueue:!1}},{e:f,p:{width:"0%",opacity:"0"},o:{easing:"easeInOutCubic",delay:94,duration:500,sequenceQueue:!1}},{e:c,p:{translateY:"100%",opacity:"0"},o:{easing:"easeInOutCubic",delay:30,duration:500,sequenceQueue:!1}},{e:a,p:{opacity:"0"},o:{easing:"easeInOutCubic",delay:0,duration:500,sequenceQueue:!1,complete:function(){b.hideModal($("#mc_embed_signup"))}}}];$.Velocity.RunSequence(i)}}},b.experienceBrandsModal={operation:{updateBrandValue:function(a,b){$("#brand_modal [data-placeholder='"+a+"']").text(b)},findBrand:function(a){for(var b=0;b<brands.items.length;b++){if(a===brands.items[b].brand.slug)return brands.items[b]}},roundNumber:function(a,b,c){if(null==b)return Math.round(a);var d=Math.pow(10,b),e=Math.round(a*d)/d;return c?e.toFixed(b):e},hide:function(){var a=$(".modal_content.-brands"),b=$("#svg_background_decagon"),c=$("#svg_percent_decagon_1"),d=$("#svg_percent_decagon_2"),e=($("#modal_brand_canvas"),$("#svg_focus_brand"),$(".brand_info-header div"),$(".brand_info-data .brand_info-definition"),$(".brand_info-data .brand_info-result"),$("#brand_modal .brand_info-details .brand_info-col .brand_info-definition"),$("#brand_modal .brand_info-details .brand_info-col .brand_info-result"),$("#brand_modal .brand_info-details .brand_info-col .brand_info-result span"),$("#brand_modal .brand_info-details #svg_header_brand"),$("#brand_modal #awareness_box"),[{e:a,p:{opacity:[0,1]},o:{easing:"easeOutCubic",delay:30,duration:540,sequenceQueue:!1,complete:function(){modals.hideModal($("#brand_modal")),b.html(""),c.html(""),d.html("")}}}]);$.Velocity.RunSequence(e)},show:function(a){var c=b.experienceBrandsModal.operation,d=b.experienceBrandsModal.decoders,e=c.findBrand(a);presentationData=e;var f=(Math.round(100*STUDYDATA.getBrandScore(a,{}))/100).toFixed(2);c.updateBrandValue("brand-name",presentationData.brand.name),c.updateBrandValue("brand-category",presentationData.brand.category.label),c.updateBrandValue("brand-recognition",this.roundNumber(presentationData.stats.awareness)),c.updateBrandValue("spontaneousmentions-average",e.stats.mentions.total),c.updateBrandValue("spontaneousmentions-ranking",e.stats.mentions.ranking?e.stats.mentions.ranking+"Âº":"N/A"),c.updateBrandValue("total-average",f),c.updateBrandValue("total-ranking",e.stats.score.ranking+"Âº"),c.updateBrandValue("rel-current-average",this.roundNumber(e.stats.relationships.current.average,2,!0)),c.updateBrandValue("rel-current-percentage",this.roundNumber(e.stats.relationships.current.percentage,1)+"%"),c.updateBrandValue("rel-former-average",this.roundNumber(e.stats.relationships.former.average,2,!0)),c.updateBrandValue("rel-former-percentage",this.roundNumber(e.stats.relationships.former.percentage,1)+"%"),c.updateBrandValue("rel-never-average",this.roundNumber(e.stats.relationships.never.average,2,!0)),c.updateBrandValue("rel-never-percentage",this.roundNumber(e.stats.relationships.never.percentage,1)+"%"),c.updateBrandValue("ranking-gender",d.decodeGender(e.stats.best.gender)),c.updateBrandValue("ranking-age",d.decodeAge(e.stats.best.age)),c.updateBrandValue("ranking-salary",d.decodeSalary(e.stats.best.income)),c.updateBrandValue("ranking-skills",d.decodeSkills(e.stats.best.schooling)),c.updateBrandValue("ranking-region",d.decodeRegion(e.stats.best.zone)),c.updateBrandValue("total-score","0.00"),$("#awareness_box").css("opacity",0),b.showModal($("div#brand_modal")),window.brandmodalcloseable=new Closeable($("div#brand_modal"));var g=new SceneExperienceDetail($("#modal_brand_canvas"));g.globeCloud.position.set(g.bounds.width/2,g.bounds.height/2);var h={w:g.bounds.width,h:g.bounds.height},i=assetRepo.pathData.abs_decagon,j=SVG("svg_background_decagon"),k=SVG("svg_percent_decagon_1"),l=SVG("svg_percent_decagon_2"),m=j.path(i),n=k.path(i),o=l.path(i),p=$("#svg_percent_decagon_1 path"),q=$("#svg_percent_decagon_2 path"),r=($("#svg_background_decagon path")[0],$("#svg_percent_decagon_1 path")[0]),s=$("#svg_percent_decagon_2 path")[0];m.size(.75*h.h,.75*h.h).center(h.w/2,h.h/2),n.size(.63*h.h,.63*h.h).center(h.w/2,h.h/2),o.size(.65*h.h+12,.65*h.h+12).center(h.w/2,h.h/2);var t=r.getTotalLength(),u=s.getTotalLength(),v=assetRepo.patterns.darkgrey(j,{pw:2.5,ph:1,r1w:1,r1h:1,r2w:1,r2h:10,m:!0}),w=assetRepo.patterns.lightgrey(j,{pw:2.5,ph:1,r1w:1,r1h:1,r2w:1,r2h:10,m:!1}),x=assetRepo.patterns.orange(j,{pw:2.5,ph:1,r1w:1,r1h:1,r2w:1,r2h:10,m:!1});m.fill(v),n.stroke(x),o.stroke(w),p.css({"stroke-dasharray":t,"stroke-dashoffset":t}),q.css({"stroke-dasharray":u,"stroke-dashoffset":u}),$("#svg_focus_brand").css({opacity:0,background:"url('images/brands/"+e.brand.slug+".svg')","background-position":"center center","background-size":"40% 40%","background-repeat":"no-repeat"}),$("#svg_header_brand").css({opacity:1,background:"url('images/brands/"+e.brand.slug+".svg')","background-position":"left center","background-size":"contain","background-repeat":"no-repeat"});var y=$(".modal_content.-brands"),z=$("#svg_background_decagon").css({opacity:0}),A=$("#modal_brand_canvas").css({opacity:0}),B=$("#svg_focus_brand").css({opacity:0}),C=$(".brand_info-header div").css({opacity:0}),D=$(".brand_info-data .brand_info-definition").css({opacity:0}),E=$(".brand_info-data .brand_info-definition span").css({opacity:0}),F=$(".brand_info-data .brand_info-result").css({opacity:0}),G=$(".brand_info-data .brand_info-result span").css({opacity:0}),H=$("#brand_modal .brand_info-details .brand_info-col .brand_info-definition").css({opacity:0}),I=$("#brand_modal .brand_info-details .brand_info-col .brand_info-result").css({opacity:0}),J=$("#brand_modal .brand_info-details .brand_info-col .brand_info-result span").css({opacity:0}),K=$("#brand_modal .brand_info-details #svg_header_brand").css({opacity:0}),L=$("#brand_modal #awareness_box"),M=[{e:y,p:{opacity:[1,0]},o:{easing:"easeOutCubic",delay:30,duration:50,sequenceQueue:!1}},{e:z,p:"transition.bounceIn",o:{easing:"easeOutCubic",delay:30,duration:800,sequenceQueue:!1}},{e:A,p:"transition.bounceIn",o:{easing:"easeOutCubic",delay:64,duration:800,sequenceQueue:!1}},{e:B,p:{opacity:[1,0]},o:{easing:"easeOutCubic",delay:30,duration:800,sequenceQueue:!1}},{e:K,p:{opacity:[1,0]},o:{easing:"easeOutCubic",delay:30,duration:800,sequenceQueue:!1}},{e:H,p:"transition.slideLeftIn",o:{stagger:160,easing:"easeOutCubic",delay:0,duration:800,sequenceQueue:!1}},{e:I,p:"transition.slideLeftIn",o:{stagger:160,easing:"easeOutCubic",delay:0,duration:800,sequenceQueue:!1}},{e:J,p:"transition.slideLeftIn",o:{stagger:160,easing:"easeOutCubic",delay:94,duration:800,sequenceQueue:!1}},{e:C,p:"transition.slideLeftIn",o:{stagger:160,easing:"easeOutCubic",delay:188,duration:800,sequenceQueue:!1}},{e:D,p:"transition.slideUpIn",o:{stagger:160,easing:"easeOutCubic",delay:30,duration:800,sequenceQueue:!1}},{e:E,p:"transition.slideUpIn",o:{stagger:160,easing:"easeOutCubic",delay:94,duration:800,sequenceQueue:!1}},{e:F,p:"transition.slideLeftIn",o:{stagger:160,easing:"easeOutCubic",delay:600,duration:540,sequenceQueue:!1}},{e:G,p:"transition.slideLeftIn",o:{stagger:160,easing:"easeOutCubic",delay:94,duration:540,sequenceQueue:!1}},{e:L,p:"transition.fadeIn",o:{easing:"easeOutCubic",delay:0,duration:800,sequenceQueue:!1,complete:function(){var a=Math.ceil(t)-Math.ceil(t)*(f-1)/5,b=Math.ceil(u)-Math.ceil(u)*(f-1)/5;p.velocity({"stroke-dashoffset":a},{duration:1e3,delay:600,easing:"easeInOutQuad"}),q.velocity({"stroke-dashoffset":b},{duration:1700,delay:600,easing:"easeInOutCubic"}),$({incr:0}).animate({incr:f},{duration:1700,delay:600,step:function(){var a=Math.round(100*this.incr)/100;$('[data-placeholder="total-score"]').text(a.toFixed(2))}})}}}];$.Velocity.RunSequence(M)}},decoders:{decodeGender:function(a){switch(a){case"m":return"Homens";case"f":return"Mulheres"}},decodeAge:function(a){switch(a){case"0_17":return"AtÃ© aos 17 anos";case"18_24":return"Dos 18 a 24 anos";case"25_34":return"Dos 25 a 34 anos";case"35_44":return"Dos 35 a 44 anos";case"45_54":return"Dos 45 a 54 anos";case"55_64":return"Dos 55 a 64 anos";case"65_74":return"Dos 65 a 74 anos";case"75_+":return"Mais de 75 anos"}return"-"},decodeSalary:function(a){switch(a){case"600":return"AtÃ© 600â‚¬";case"601_1100":return"Entre 601â‚¬ e 1100â‚¬";case"1101_1700":return"Entre 1101â‚¬ e 1700â‚¬";case"1701_2300":return"Entre 1701â‚¬ e 2300â‚¬";case"2301_2900":return"Entre 2301â‚¬ e 2900â‚¬";case"2901_3500":return"Entre 2901â‚¬ e 3500â‚¬";case"3501_4100":return"Entre 3501â‚¬ e 4100â‚¬";case"4100":return"Mais de 4100â‚¬"}return"-"},decodeSkills:function(a){switch(a){case"0_5":return"AtÃ© ao 5Âº ano";case"6_7":return"Do 6Âº ao 7Âº ano";case"8_9":return"Do 8Âº ao 9Âº ano";case"10_12":return"Do 10Âº ao 12Âº ano";case"freq":return"FrequÃªncia universitÃ¡ria";case"lic":return"Licenciatura";case"mest":return"Mestrado";case"dout":return"Doutoramento"}return"-"},decodeRegion:function(a){switch(a){case"alentejo":return"Alentejo";case"algarve":return"Algarve";case"centro":return"Centro";case"lisboa":return"Lisboa";case"norte":return"Norte";case"acores":return"AÃ§ores";case"madeira":return"Madeira"}return"-"}}}}function hideModal(a){modals.hideModal(a)}function fillBrandDataAndShowModal(a){modals.experienceBrandsModal.operation.show(a)}function sendPostDataAndDownload(){var a=$("#mce-NAME").val(),b=$("#mce-EMAIL").val(),c=$("#comingfrom").val();if($("#mc_signup_error").hide(),gaEvent({eventCategory:"Form",eventAction:"Download",eventLabel:(c?c+" > ":"")+"Enviar e Descarregar"}),clearValidationErrors(),""!=a.trim()&&""!=b.trim()){/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(b)?$("#mc-embedded-subscribe-form").submit():showError("NÃ£o inseriste um email vÃ¡lido")}else""==a.trim()&&""==b.trim()?($("#mce-NAME").addClass("error"),$("#mce-EMAIL").addClass("error"),showError("NÃ£o preencheste o teu nome nem o email")):""==a.trim()?($("#mce-NAME").addClass("error"),showError("NÃ£o preencheste o teu nome")):""==b.trim()&&($("#mce-EMAIL").addClass("error"),showError("NÃ£o preencheste o teu email"))}function clearValidationErrors(){$("#mce-EMAIL").removeClass("error"),$("#mce-NAME").removeClass("error"),$("#mc_signup_error").hide()}function showError(a){$("#mc_signup_error .error-text").text(a),$("#mc_signup_error").fadeIn(250)}$(function(){window.Helpers={whichAnimationEvent:function(){var a,b=document.createElement("fakeelement"),c={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(a in c)if(void 0!==b.style[a])return c[a]},angledPoint:function(a,b,c){return c*=Math.PI/180,{x:a.x+Math.cos(c)*b,y:a.y+Math.sin(c)*b}},vfdl:null,viewFrustrumDetectionRig:function(){$(window).on("objectinfrustrum",window.Helpers.viewFrustrumAction)},viewFrustrumDetectionListUpdate:function(){window.Helpers.vfdl=$("[data-vfrustrumdetection-id]")},viewFrustrumDetection:function(){null!=window.Helpers.vfdl&&window.Helpers.vfdl.each(function(){var a=$(this),b={x:a.offset().left,y:a.offset().top,w:a.outerWidth(),h:a.outerHeight()},c={w:$(window).width(),h:$(window).height(),s:Math.max($("html").scrollTop(),$("body").scrollTop())},d=!1,e=!1;d=b.x+b.w>0&&b.x<c.w,e=b.y+b.h>c.s&&b.y<c.s+c.h,d&&e&&window.dispatchEvent(new CustomEvent("objectinfrustrum",{detail:a}))})},viewFrustrumAction:function(a){var b=$(a.detail);if("1"!=b.attr("data-detected"))switch(b.attr("data-detected","1"),b.attr("data-vfrustrumdetection-id")){case"generic-quote-00":var c=b,d=c.find(".quote_heading span"),e=[{e:d,p:"transition.slideLeftIn",o:{stagger:240,easing:"easeInOutCubic",delay:64,duration:750}}];$.Velocity.RunSequence(e);break;case"generic-quote-01":var c=b,f=c.find(".quote_number"),d=c.find(".quote_heading span"),g=[{e:f,p:"callout.flash",o:{easing:"easeInOutCubic",delay:188,duration:250,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}},{e:d,p:"transition.slideLeftIn",o:{stagger:240,easing:"easeInOutCubic",delay:64,duration:750}}];$.Velocity.RunSequence(g);break;case"generic-quote-02":var c=b,d=c.find(".quote_heading span"),h=c.find(".quote_text"),i=[{e:d,p:"transition.slideLeftIn",o:{stagger:240,easing:"easeInOutCubic",delay:64,duration:750,begin:function(){SND.play("wosh_entrada_scroll")}}},{e:h,p:"transition.slideUpIn",o:{easing:"easeInOutCubic",delay:188,duration:750,sequenceQueue:!1}}];$.Velocity.RunSequence(i);break;case"generic-quote-03":var c=b,f=c.find(".quote_number"),d=c.find(".quote_heading span"),h=c.find(".quote_text"),j=[{e:f,p:"callout.flash",o:{easing:"easeInOutCubic",delay:188,duration:250,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}},{e:d,p:"transition.slideLeftIn",o:{stagger:240,easing:"easeInOutCubic",delay:64,duration:750}},{e:h,p:"transition.slideUpIn",o:{easing:"easeInOutCubic",delay:188,duration:750,sequenceQueue:!1}}];$.Velocity.RunSequence(j);break;case"generic-quote-04":var c=b,k=c.find(".quote_svg"),d=c.find(".quote_heading span"),l=c.find(".quote_quoter"),h=c.find(".quote_text"),m=[{e:k,p:"callout.flash",o:{easing:"easeInOutCubic",delay:188,duration:250,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}},{e:d,p:"transition.slideLeftIn",o:{stagger:240,easing:"easeInOutCubic",delay:64,duration:750}},{e:l,p:"transition.slideDownIn",o:{easing:"easeInOutCubic",delay:188,duration:750,sequenceQueue:!1}},{e:h,p:"transition.slideUpIn",o:{easing:"easeInOutCubic",delay:188,duration:750,sequenceQueue:!1}}];$.Velocity.RunSequence(m);break;case"generic-quote-05":var c=b,d=c.find(".quote_heading span"),l=c.find(".quote_quoter"),h=c.find(".quote_text"),n=c.find(".quote_authors"),o=c.find(".quote_link"),p=[{e:d,p:"transition.slideLeftIn",o:{stagger:240,easing:"easeInOutCubic",delay:64,duration:750,begin:function(){SND.play("wosh_entrada_scroll")}}},{e:l,p:"transition.slideDownIn",o:{easing:"easeInOutCubic",delay:188,duration:750,sequenceQueue:!1}},{e:h,p:"transition.slideUpIn",o:{easing:"easeInOutCubic",delay:188,duration:750,sequenceQueue:!1}},{e:n,p:"transition.slideUpIn",o:{stagger:30,easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:o,p:{opacity:1},o:{stagger:30,easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}];$.Velocity.RunSequence(p);break;case"generic-quote-obama":var c=b,k=c.parent().find(".quote_svg"),d=c.parent().find(".quote_heading span"),l=c.parent().find(".quote_quoter"),h=c.parent().find(".quote_text"),o=c.parent().find(".quote_link"),q=[{e:k,p:"callout.flash",o:{easing:"easeInOutCubic",delay:188,duration:250,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}},{e:d,p:"transition.slideLeftIn",o:{stagger:240,easing:"easeInOutCubic",delay:64,duration:750}},{e:l,p:"transition.slideDownIn",o:{easing:"easeInOutCubic",delay:188,duration:750,sequenceQueue:!1}},{e:h,p:"transition.slideUpIn",o:{easing:"easeInOutCubic",delay:188,duration:750,sequenceQueue:!1}},{e:o,p:{opacity:1},o:{stagger:30,easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}];$.Velocity.RunSequence(q)}},matrixifyToList:function(a,b){for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz@%$",d=[],e=5,f=0;f<=b;f++){for(var g="",h=Math.floor(f/b*a.length),i=0;i<h;i++)g+=a[i];for(var j=Math.floor((a.length-g.length)/2),k=0,i=1;i<=j;i++)k++,k<e?g+=c[Math.floor(Math.random()*c.length)]:(e=Math.floor(4*Math.random())+5,k=0,g+=" ");for(;g.length<a.length;)g+=" ";d.push(g)}return d},autoMatrixificators:[],clearAutoMatrixificators:function(){for(var a=0;a<Helpers.autoMatrixificators.length;a++)clearInterval(Helpers.autoMatrixificators[a])},autoMatrixify:function(a,b,c,d){var e=function(){for(var c=b[Math.floor(Math.random()*b.length)],d=$(a).attr("data-lastterm");d==c;)c=b[Math.floor(Math.random()*b.length)];$(a).attr("data-lastterm",c),$(a).attr("data-original",c),new Helpers.Matrixificator(a,30).matrixify()};Helpers.autoMatrixificators.push(setInterval(function(){e()},c)),d&&e()},shockwave:function(a,b,c){void 0==c&&(c=!1),c&&$(a).velocity({scale:.9},{duration:25,easing:"easeInOutCubic"}).velocity({scale:1.1},{delay:25,duration:25,easing:"easeInOutCubic"}).velocity({scale:1},{delay:25,duration:25,easing:"easeInOutCubic"});var d=Math.max($("body").scrollTop(),$("html").scrollTop()),e={x:$(a).offset().left,y:$(a).offset().top-d,w:$(a).outerWidth(),h:$(a).outerHeight()},f=$("<div/>").addClass("shockwave");void 0!=b&&f.css("z-index",b),f.css({left:e.x,top:e.y,width:e.w,height:e.h,opacity:0}).appendTo($("body")),f.velocity({scale:1,opacity:1},{duration:50,easing:"linear"}).velocity({scale:1.8,opacity:0},{duration:200,easing:"linear",complete:function(){$(this).remove()}})},Matrixificator:function(a,b){var c,d=this,e=$(a),f=e.text().trim(),g=e.attr("data-original"),h=0,i=1,j=!1,k=b;d.finishedEvent=new Event("matrixificationfinished"),void 0!==g&&!1!==g?f=g.trim():e.attr("data-original",f);var l=Helpers.matrixifyToList(f,k);$(a).css("white-space","pre-wrap");var m=function(){if(j)return void setTimeout(m,1e3/60);e.text(l[h]),h+=i,-1==i&&h>=0||1==i&&h<=l.length-1?setTimeout(m,1/30):(-1==i&&e.text(Array(f.length+1).join(" ")),window.dispatchEvent(d.finishedEvent),c&&c(e,d))};return d.matrixify=function(a){c=a,i=1,h=0,m()},d.matrixifyReversed=function(a){c=a,i=-1,h=l.length-1,m()},d.autoMatrixify=function(a){1==i?d.matrixifyReversed(a):-1==i&&d.matrixify(a)},d.pause=function(){j=!0},d.resume=function(){j=!1},d.reset=function(){h=1==i?0:l.length-1},d.updateText=function(a){f=a.trim(),e.attr("data-original",f),l=Helpers.matrixifyToList(f,k)},d.updateIterations=function(a){k=a,l=Helpers.matrixifyToList(f,k)},d}},$.fn.extend({switchClass:function(a,b){return this.each(function(){$(this).removeClass(a).addClass(b)})}})});var workspaces={about:{},experience:{},conclusions:{},mobile:{}},vars={},init=[],ondemand=[],brands,soundsloaded,preloader,spinner,currentpage,justgothere=!0,panhld=0;$(function(){if(onMobileDevice())return void(location.href="/mobile/");soundsloaded=new SoundsLoaded,preloader=new Preloader,new Helpers.Matrixificator($("#logo-text .text-orange"),30).matrixify(),new Helpers.Matrixificator($("#logo-text .text-white"),30).matrixify(),preloader.load(startExperience)}),$(function(){window.animationHintEntrance=function(a){var b=[];_.each(a,function(a,c){b[c]=function(b){genericHintAnimation(a,b)}}),async.series(b,function(a,b){})},window.genericHintAnimation=function(a,b){void 0!=a.resizeStrategy&&a.applyResizeStrategy(),a.animateConnector(),$({dummy:0}).animate({dummy:1},{duration:750,complete:function(){b(null)}})},window.reportTriggeredAnimation=function(a){window.triggeredAnimations||(window.triggeredAnimations=[]),window.triggeredAnimations[a]=!0},window.animationTriggered=function(a){return!!window.triggeredAnimations&&(a in window.triggeredAnimations&&window.triggeredAnimations[a])}});var assets={pathData:{quote:"M90.8,46 L73,46 L84.1,0.5 L130.2,0.5 L118.5,46 C118.5,46 110.1,91.5 58.2,91.5 L55.5,72.7 C55.5,72.7 87.4,73.9 90.8,46 M35.4,46 L17.6,46 L28.7,0.5 L74.8,0.5 L63.1,46 C63.1,46 54.7,91.5 2.8,91.5 L0.1,72.7 C0.1,72.7 32,73.9 35.4,46 Z",abs_decagon:"M215.39,13H175.61a60,60,0,0,0-35.27,11.46L60.43,82.52a60,60,0,0,0-21.8,30L8.11,206.46a60,60,0,0,0,0,37.08l30.52,93.94a60,60,0,0,0,21.8,30l79.91,58.06A60,60,0,0,0,175.61,437h98.78a60,60,0,0,0,35.27-11.46l79.91-58.06a60,60,0,0,0,21.8-30l30.52-93.94a60,60,0,0,0,0-37.08l-30.52-93.94a60,60,0,0,0-21.8-30L309.65,24.46A60,60,0,0,0,274.39,13Z",decagon_open:"M123.3,2043.3c4.3,26.4,10.6,52.5,18.9,78.2l266,818.1c34.1,105,100.6,196.4,190,261.3 l696.5,505.6c89.3,64.9,196.9,99.8,307.4,99.8h860.9c110.4,0,218-34.9,307.4-99.8l696.4-505.6c89.3-64.9,155.8-156.3,190-261.3 l266-818.1c8.4-25.7,14.7-51.9,18.9-78.4 M3942.5,1882.5c-4.3-28.3-10.9-56.4-19.8-83.9l-266-818.1c-34.1-105-100.6-196.4-190-261.3 l-696.4-505.6c-89.3-64.9-196.9-99.8-307.4-99.8H1602c-110.4,0-218,34.9-307.4,99.8L598.2,719.1 c-89.3,64.9-155.8,156.3-190,261.3l-266,818.1c-8.9,27.5-15.5,55.6-19.8,83.9",decagon_regular:"M274.39,13H175.61a60,60,0,0,0-35.27,11.46L60.43,82.52a60,60,0,0,0-21.8,30L8.11,206.46a60,60,0,0,0,0,37.08l30.52,93.94a60,60,0,0,0,21.8,30l79.91,58.06A60,60,0,0,0,175.61,437h98.78a60,60,0,0,0,35.27-11.46l79.91-58.06a60,60,0,0,0,21.8-30l30.52-93.94a60,60,0,0,0,0-37.08l-30.52-93.94a60,60,0,0,0-21.8-30L309.65,24.46A60,60,0,0,0,274.39,13Z",decagon_open_10:"M31.926646,1581.03186 L116.184777,1840.12934 L225.784314,2178.55494 C252.443661,2259.27352 303.540743,2329.62458 372.410722,2379.98112 L909.300348,2769.5038 C978.170327,2819.86034 1061.11052,2846.51969 1146.27232,2846.51969 L1809.79384,2846.51969 C1894.95565,2846.51969 1977.89584,2819.86034 2046.76582,2769.5038 L2583.65544,2379.98112 C2652.52542,2330.36511 2703.6225,2259.27352 2730.28185,2178.55494 L2935.41071,1548.3576 C2962.07006,1467.63903 2962.07006,1380.25561 2935.41071,1299.53703 L2730.28185,669.339693 C2703.6225,588.621115 2652.52542,518.27006 2583.65544,467.913516 L2046.76582,78.3908364 C1977.89584,28.7748297 1894.95565,1.37494534 1809.79384,1.37494534 L1145.53178,1.37494534 C1060.36998,1.37494534 977.42979,28.0342923 908.55981,78.3908364 L372.410722,467.172979 C303.540743,516.788986 252.443661,587.880577 225.784314,668.599156 L20.6554505,1298.7965 C-2.42078717,1368.66621 -5.52231404,1443.52961 11.3508699,1514.74167",decagon_open_20:"M38.8341108,1204.02141 L164.59807,1593.01782 C184.037969,1652.05391 221.297774,1703.50739 271.517511,1740.33725 L663.015465,2025.22703 C713.235202,2062.05689 773.714886,2081.55505 835.814561,2081.55505 L1319.65203,2081.55505 C1381.75171,2081.55505 1442.23139,2062.05689 1492.45113,2025.22703 L1883.94908,1740.33725 C1934.16882,1704.04901 1971.42862,1652.05391 1990.86852,1593.01782 L2140.44774,1132.10299 C2159.88764,1073.06689 2159.88764,1009.15626 2140.44774,950.120162 L1990.86852,489.205329 C1971.42862,430.169234 1934.16882,378.715757 1883.94908,341.8859 L1492.45113,56.9961205 C1442.23139,20.7078787 1381.75171,0.668103367 1319.65203,0.668103367 L835.274564,0.668103367 C773.174889,0.668103367 712.695205,20.1662632 662.475467,56.9961205 L271.517511,341.344284 C221.297774,377.632526 184.037969,429.627619 164.59807,488.663714 L15.0188525,949.578547 C-4.42104584,1008.61464 -4.42104584,1072.52528 15.0188525,1131.56137",
decagon_open_30:"M92.7640758,872.61741 L153.326908,1059.90124 C165.653734,1097.4027 189.28015,1130.08747 221.12445,1153.48288 L469.373026,1334.45327 C501.217326,1357.84868 539.567451,1370.23448 578.944811,1370.23448 L885.74581,1370.23448 C925.12317,1370.23448 963.473295,1357.84868 995.317595,1334.45327 L1243.56617,1153.48288 C1275.41047,1130.43152 1299.03689,1097.4027 1311.36371,1059.90124 L1406.21179,767.114548 C1418.53862,729.61308 1418.53862,689.015161 1406.21179,651.513693 L1311.36371,358.727005 C1299.03689,321.225537 1275.41047,288.540772 1243.56617,265.145361 L995.317595,84.1749748 C963.473295,61.1236139 925.12317,48.3937579 885.74581,48.3937579 L578.602399,48.3937579 C539.225039,48.3937579 500.874914,60.7795637 469.030614,84.1749748 L221.12445,264.80131 C189.28015,287.852671 165.653734,320.881487 153.326908,358.382955 L58.4788315,651.169643 C46.1520057,688.671111 46.1520057,729.26903 58.4788315,766.770498 C58.4788315,766.770498 65.6307739,788.850288 69.206745,799.890184",roboto_x_30:"M625 885l314 571h218l-423 -722l433 -734h-216l-322 582l-323 -582h-219l434 734l-423 722h217z"},patterns:{raw:function(a,b){return a.pattern(b.pw,b.ph,function(a){a.rect(b.r1w,b.r1h).fill("none"),a.rect(b.r2w,b.r2h).fill(b.c)}).transform({rotation:45*(b.m?-1:1)})},orange:function(a,b){return b.c="#fd664c",assetRepo.patterns.raw(a,b)},darkgrey:function(a,b){return b.c="#3d3d3d",assetRepo.patterns.raw(a,b)},grey:function(a,b){return b.c="#5e5e5e",assetRepo.patterns.raw(a,b)},lightgrey:function(a,b){return b.c="#bcbcbb",assetRepo.patterns.raw(a,b)}},textcontent:{whocaresIntro:"Criado pela comOn com o apoio da Netquest, o Who Cares Ã© o primeiro estudo sobre a empatia percebida das marcas em Portugal. Quais sÃ£o as marcas que melhor antevÃªm o que os utilizadores sentem, pensam e fazem? E que sabemos realmente sobre este assunto?",empathyIntro:"A empatia Ã© comummente definida como a capacidade de alguÃ©m se colocar no lugar do outro e, sem julgamentos, ver o mundo pelos seus olhos, sentindo e pensando como ele.",conclusionsIntro:"A empatia Ã© comummente definida como a capacidade de alguÃ©m se colocar no lugar do outro e, sem julgamentos, ver o mundo pelos seus olhos, sentindo e pensando como ele.",terms:["InteraÃ§Ã£o social","RelaÃ§Ãµes bidirecionais","CogniÃ§Ã£o","Comportamento","NeurÃ³nios-espelho","Customer equity","Hierarquia de necessidades","Comunicar","Interagir"],experienceSteps:["","Este Ã© o ecossistema das 50 marcas do Who Cares.","Ative filtros, refine setores. Tire as suas conclusÃµes.","quanto mais perto do centro, mais perto do coraÃ§Ã£o."]},applyPattern:function(a,b){$("#matrixsvg");$(a).attr("fill","url(#"+b+")")},glitchPresets:[[{angle:135,distance:100},{angle:70,distance:70},{angle:0,distance:65},{angle:100,distance:55},{angle:280,distance:25},{angle:150,distance:40},{angle:220,distance:50},{angle:270,distance:60},{angle:225,distance:100}],[{angle:45,distance:100},{angle:110,distance:65},{angle:70,distance:50},{angle:320,distance:60},{angle:135,distance:20},{angle:260,distance:50},{angle:180,distance:64},{angle:235,distance:75},{angle:270,distance:85}],[{angle:60,distance:85},{angle:110,distance:65},{angle:45,distance:50},{angle:320,distance:85},{angle:135,distance:15},{angle:260,distance:70},{angle:170,distance:80},{angle:225,distance:85},{angle:180,distance:60}],[{angle:110,distance:75},{angle:45,distance:85},{angle:280,distance:85},{angle:250,distance:63},{angle:190,distance:87},{angle:0,distance:32},{angle:45,distance:20},{angle:145,distance:85},{angle:110,distance:20}],[{angle:250,distance:85},{angle:225,distance:85},{angle:140,distance:20},{angle:135,distance:85},{angle:45,distance:85},{angle:340,distance:65},{angle:170,distance:65},{angle:90,distance:35},{angle:250,distance:50}]]};window.assetRepo=assets,ondemand.push({id:"about",order:0,ctorfunc:function(a){var b=a.$body.find("#about");b.map(function(){return new About($(this))}).toArray()}}),workspaces.about.Animation=function(){var a=this;return a.canvasTextAnimation=function(a){var b=$("#canvas_center_id"+a+".canvas_center_point"),c=$("#particules #part"+a),d=(c.find(".quote"),c.find(".quote_svg")),e=c.find(".quote_heading span"),f=c.find(".quote_quoter"),g=c.find(".quote_text"),h=[{e:b,p:"transition.fadeIn",o:{duration:1e3,sequenceQueue:!0}},{e:d,p:"callout.flash",o:{easing:"easeInOutCubic",delay:188,duration:250,sequenceQueue:!1,begin:function(){SND.play("matrix_low")}}},{e:e,p:"transition.slideLeftIn",o:{stagger:94,easing:"easeInOutCubic",delay:64,duration:750}},{e:f,p:"transition.slideDownIn",o:{stagger:64,easing:"easeInOutCubic",delay:188,duration:750,sequenceQueue:!1}},{e:g,p:"transition.slideUpIn",o:{stagger:30,easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}];$.Velocity.RunSequence(h),absolutehovers.forEach(function(a){void 0!=a.resizeStrategy&&a.applyResizeStrategy()})},a.rigTerms=function(){$(".terms").each(function(){Helpers.autoMatrixify($(this),assetRepo.textcontent.terms,5500+1e3*Math.random(),!0)})},a.animationWhoCares=function(){function b(){l.each(function(a){$(this).delay(200*a).velocity("transition.bounceIn",{duration:800})})}var c=new workspaces.about.Helpers;a.background=SVG("svg_bg").size("100%","100%").opacity(.5),a.backgroundBox=a.background.viewbox(0,0,100,100).attr("preserveAspectRatio","xMidYMid meet");var d=a.background.defs().path(window.assetRepo.pathData.decagon_regular);d.size(100).center(50,50),a.background.defs().path(window.assetRepo.pathData.decagon_open_10).size(100).center(50,50).marker("start",10,10,function(a){a.circle(4).center(5,5).fill("#3d3d3d")}),a.background.defs().path(window.assetRepo.pathData.decagon_open_20).size(100).center(50,50).marker("start",10,10,function(a){a.circle(4).center(5,5).fill("#3d3d3d")}),a.background.defs().path(window.assetRepo.pathData.decagon_open_30).size(100).center(50,50).marker("start",10,10,function(a){a.circle(4).center(5,5).fill("#3d3d3d")});var e=assetRepo.patterns.darkgrey(a.background,{pw:1,ph:.4,r1w:1,r1h:1,r2w:1,r2h:.2,m:!1}),f=(assetRepo.patterns.orange(a.background,{pw:1,ph:.5,r1w:1,r1h:1,r2w:1,r2h:.2,m:!1}),0),g=.9;SND.play("wosh_entrada_scroll"),f=2500-1500/17,f-=1500/17,g-=.04,pattern1=a.background.use(d).scale(.001).fill("none").stroke({color:e,width:3,opacity:"0.75"}),f-=1500/17,g-=.04,a.tunnelAnimation(pattern1,f,0,a.defaultEasing).scale(.94),pattern2=pattern1.clone().scale(.001).fill("none").stroke({color:e,width:6,opacity:"0.75"}),f-=1500/17,g-=.04,a.tunnelAnimation(pattern2,f,0,a.defaultEasing).scale(.82),sh.scenes.intro.particleCloud.alpha=0,sh.scenes.intro.particleCloud.scale=.5,sh.scenes.intro.looper.add(.8,1.1,DrawAnimation(sh.scenes.intro.particleCloud,{alpha:1,scale:1},"easeOutBack")),innerLine=a.background.use(d).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.25}),f-=1500/17,g-=.04,a.tunnelAnimation(innerLine,f,0,a.defaultEasing).scale(g),innerDashed=a.background.use(d).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.25,dasharray:".25px",opacity:"1"}),f-=1500/17,g-=.04,a.tunnelAnimation(innerDashed,f,0,a.defaultEasing).scale(g);for(var h=1;h<=3;h++)innerDashed=innerDashed.clone().scale(.001).fill("none").stroke({color:"#3d3d3d",width:.25,dasharray:".25px",opacity:"1"}),f-=1500/17,g-=.04,a.tunnelAnimation(innerDashed,f,0,a.defaultEasing).scale(g);innerLine2=a.background.use(d).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.25}),f-=1500/17,g-=.04,a.tunnelAnimation(innerLine2,f,0,a.defaultEasing).scale(g);for(var h=1;h<=4;h++)innerDashed=innerDashed.clone().scale(.001).fill("none").stroke({color:"#3d3d3d",width:.3,dasharray:".3px",opacity:"1"}),f-=1500/17,g-=.04,a.tunnelAnimation(innerDashed,f,0,a.defaultEasing).scale(g);innerLine3=a.background.use(d).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.35}),f-=1500/17,g-=.04,a.tunnelAnimation(innerLine3,f,0,a.defaultEasing).scale(g);for(var h=1;h<=4;h++)innerDashed=innerDashed.clone().scale(.001).fill("none").stroke({color:"#3d3d3d",width:.45,dasharray:".45px",opacity:"1"}),f-=1500/17,g-=.04,a.tunnelAnimation(innerDashed,f,0,a.defaultEasing).scale(g);c.svgPatterns(a.background),$("#who_cares .row").children(".animated").css("opacity",0);var i=a.bundleSelectors("whocares"),j=[{e:i.three_second_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:1250,duration:250,sequenceQueue:!1,begin:function(){SND.play("glitch_rectangulos")}}},{e:i.three_first_orange,p:{width:"18px"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}},{e:i.two_grey,p:{width:i.two_bar.width()-2*i.two_first_orange.width()},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}},{e:i.two_first_orange,p:{translateX:"30vw"},o:{easing:"easeInOutCubic",delay:34,duration:750,sequenceQueue:!1}},{e:i.w,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll",.5)}}},{e:i.w_pattern,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}},{e:i.h,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:i.h_pattern,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:0,duration:500,sequenceQueue:!1}},{e:i.o,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:i.o_pattern,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:0,duration:500,sequenceQueue:!1}},{e:i.one_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:30,duration:500,sequenceQueue:!1}},{e:i.one_grey,p:{width:i.one_bar.width()-i.one_orange.width()},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}},{e:i.c,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll",.5)}}},{e:i.a,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:i.r,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:i.e,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:i.s,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:i.four_first_orange,p:{translateX:"-35vw"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}},{e:i.four_grey,p:{width:i.four_bar.width()-3*i.four_first_orange.width()},o:{easing:"easeInOutCubic",delay:32,duration:750,sequenceQueue:!1,complete:function(){"toctrl"in window||(window.toctrl=[]),window.toctrl.push("whocares"),a.swapHintAnimation(window.hintGroup.whocares,1,3800,!0,[],"whocares")}}},{e:i.empathy,p:"transition.fadeIn",o:{easing:"easeInOutCubic",delay:425,duration:750,sequenceQueue:!1,complete:function(){scrollHint(!0);var a=i.empathy.find(".bars_text-description");a.attr("data-original",assetRepo.textcontent.whocaresIntro),new Helpers.Matrixificator(a,30).matrixify(),SND.play("matrix_medium",.5)}}},{e:i.terms,p:"transition.fadeIn",opacity:1,o:{easing:"easeInOutCubic",delay:425,duration:750,sequenceQueue:!1}}];window.seq=j,$.Velocity.RunSequence(j),$("body").css("overflow-y","auto");var k=$("#menu .navbar-right .it"),l=$("#menu .navbar-right .it_icon");justgothere?function(){k.each(function(a){$(this).delay(200*a).velocity("transition.slideDownIn",{duration:800})}),setTimeout(function(){b()},800)}():justgothere=!1,$("#about-nav").velocity({opacity:1},250),$("#about-nav .init .bul").each(function(a){$(this).delay(200*a).velocity({opacity:".3"},{duration:200})}),$("#about-nav .nav .bul").each(function(a){$(this).delay(200*a).velocity({translateX:"-50%"},{duration:800})}),$("#about-nav .nav .sep").each(function(a){$(this).delay(200*a).velocity("transition.fadeIn",{duration:800})})},a.animationEmpathy=function(){var b=$("#empathy");if(!b.hasClass("done")){b.addClass("done"),b.find(".row").children(".animated").css("opacity",0);var c=a.bundleSelectors("empathy"),d=[{e:c.seven_grey,p:{translateX:"65vw"},o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1,begin:function(){SND.play("glitch_rectangulos")}}},{e:c.seven_orange,p:{translateX:"60vw"},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}},{e:c.six_grey,p:{width:"100%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:c.five_grey,p:{translateX:"35vw"},o:{easing:"easeInOutCubic",delay:60,duration:750,sequenceQueue:!1}},{e:c.five_orange,p:{translateX:"35vw"},o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}},{e:c.e,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}},{e:c.e_pattern,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}},{e:c.four_grey,p:{translateX:"30vw"},o:{easing:"easeInOutCubic",delay:62,duration:750,sequenceQueue:!1}},{e:c.four_first_orange,p:{translateX:"25vw"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:c.m,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}},{e:c.m_pattern,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:62,duration:500,sequenceQueue:!1}},{e:c.one_grey,p:{width:c.one_bar.width()-2*c.one_orange.width()},o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1,begin:function(){SND.play("glitch_rectangulos")}}},{e:c.one_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}},{e:c.two_grey,p:"transition.slideLeftBigIn",o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}},{e:c.two_orange,p:{width:c.two_bar.width()-2*c.two_grey.width()},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}},{e:c.p,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}},{e:c.a1,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:c.t,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:c.i,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:c.a2,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:c.three_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:94,duration:500,sequenceQueue:!1}},{e:c.three_grey,p:{translateX:"-50vw",width:"25px"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:c.eight_first_grey,p:{width:"50px"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}},{e:c.eight_first_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:32,duration:750,sequenceQueue:!1,complete:function(){"toctrl"in window||(window.toctrl=[]),window.toctrl.push("empathy"),a.swapHintAnimation(window.hintGroup.empathy,1,3800,!0,[],"empathy")}}},{e:c.empathy,p:"transition.fadeIn",opacity:1,o:{easing:"easeInOutCubic",delay:425,duration:750,sequenceQueue:!1,complete:function(){var a=c.empathy.find(".bars_text-description");a.attr("data-original",assetRepo.textcontent.empathyIntro),new Helpers.Matrixificator(a,30).matrixify(),SND.play("matrix_medium",.5)}}},{e:c.terms,p:"transition.fadeIn",o:{easing:"easeInOutCubic",delay:62,duration:500,sequenceQueue:!1}}];$.Velocity.RunSequence(d)}},a.swapHintCount=0,a.swapHintAnimation=function(b,c,d,e,f,g){for(var h=[],i=0;i<b.length;i++)b[i].fullyExpanded&&(a.swapHintCount--,b[i].onScreen()&&b[i].reverseAnimateConnector()),1==e&&b[i].applyResizeStrategy(),-1==f.indexOf(i)&&h.push(i);for(h.length<c&&(c=h.length);h.length>c;)h.splice(Math.floor(Math.random()*h.length),1);for(var i=0;i<h.length;i++)(b[i].fullyRetracted||0==b[i].animationCount&&a.swapHintCount<=c)&&(a.swapHintCount++,b[h[i]].onScreen()&&b[h[i]].animateConnector());-1!=window.toctrl.indexOf(g)&&setTimeout(a.swapHintAnimation.bind(null,b,c,d,!1,h,g),d)},a.defaultEasing=function(a){return Utils.Easing.easeOutBack(a)},a.tunnelAnimation=function(a,b,c,d){return d=d||function(a){return Math.pow(a,10)},a.animate({duration:b,ease:d,delay:c})},a.scrollAnimation=function(b,c){var d=[];switch(b){case"whocares":var e=a.bundleSelectors("whocares");if("enter"==c){for(var f=0;f<window.hintGroup.whocares.length;f++)window.hintGroup.whocares[f].reset();d.push({e:e.three_second_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:94,duration:250,sequenceQueue:!1,begin:function(){SND.play("glitch_rectangulos")}}}),d.push({e:e.three_first_orange,p:{width:"18px"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}}),d.push({e:e.two_grey,p:{width:e.two_bar.width()-2*e.two_first_orange.width()},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}}),d.push({e:e.two_first_orange,p:{translateX:"30vw"},o:{easing:"easeInOutCubic",delay:34,duration:750,sequenceQueue:!1}}),d.push({e:e.w,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}}),d.push({e:e.w_pattern,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}}),d.push({e:e.h,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.h_pattern,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:0,duration:500,sequenceQueue:!1}}),d.push({e:e.o,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.o_pattern,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:0,duration:500,sequenceQueue:!1}}),d.push({e:e.one_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:30,duration:500,sequenceQueue:!1}}),d.push({e:e.one_grey,p:{width:e.one_bar.width()-e.one_orange.width()},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}}),d.push({e:e.c,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}}),d.push({e:e.a,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.r,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.e,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.s,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.four_first_orange,p:{translateX:"-35vw"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}}),d.push({e:e.four_grey,p:{width:e.four_bar.width()-3*e.four_first_orange.width()},o:{easing:"easeInOutCubic",delay:32,duration:750,sequenceQueue:!1}}),d.push({e:e.empathy,p:"transition.fadeIn",o:{easing:"easeInOutCubic",delay:425,duration:750,sequenceQueue:!1,complete:function(){var a=e.empathy.find(".bars_text-description");a.attr("data-original",assetRepo.textcontent.whocaresIntro),new Helpers.Matrixificator(a,30).matrixify();for(var b=0;b<window.hintGroup.whocares.length;b++)window.hintGroup.whocares[b].applyResizeStrategy()}}}),d.push({e:e.scroll,p:"transition.fadeIn",opacity:1,o:{easing:"easeInOutCubic",delay:425,duration:750,sequenceQueue:!1}})}"leave"==c&&(d.push({e:e.four_grey,p:{width:0},o:{easing:"easeInOutCubic",delay:32,duration:250,sequenceQueue:!1,begin:function(){SND.play("glitch_rectangulos")}}}),d.push({e:e.four_first_orange,p:{translateX:"35vw"},o:{easing:"easeInOutCubic",delay:0,duration:250,sequenceQueue:!1}}),d.push({e:e.s,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}}),d.push({e:e.e,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.r,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.a,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.c,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.one_grey,p:{width:0},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.one_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:30,duration:250,sequenceQueue:!1}}),d.push({e:e.o_pattern,p:{translateY:"100%"},o:{easing:"easeInOutCubic",delay:0,duration:250,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}}),d.push({e:e.o,p:{translateY:"100%"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.h_pattern,p:{translateY:"100%"},o:{easing:"easeInOutCubic",delay:0,duration:250,sequenceQueue:!1}}),d.push({e:e.h,p:{translateY:"100%"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.w_pattern,p:{translateY:"100%"},o:{easing:"easeInOutCubic",delay:0,duration:250,sequenceQueue:!1}}),d.push({e:e.w,p:{translateY:"100%"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.two_first_orange,p:{translateX:"-30vw"},o:{easing:"easeInOutCubic",delay:34,duration:250,sequenceQueue:!1,begin:function(){SND.play("glitch_rectangulos")}}}),d.push({e:e.two_grey,p:{width:0},o:{easing:"easeInOutCubic",delay:0,duration:250,sequenceQueue:!1}}),d.push({e:e.three_first_orange,p:{width:0},o:{easing:"easeInOutCubic",delay:34,duration:250,sequenceQueue:!1}}),d.push({e:e.three_second_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:0,duration:250,sequenceQueue:!1}}),d.push({e:e.empathy,p:"transition.fadeOut",opacity:0,o:{easing:"easeInOutCubic",delay:425,duration:250,sequenceQueue:!1}}),d.push({e:e.terms,p:"transition.fadeOut",opacity:0,o:{easing:"easeInOutCubic",delay:425,duration:250,sequenceQueue:!1}}),d.push({e:e.scroll,p:"transition.fadeOut",opacity:0,o:{easing:"easeInOutCubic",delay:425,duration:250,sequenceQueue:!1}}));break;case"empathy":var e=a.bundleSelectors("empathy");if("enter"==c){for(var f=0;f<window.hintGroup.whocares.length;f++)window.hintGroup.whocares[f].reset();d.push({e:e.seven_grey,p:{translateX:"65vw"},o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}}),d.push({e:e.seven_orange,p:{translateX:"60vw"},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}}),d.push({e:e.six_grey,p:{width:"100%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.five_grey,p:{translateX:"35vw"},o:{easing:"easeInOutCubic",delay:60,duration:750,sequenceQueue:!1}}),d.push({e:e.five_orange,p:{translateX:"35vw"},o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}}),d.push({e:e.empathy,p:"transition.fadeIn",o:{easing:"easeInOutCubic",delay:425,duration:750,sequenceQueue:!1,complete:function(){var a=e.empathy.find(".bars_text-description");a.attr("data-original",assetRepo.textcontent.empathyIntro),new Helpers.Matrixificator(a,30).matrixify()}}}),d.push({e:e.e,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.e_pattern,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}}),d.push({e:e.four_grey,p:{translateX:"30vw"},o:{easing:"easeInOutCubic",delay:62,duration:750,sequenceQueue:!1}}),d.push({e:e.four_first_orange,p:{translateX:"25vw"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.m,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.m_pattern,p:{translateY:"-100%"},o:{easing:"easeInOutCubic",delay:62,duration:500,sequenceQueue:!1}}),d.push({e:e.one_grey,p:{width:e.one_bar.width()-2*e.one_orange.width()},o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}}),d.push({e:e.one_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}}),d.push({e:e.two_grey,p:"transition.slideLeftBigIn",o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}}),d.push({e:e.two_orange,p:{width:e.two_bar.width()-2*e.two_grey.width()},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}}),d.push({e:e.p,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.a1,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.t,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.i,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.a2,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.three_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:94,duration:500,sequenceQueue:!1}}),d.push({e:e.three_grey,p:{translateX:"-50vw",width:"25px"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.eight_first_grey,p:{width:"50px"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}}),d.push({e:e.eight_first_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:32,duration:750,sequenceQueue:!1,complete:function(){for(var a=0;a<window.hintGroup.whocares.length;a++)window.hintGroup.whocares[a].applyResizeStrategy()}}})}"leave"==c&&(d.push({e:e.eight_first_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:0,duration:250,sequenceQueue:!1}}),d.push({e:e.eight_first_grey,p:{width:"0px"},o:{easing:"easeInOutCubic",delay:0,duration:250,sequenceQueue:!1}}),d.push({e:e.three_grey,p:{translateX:"50vw",width:"25px"},o:{easing:"easeInOutCubic",delay:94,duration:250,sequenceQueue:!1}}),d.push({e:e.three_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.a2,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.i,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.t,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.a1,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.p,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.two_orange,p:{width:0},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.two_grey,p:"transition.slideLeftBigOut",o:{easing:"easeInOutCubic",delay:30,duration:250,sequenceQueue:!1}}),d.push({e:e.one_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.one_grey,p:{width:0},o:{easing:"easeInOutCubic",delay:30,duration:250,sequenceQueue:!1}}),d.push({e:e.m_pattern,p:{translateY:"100%"},o:{easing:"easeInOutCubic",delay:62,duration:250,sequenceQueue:!1}}),d.push({e:e.m,p:{translateY:"100%"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.four_first_orange,p:{translateX:"-25vw"},o:{easing:"easeInOutCubic",delay:94,duration:250,sequenceQueue:!1}}),d.push({e:e.four_grey,p:{translateX:"-30vw"},o:{easing:"easeInOutCubic",delay:62,duration:250,sequenceQueue:!1}}),d.push({e:e.e_pattern,p:{translateY:"100%"},o:{easing:"easeInOutCubic",delay:0,duration:250,sequenceQueue:!1}}),d.push({e:e.e,p:{translateY:"100%"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.five_orange,p:{translateX:"-35vw"},o:{easing:"easeInOutCubic",delay:30,duration:250,sequenceQueue:!1}}),d.push({e:e.five_grey,p:{translateX:"-35vw"},o:{easing:"easeInOutCubic",delay:60,duration:250,sequenceQueue:!1}}),d.push({e:e.six_grey,p:{width:0},o:{easing:"easeInOutCubic",delay:94,duration:250,sequenceQueue:!1}}),d.push({e:e.seven_orange,p:{translateX:"-60vw"},o:{easing:"easeInOutCubic",delay:64,duration:250,sequenceQueue:!1}}),d.push({e:e.seven_grey,p:{translateX:"-65vw"},o:{easing:"easeInOutCubic",delay:30,duration:250,sequenceQueue:!1}}),d.push({e:e.empathy,p:"transition.fadeOut",o:{easing:"easeInOutCubic",delay:425,duration:250,sequenceQueue:!1}}))}$.Velocity.RunSequence(d)},a.bundleSelectors=function(a){switch(a){case"whocares":return{w:$("#who_cares .-who .-w"),w_pattern:$("#who_cares .-who .-w-pattern"),h:$("#who_cares .-who .-h"),h_pattern:$("#who_cares .-who .-h-pattern"),o:$("#who_cares .-who .-o"),o_pattern:$("#who_cares .-who .-o-pattern"),one_bar:$("#who_cares .bars_bar.-one"),one_orange:$("#who_cares .bars_bar.-one .-orange"),one_grey:$("#who_cares .bars_bar.-one .-grey"),empathy:$("#who_cares .bars_text"),two_bar:$("#who_cares .bars_bar.-two"),two_first_orange:$("#who_cares .bars_bar.-two .-orange"),two_grey:$("#who_cares .bars_bar.-two .-grey"),three_bar:$("#who_cares .bars_bar.-three"),three_first_orange:$("#who_cares .bars_bar.-three .-orange.-first"),three_second_orange:$("#who_cares .bars_bar.-three .-orange.-second"),c:$("#who_cares .-cares .-c"),a:$("#who_cares .-cares .-a"),r:$("#who_cares .-cares .-r"),e:$("#who_cares .-cares .-e"),s:$("#who_cares .-cares .-s"),four_bar:$("#who_cares .bars_bar.-four"),four_first_orange:$("#who_cares .bars_bar.-four .-orange"),four_grey:$("#who_cares .bars_bar.-four .-grey"),scroll:$("#who_cares .wrp_scroll"),terms:$("#who_cares .terms"),two_orange:$("#who_cares .bars_bar.-two .-orange")};case"empathy":return{one_orange:$("#empathy .bars_bar.-one .-orange"),one_grey:$("#empathy .bars_bar.-one .-grey"),one_bar:$("#empathy .bars_bar.-one"),e:$("#empathy .-em .-e"),e_pattern:$("#empathy .-em .-e-pattern"),m:$("#empathy .-em .-m"),m_pattern:$("#empathy .-em .-m-pattern"),two_grey:$("#empathy .bars_bar.-two .-grey"),two_orange:$("#empathy .bars_bar.-two .-orange"),two_bar:$("#empathy .bars_bar.-two"),p:$("#empathy .-pa .-p"),a1:$("#empathy .-pa .-a"),three_orange:$("#empathy .bars_bar.-three .-orange"),three_grey:$("#empathy .bars_bar.-three .-grey"),empathy:$("#empathy .bars_text"),terms:$("#empathy .terms"),four_first_orange:$("#empathy .bars_bar.-four .-orange"),four_grey:$("#empathy .bars_bar.-four .-grey"),five_orange:$("#empathy .bars_bar.-five .-orange"),five_grey:$("#empathy .bars_bar.-five .-grey"),six_grey:$("#empathy .bars_bar.-six .-grey"),seven_orange:$("#empathy .bars_bar.-seven .-orange"),seven_grey:$("#empathy .bars_bar.-seven .-grey"),t:$("#empathy .-tia .-t"),i:$("#empathy .-tia .-i"),a2:$("#empathy .-tia .-a"),eight_first_orange:$("#empathy .bars_bar.-eight .-orange.-first"),eight_first_grey:$("#empathy .bars_bar.-eight .-grey.-first")}}},a},workspaces.about.Helpers=function(){var a=this;return a.setMenuStyle=function(a){var b=$("#about-nav").find("li");b.removeClass("active previous"),b.find("a[data-id="+a+"]").parent().addClass("active"),b.each(function(a,b){if($(b).hasClass("active"))return!1;$(b).addClass("previous")})},a.svgPatterns=function(a){var b=assetRepo.patterns.lightgrey(a,{pw:2,ph:1,r1w:1,r1h:1,r2w:1,r2h:2,m:!0}),c=assetRepo.patterns.grey(a,{pw:2,ph:1,r1w:1,r1h:1,r2w:1,r2h:2,m:!0}),d=assetRepo.patterns.orange(a,{pw:2,ph:1,r1w:1,r1h:1,r2w:1,r2h:2,m:!0}),e=(assetRepo.patterns.orange(a,{pw:2,ph:1,r1w:1,r1h:1,r2w:1,r2h:2,m:!0}),assetRepo.patterns.orange(a,{pw:4,ph:2,r1w:2,r1h:2,r2w:2,r2h:4,m:!0})),f=0,g=$(".bars_bar .-grey"),h=$(".bars_bar .-orange"),i=$(".quote_svg"),j=$(".quote_link-btn");$(".submitbtn").each(function(){var a="submitpattern"+f;f++,$(this).attr("id",a);var b=SVG(a).size("100%","100%");b.rect("100%",25).radius(7).size("98%","98%").center(50,50).x("1%").y("1%").fill("none").stroke({color:c,width:2}),b.rect("100%",25).radius(7).size("98%","98%").center(50,50).x("1%").y("1%").fill("url(#orangePattern2)")}),g.each(function(){var a="greypattern"+f;f++,$(this).attr("id",a),SVG(a).size("100%","25px").rect("100%",25).size("100%","100%").center(0,0).fill(b)}),h.each(function(){var a="orangepattern"+f;f++,$(this).attr("id",a),SVG(a).size("100%","25px").rect("100%",25).size("100%","100%").center(0,0).fill(d)}),i.each(function(){var a="quotepattern"+f;f++,$(this).attr("id",a),SVG(a).size("100%","100%").path(window.assetRepo.pathData.quote).fill(e).center(50,50)}),j.each(function(){var a="buttonpattern"+f;f++,$(this).attr("id",a)
;var b=SVG(a).size("100%","100%"),d=(b.rect("100%","100%").radius(7).center(0,0).fill("none").stroke({color:c,width:2}),b.rect("100%","100%").radius(7).center(0,0).fill("url(#orangePattern2)"),$(".quote_link"));d.each(function(){d.on("mouseenter",function(){var a=$(this).find(".quote_link-icon"),b=a.attr("src").replace("_negative.svg",".svg").replace(".svg","_negative.svg");a.attr("src",b)}).on("mouseleave",function(){var a=$(this).find(".quote_link-icon"),b=a.attr("src").replace("_negative","");a.attr("src",b)})})})},a.lastScrollIndex=0,a.scrollerIndexChanged=function(b){0==b?$("#about-nav .init").addClass("-unreachable").css("pointer-events","none"):$("#about-nav .init").removeClass("-unreachable").css("pointer-events","auto");var c=[0,1,2];if(scrollHint(-1!=$.inArray(b,c)?!0:!1),SND.uniquePlay("wosh_entrada_scroll"),b>=3&&(animationTriggered("what_is_empathy")||reportTriggeredAnimation("what_is_empathy")),b>=5){if(!animationTriggered("about_part1")){reportTriggeredAnimation("about_part1");var d=new workspaces.about.Animation;window.sh.scenes.empathy.neurology.transition(1),d.canvasTextAnimation(1)}var e=$("#part2"),f=e.find(".quote_heading span"),g=e.find(".quote_quoter"),h=e.find(".quote_text");if("1"!=f.attr("data-alreadyfired")){var i=[{e:f,p:"transition.slideLeftIn",o:{stagger:240,easing:"easeInOutCubic",delay:64,duration:750}},{e:g,p:"transition.slideDownIn",o:{easing:"easeInOutCubic",delay:188,duration:750,sequenceQueue:!1}},{e:h,p:"transition.slideUpIn",o:{easing:"easeInOutCubic",delay:188,duration:750,sequenceQueue:!1}}];$.Velocity.RunSequence(i),f.attr("data-alreadyfired","1")}}if(b>=6){animationTriggered("about_part3")||reportTriggeredAnimation("about_part3");var e=$("#part3"),f=e.find(".quote_heading span");if("1"!=f.attr("data-alreadyfired")){var j=[{e:f,p:"transition.slideLeftIn",o:{stagger:240,easing:"easeInOutCubic",delay:64,duration:750}}];$.Velocity.RunSequence(j),f.attr("data-alreadyfired","1")}}if(b>=7){animationTriggered("about_part4")||reportTriggeredAnimation("about_part4");var e=$("#part4"),f=e.find(".quote_heading span");if("1"!=f.attr("data-alreadyfired")){var k=[{e:f,p:"transition.slideLeftIn",o:{stagger:240,easing:"easeInOutCubic",delay:64,duration:750}}];$.Velocity.RunSequence(k),f.attr("data-alreadyfired","1")}}b>=8&&(animationTriggered("who_cares_brands")||reportTriggeredAnimation("who_cares_brands"));var d=new workspaces.about.Animation;0==a.lastScrollIndex&&0!=b?d.scrollAnimation("whocares","leave"):0==b&&d.scrollAnimation("whocares","enter"),2==a.lastScrollIndex&&2!=b?d.scrollAnimation("empathy","leave"):2==b&&d.scrollAnimation("empathy","enter"),a.lastScrollIndex=b},a},workspaces.about.Hints=function(){var a,b=this,c=config.items.idData.map(function(a){return{brand:a[1],category:config.items.categories[a[2]]}});window.hintGroup={whocares:[],empathy:[],part1:[],part3:[],part4:[]};for(var d=[{g:window.hintGroup.whocares,h:$(".text_who_cares"),s:!0,f:!1,l:!0,r:!1,ocd:!0,aord:"PTH",st:function(){var a=$(".text_who_cares"),b=$(".text_who_cares .-w"),c=a.offset(),d=b.offset(),e={x:d.left-c.left+10,y:d.top-c.top};return{pivot:{x:e.x,y:e.y},hover:window.Helpers.angledPoint(e,180,-45)}}},{g:window.hintGroup.whocares,h:$(".text_who_cares"),s:!1,f:!0,l:!0,r:!1,ocd:!0,aord:"PTH",st:function(){var a=$(".text_who_cares"),b=$(".text_who_cares .-o"),c=a.offset(),d=b.offset(),e={x:d.left-c.left,y:d.top-c.top};return{pivot:{x:e.x,y:e.y},hover:window.Helpers.angledPoint(e,180,-45)}}},{g:window.hintGroup.whocares,h:$(".text_who_cares"),s:!0,f:!1,l:!0,r:!0,ocd:!0,aord:"PTH",st:function(){var a=$(".text_who_cares"),b=$(".text_who_cares .-c"),c=a.offset(),d=b.offset(),e={x:d.left-c.left+20,y:d.top-c.top-20};e.y+=b.height();var f=window.Helpers.angledPoint(e,180,135);return{pivot:{x:e.x,y:e.y},hover:f}}},{g:window.hintGroup.whocares,h:$(".text_who_cares"),s:!1,f:!0,l:!0,r:!1,ocd:!0,aord:"PTH",st:function(){var a=$(".text_who_cares"),b=$(".text_who_cares .-r"),c=a.offset(),d=b.offset(),e={x:d.left-c.left,y:d.top-c.top-20};e.y+=b.height(),e.x+=b.width();var f=window.Helpers.angledPoint(e,180,45);return{pivot:{x:e.x,y:e.y},hover:f}}},{g:window.hintGroup.whocares,h:$(".text_who_cares"),s:!0,f:!1,l:!0,r:!1,ocd:!0,aord:"PTH",st:function(){var a=$(".text_who_cares"),b=$(".text_who_cares .-s"),c=a.offset(),d=b.offset(),e={x:d.left-c.left-20,y:d.top-c.top-20};e.y+=b.height(),e.x+=b.width();var f=window.Helpers.angledPoint(e,180,45);return{pivot:{x:e.x,y:e.y},hover:f}}},{g:window.hintGroup.empathy,h:$(".text_empathy"),s:!0,f:!1,l:!0,r:!1,ocd:!0,aord:"PTH",st:function(){var a=$(".text_empathy"),b=$(".text_empathy .img_container.-em .-e"),c=a.offset(),d=b.offset(),e={x:d.left-c.left+10,y:d.top-c.top};return{pivot:{x:e.x,y:e.y},hover:window.Helpers.angledPoint(e,180,-45)}}},{g:window.hintGroup.empathy,h:$(".text_empathy"),s:!1,f:!0,l:!0,r:!1,ocd:!0,aord:"PTH",st:function(){var a=$(".text_empathy"),b=$(".text_empathy .img_container.-em .-m"),c=a.offset(),d=b.offset(),e={x:d.left-c.left-10,y:d.top-c.top};e.x+=b.width();var f=window.Helpers.angledPoint(e,180,-45);return{pivot:{x:e.x,y:e.y},hover:f}}},{g:window.hintGroup.empathy,h:$(".text_empathy"),s:!0,f:!1,l:!0,r:!1,ocd:!0,aord:"PTH",st:function(){var a=$(".text_empathy"),b=$(".text_empathy .img_container.-pa .-a"),c=a.offset(),d=b.offset(),e={x:d.left-c.left,y:d.top-c.top+15};e.x+=b.width()/2;var f=window.Helpers.angledPoint(e,180,-45);return{pivot:{x:e.x,y:e.y},hover:f}}},{g:window.hintGroup.empathy,h:$(".text_empathy"),s:!1,f:!0,l:!0,r:!0,ocd:!0,aord:"PTH",st:function(){var a=$(".text_empathy"),b=$(".text_empathy .img_container.-tia .-t"),c=a.offset(),d=b.offset(),e={x:d.left-c.left-5,y:d.top-c.top-20};e.y+=b.height(),e.x+=b.width()/2;var f=window.Helpers.angledPoint(e,180,135);return{pivot:{x:e.x,y:e.y},hover:f}}},{g:window.hintGroup.empathy,h:$(".text_empathy"),s:!1,f:!0,l:!0,r:!0,ocd:!0,aord:"PTH",st:function(){var a=$(".text_empathy"),b=$(".text_empathy .img_container.-tia .-a"),c=a.offset(),d=b.offset(),e={x:d.left-c.left-20,y:d.top-c.top-20};e.y+=b.height(),e.x+=b.width();var f=window.Helpers.angledPoint(e,180,135);return{pivot:{x:e.x,y:e.y},hover:f}}}],e=[{t:"DimensÃ£o cognitiva",d:"Mapeia a capacidade de pensar como o outro pensa",g:window.hintGroup.part1,h:$("#part1 .canvas_center_point"),r:!1,ocd:!0,aord:"PTH",st:function(){return{pivot:{x:"50%",y:"50%"},hover:{x:"350%",y:"-150%"}}}},{t:"DimensÃ£o afetiva",d:"Mapeia a capacidade de sentir o que o outro sente",g:window.hintGroup.part1,h:$("#part1 .canvas_center_point"),r:!1,ocd:!0,aord:"PTH",st:function(){return{pivot:{x:"115%",y:"145%"},hover:{x:"350%",y:"250%"}}}},{t:"DimensÃ£o comportamental",d:"Agir em funÃ§Ã£o do que o outro estÃ¡ a experienciar",g:window.hintGroup.part1,h:$("#part1 .canvas_center_point"),r:!1,ocd:!0,aord:"PTH",st:function(){return{pivot:{x:"250%",y:"0%"},hover:{x:"425%",y:"65%"}}}},{t:"EstÃ£o mais satisfeitas com a vida",d:"",mhw:"150px",g:window.hintGroup.part3,h:$("#part3 .canvas_center_point"),ocd:!0,aord:"PTH",r:!1,st:function(){return{pivot:{x:"45%",y:"-90%"},hover:{x:"68%",y:"-275%"}}}},{t:"TÃªm um propÃ³sito bem definido",d:"",mhw:"150px",g:window.hintGroup.part3,h:$("#part3 .canvas_center_point"),ocd:!0,aord:"PTH",r:!1,st:function(){return{pivot:{x:"125%",y:"-45%"},hover:{x:"265%",y:"-200%"}}}},{t:"SÃ£o mais autÃ³nomas",d:"",mhw:"150px",g:window.hintGroup.part3,h:$("#part3 .canvas_center_point"),ocd:!0,aord:"PTH",r:!1,st:function(){return{pivot:{x:"145%",y:"15%"},hover:{x:"365%",y:"-75%"}}}},{t:"Sofrem menos de depressÃ£o e sÃ£o mais imunes a sentimentos negativos",d:"",mhw:"150px",g:window.hintGroup.part3,h:$("#part3 .canvas_center_point"),ocd:!0,aord:"PTH",r:!1,st:function(){return{pivot:{x:"145%",y:"70%"},hover:{x:"365%",y:"165%"}}}},{t:"Aceitam melhor os seus defeitos",d:"",mhw:"150px",g:window.hintGroup.part3,h:$("#part3 .canvas_center_point"),ocd:!0,aord:"PTH",r:!1,st:function(){return{pivot:{x:"125%",y:"145%"},hover:{x:"265%",y:"295%"}}}},{t:"Agem melhor sobre o contexto",d:"",mhw:"150px",g:window.hintGroup.part3,h:$("#part3 .canvas_center_point"),ocd:!0,aord:"PTH",r:!1,st:function(){return{pivot:{x:"45%",y:"190%"},hover:{x:"68%",y:"375%"}}}},{t:"Maiores Ã­ndices de fidelizaÃ§Ã£o de clientes",d:"",mhw:"150px",g:window.hintGroup.part4,h:$("#part4 .canvas_center_point"),ocd:!0,aord:"PTH",r:!1,st:function(){return{pivot:{x:"115%",y:"-65%"},hover:{x:"250%",y:"-190%"}}}},{t:"NÃ­veis elevados de criatividade",d:"",mhw:"150px",g:window.hintGroup.part4,h:$("#part4 .canvas_center_point"),ocd:!0,aord:"PTH",r:!1,st:function(){return{pivot:{x:"155%",y:"5%"},hover:{x:"350%",y:"-50%"}}}},{t:"Produtividade de uma organizaÃ§Ã£o",d:"",mhw:"150px",g:window.hintGroup.part4,h:$("#part4 .canvas_center_point"),ocd:!0,aord:"PTH",r:!1,st:function(){return{pivot:{x:"155%",y:"70%"},hover:{x:"350%",y:"140%"}}}},{t:"Customer equity",d:"",mhw:"150px",g:window.hintGroup.part4,h:$("#part4 .canvas_center_point"),ocd:!0,aord:"PTH",r:!1,st:function(){return{pivot:{x:"115%",y:"145%"},hover:{x:"275%",y:"270%"}}}}],f=0;f<d.length;f++){var g=d[f];a=function(){return c.splice(Math.floor(Math.random()*c.length),1)[0]}();var h=new AbsoluteHover(g.h,"commonstyle",{x:0,y:0},{x:0,y:0},[{key:"title",value:a.brand},{key:"description",value:a.category}],{drawDecagonStroke:g.s,drawDecagonFill:g.f,drawStraightLine:g.l,maxHoverWidth:g.mhw,onDemandCanvasDraw:g.ocd,animationOrder:g.aord});h.$el.appendTo(h.host),g.r&&h.$hover.css("text-align","right"),h.resizeStrategy=g.st,absolutehovers.push(h),g.g.push(h)}for(var f=0;f<e.length;f++){var g=e[f],h=new AbsoluteHover(g.h,"commonstyle",{x:0,y:0},{x:0,y:0},[{key:"title",value:g.t},{key:"description",value:g.d}],{drawDecagonStroke:!1,drawDecagonFill:!1,drawStraightLine:!0,maxHoverWidth:g.mhw,onDemandCanvasDraw:g.ocd,animationOrder:g.aord});h.$el.appendTo(h.host),g.r&&h.$hover.css("text-align","right"),h.resizeStrategy=g.st,absolutehovers.push(h),g.g.push(h)}return c=[],b},workspaces.about.Scroller=function(){function a(){h.appendTo("#stage").addClass("fixed").removeClass("unfixed").css("bottom",""),window.sh.scenes.empathy.forced=!0,window.sh.scenes.empathy.refresh()}function b(){var a=i.outerHeight();h.appendTo("#stage").addClass("fixed unfixed").css("bottom",a),window.sh.scenes.empathy.forced=!1,window.sh.scenes.empathy.refresh()}function c(){h.appendTo(g).removeClass("fixed unfixed").css("bottom",""),window.sh.scenes.empathy.forced=!1,window.sh.scenes.empathy.refresh()}var d=this,e=new workspaces.about.Helpers,f=new workspaces.about.Animation,g=$("#neurochemistry"),h=g.find(".neuro-content"),i=$("#brands");return window.scroller=new Scroller,window.scroller.off("before").on("before",function(a,d){e.scrollerIndexChanged(a);var g=window.scroller.$elements.eq(a),h=g.attr("id"),i=a-3;i>=1&&i<=4?($("#particules").find(".particule.active").removeClass("active"),$("#particules").find("#part"+i).addClass("active"),animationTriggered("about_part1")&&(window.sh.scenes.empathy.neurology.transition(i),f.canvasTextAnimation(i)),e.setMenuStyle("part"+i)):(e.setMenuStyle(h),3===a&&f.animationEmpathy()),a>=8?b():a<4&&c()}).off("after").on("after",function(b,c){e.scrollerIndexChanged(b),b>=4&&b<=7&&a()}),$("#about-nav").off("click").on("click",".init",function(){var a=$(this).attr("data-ga-clickevent");gaEvent({eventCategory:"Menu SOBRE - Menu Lateral",eventAction:"Click",eventLabel:a}),window.scroller.scrollTo(0,!1,!0)}).on("click","li a",function(){var a=$(this).parent().index(),b=$(this).attr("data-ga-clickevent");gaEvent({eventCategory:"Menu SOBRE - Menu Lateral",eventAction:"Click",eventLabel:b}),window.scroller.scrollTo(a,!1,!0)}),d},Bounds.prototype.refresh=function(){this.right=this.left+this.width,this.bottom=this.top+this.height,this.center=new Point(this.left+this.width/2,this.top+this.height/2)},Bounds.prototype.intersects=function(a,b){return b=Utils.validate(b,1),Point.isPoint(a)?!(a.x-b>this.right||a.x+b<this.left||a.y-b>this.bottom||a.y+b<this.top):a instanceof Bounds&&Bounds.intersects(this,a)},Bounds.intersects=function(a,b){return!(b.left>a.right||b.right<a.left||b.top>a.bottom||b.bottom<a.top)},Bounds.distance=function(a,b){a instanceof Point&&(a=new Bounds(a.x,a.y,1,1)),b instanceof Point&&(b=new Bounds(b.x,b.y,1,1));var c=new Point;if(c.xDir=a.center.x<b.center.x?1:-1,c.yDir=a.center.y<b.center.y?1:-1,c.i=Bounds.intersects(a,b),!c.i){var d=a.center.y<b.center.y?a:b,e=b.center.y<a.center.y?a:b,f=a.center.x<b.center.x?a:b,g=b.center.x<a.center.x?a:b;c.x=Math.max(0,f.center.x==g.center.x?0:g.left-f.right),c.y=Math.max(0,d.center.y==e.center.y?0:e.top-d.bottom)}return c},Drawman.prepareContext=function(a){var b=["globalAlpha","globalCompositeOperation","fillStyle","filter","lineWidth","strokeStyle"];return a.states=[],a.drawSave=function(){var c=_.map(b,function(b){return a[b]}),d=_.object(b,c);a.states.push(d)},a.drawRestore=function(){var b=a.states.pop();_.each(b,function(b,c){a[c]=b})},a},DrawObject.isObject=function(a){return a instanceof DrawObject},DrawObject.prototype.getBounds=function(){return new Bounds(this.position.x,this.position.y,this.scale,this.scale)},DrawObject.prototype.update=function(a,b){},DrawObject.prototype.canDraw=function(){return!this.dead&&this.alpha>0&&this.scale>0},DrawObject.prototype.draw=function(a){this.canDraw()&&(a.globalAlpha=this.alpha,a.beginPath(),a.arc(this.position.x,this.position.y,this.scale,0,this.circ),a.fillStyle=this.color,a.fill())},Point.equal=function(a,b){return new Point(a,a,b?a:0)},Point.zero=function(){return new Point},Point.one=function(){return new Point(1,1,1)},Point.left=function(){return new Point(-1,0,0)},Point.right=function(){return new Point(1,0,0)},Point.up=function(){return new Point(0,-1,0)},Point.down=function(){return new Point(0,1,0)},Point.isPoint=function(a){return a instanceof Point||"object"==typeof a&&null!==a&&"x"in a&&"y"in a},Point.isNull=function(a){return null===a||a instanceof Point&&a.isNull()},Point.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y,e=a.z-b.z;return Math.sqrt(c*c+d*d+e*e)},Point.lerp=function(a,b,c,d){return new Point(Utils.lerp(a.x,b.x,c,d),Utils.lerp(a.y,b.y,c,d),Utils.lerp(a.z,b.z,c,d))},Point.add=function(a,b,c,d){var e=new Point(a),f=new Point(b,c,d);return new Point(e.x+f.x,e.y+f.y,e.z+f.z)},Point.sub=function(a,b,c,d){var e=new Point(a),f=new Point(b,c,d);return new Point(e.x-f.x,e.y-f.y,e.z-f.z)},Point.mult=function(a,b,c,d){var e=new Point(a),f=new Point(b,c,d);return new Point(e.x*f.x,e.y*f.y,e.z*f.z)},Point.div=function(a,b,c,d){var e=new Point(a),f=new Point(b,c,d);return new Point(e.x/f.x,e.y/f.y,e.z/f.z)},Point.prototype.clone=function(){return new Point(this)},Point.prototype.isEqual=function(a){return Point.isPoint(a)&&a.x===this.x&&a.y===this.y&&a.z===this.z},Point.prototype.isZero=function(){return 0===this.x&&0===this.y&&0===this.z},Point.prototype.isNull=function(){return null===this.x&&null===this.y&&null===this.z},Point.prototype.set=function(a,b,c){return Point.isPoint(a)?(this.x=a.x,this.y=a.y,this.z=a.z,this):null===a?(this.x=null,this.y=null,this.z=null,this):(this.x="number"==typeof a?a:this.x,this.y="number"==typeof b?b:this.y,this.z="number"==typeof c?c:this.z,this)},Point.prototype.setSpherical=function(a,b,c,d){return d=Point.isPoint(d)?d:{},this.set((d.x||0)+a*Math.sin(b)*Math.cos(c),(d.y||0)+a*Math.cos(b),(d.z||0)+a*Math.sin(b)*Math.sin(c))},Point.prototype.add=function(a,b,c){return Point.isPoint(a)&&(c=a.z,b=a.y,a=a.x),this.set(this.x+("number"==typeof a?a:0),this.y+("number"==typeof b?b:a),this.z+("number"==typeof c?c:!0===b?a:0))},Point.prototype.sub=function(a,b,c){return Point.isPoint(a)&&(c=a.z,b=a.y,a=a.x),this.set(this.x-("number"==typeof a?a:0),this.y-("number"==typeof b?b:a),this.z-("number"==typeof c?c:!0===b?a:0))},Point.prototype.mult=function(a,b,c){return Point.isPoint(a)&&(c=a.z,b=a.y,a=a.x),this.set(this.x*("number"==typeof a?a:0),this.y*("number"==typeof b?b:a),this.z*("number"==typeof c?c:!0===b?a:0))},Point.prototype.div=function(a,b,c){return Point.isPoint(a)&&(a=a.x,b=a.y,c=a.z),this.set(this.x/("number"==typeof a?a:0),this.y/("number"==typeof b?b:a),this.z/("number"==typeof c?c:!0===b?a:0))},Point.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},Point.prototype.normalize=function(){var a=this.clone(),b=a.mag();return b>0&&a.div(b),a},FlowCloud.prototype=Object.create(DrawObject.prototype),FlowCloud.prototype.constructor=FlowCloud,FlowCloud.prototype.createParticle=function(){var a=this.settings.end/2,b=Math.random()>=.5?-1:1,c=(Point.add(this.position,1*a*this.scale),Utils.rangeColor(this.options.color)),d=new DrawObject(this.position,c);d.velocityX=Utils.range(this.options.velocityX),d.velocityY=Utils.range(this.options.velocityY),d.offsetX=0,d.offsetY=0,d.directionX=1,d.directionY=b,d.variation=Utils.range(Math.random()>.97?this.options.verticalVariationRare:this.options.verticalVariation),d.size=Utils.range(Math.random()>.95&&d.velocityY>=120?this.options.sizeVariationRare:this.options.sizeVariation),d.scale=d.size*this.scale,this.particles.push(d)},FlowCloud.prototype.update=function(a){if(this.animRunning!==this.settings.animating&&(this.animRunning=this.settings.animating,this.animTime=0),this.animRunning){this.animTime+=a;var b=.5;if(this.animTime<=2.5?b=.2:this.animTime<=5&&(b=.35),Math.random()>=b)for(var c=0;c<this.settings.burst;c++)this.createParticle()}for(var d=this.settings.end/2,c=this.particles.length-1;c>=0;c--){var e=this.particles[c],f=1,g=e.offsetX/((this.settings.end-3*e.size)*e.directionX),h=1-g;h<=this.settings.dampenEnd?f=h/this.settings.dampenEnd:g<=this.settings.dampenStart&&(f=g/this.settings.dampenStart);var i=e.variation*f;(e.offsetY<=-i&&e.directionY<0||e.offsetY>=i&&e.directionY>0)&&(e.directionY*=-1);var j=e.velocityX*e.directionX*a,k=Utils.clamp(-i,i,e.velocityY*e.directionY*a);if(e.offsetX+=j,e.offsetY+=k,g>=1)this.particles.splice(c,1),e.dead=!0;else{var l=Math.max(0,1-Math.abs(e.offsetY)/this.settings.bound);e.alpha=this.alpha,e.scale=this.scale*e.size*l,e.position.x=this.position.x+(e.offsetX-d*e.directionX)*this.scale,e.position.y=this.position.y+e.offsetY*this.scale}}},FlowCloud.prototype.draw=function(a){if(this.canDraw())for(var b=0;b<this.particles.length;b++)this.particles[b].draw(a)},GlitchCloud.prototype=Object.create(DrawObject.prototype),GlitchCloud.prototype.constructor=GlitchCloud,GlitchCloud.prototype.generate=function(a,b){this.points.length=0,this.options=_.extend(this.options,b),this.options.radius=Utils.validate(this.options.radius,100),this.options.velocity=Utils.validate(this.options.velocity,100);for(var c=0;c<a;c++)for(var d=0;d<a;d++){var e=Utils.random(0,this.options.radius-10),f=Math.random()*Math.PI*2,g=new Point(Math.cos(f)*e,Math.sin(f)*e);g.current=new Point(g.x,g.y),g.velocity=new Point(Math.random()>=.5?-1:1,Math.random()>=.5?-1:1).normalize().mult(Utils.random(.2*this.options.velocity,this.options.velocity),Utils.random(.2*this.options.velocity,this.options.velocity)),this.points.push(g)}this.connect()},GlitchCloud.prototype.connect=function(){var a=this,b=function(b){return a.points[b]},c=Math.sqrt(a.points.length);if(!(c<2)){for(var d=[],e=[],f=[],g=0,h=c-1;g<=h;g++)for(var i=0,j=c-1;i<=j;i++){var k=g*c+i;i<j&&g<h?d.push([k,k+1,k+c,k].map(b)):g<h?e.push(k):f.push(k)}d=d.concat(e.map(b),f.reverse().map(b)),a.connector=new(Connector.bind.apply(Connector,[Connector].concat(d))),a.connector.position=a.position}},GlitchCloud.prototype.update=function(a){for(var b=(this.options.radius,0);b<this.points.length;b++){var c=this.points[b];c.current.x+=c.velocity.x*a,c.current.y+=c.velocity.y*a;var d=c.current.x,e=c.current.y,f=Math.sqrt(d*d+e*e);if(f>=this.options.radius&&!c.prevOut){var g=d/f,h=e/f,i=-h,j=g,k=-(g*c.velocity.x+h*c.velocity.y),l=i*c.velocity.x+j*c.velocity.y;c.velocity.x=k*g+l*i,c.velocity.y=k*h+l*j,c.prevOut=!0}c.prevOut=f>=this.options.radius,c.set(c.current)}this.connector&&(this.connector.alpha=this.alpha,this.connector.scale=this.scale)},GlitchCloud.prototype.draw=function(a){this.canDraw()&&this.connector&&this.connector.draw(a)},GlobeCloud.prototype=Object.create(DrawObject.prototype),GlobeCloud.prototype.constructor=GlobeCloud,GlobeCloud.prototype.generate=function(a,b){this.points.length=0,this.options=_.extend(this.options,b),this.options.radius=Utils.validate(this.options.radius,100),this.options.radiusOut=Utils.validate(this.options.radiusOut,150),this.options.speed=Utils.collect(this.options.speed,.3,_.isNumber);for(var c=0;c<a;c++){var d=this.randomSpherePoint(this.position,Utils.variation(this.options.radius,this.options.radiusVariation));d.color=Utils.rangeColor(this.options.colorIn),d.speed=Utils.range(this.options.speed),d.out=this.outPointFromPoint(this.position,Utils.variation(this.options.radiusOut,this.options.radiusOutVariation),d),d.out.color=Utils.rangeColor(this.options.colorOut),d.out.lineColor=Utils.rangeColor(this.options.colorLine),this.points.push(d)}},GlobeCloud.prototype.randomSpherePoint=function(a,b){var c=Math.random(),d=Math.random(),e=new Point;return e.radius=b,e.theta=2*Math.PI*c,e.phi=Math.acos(2*d-1),e.setSpherical(b,e.theta,e.phi),e},GlobeCloud.prototype.outPointFromPoint=function(a,b,c){var d=new Point;return d.radius=b,d.theta=c.theta,d.phi=c.phi,d.setSpherical(b,d.theta,d.phi),d},GlobeCloud.prototype.findZeroZIndex=function(){for(var a=0;a<this.points.length;a++)if(this.points[a].z<0)return a;return 0},GlobeCloud.prototype.update=function(a){for(var b=0;b<this.points.length;b++){var c=this.points[b];c.phi+=this.settings.rotate*a,c.out.phi=c.phi;var d=c.radius*this.settings.pointInRadius,e=c.out.radius*this.settings.pointOutRadius;c.setSpherical(d,c.theta,c.phi),c.out.setSpherical(Math.max(e,d),c.out.theta,c.out.phi)}this.points.sort(function(a,b){return b.z-a.z}),this.zeroIndex=this.findZeroZIndex()},GlobeCloud.prototype.draw=function(a,b,c){if(this.canDraw()){b=Math.max(Utils.validate(b,0),0),c=Math.min(Utils.validate(c,this.points.length),this.points.length),a.globalAlpha=this.alpha;var d=a.getLineDash?a.getLineDash():[];a.setLineDash&&a.setLineDash([this.options.dashSize,this.options.dashSpace]);for(var e=b;e<c;e++){var f=this.points[e];f.z<f.out.z?(this.drawPoint3D(a,f.out),this.drawPointLine(a,f,f.out),this.drawPoint3D(a,f)):(this.drawPoint3D(a,f),this.drawPointLine(a,f,f.out),this.drawPoint3D(a,f.out))}a.setLineDash&&a.setLineDash(d)}},GlobeCloud.prototype.drawPoint3D=function(a,b){var c=this.settings.fov/(this.settings.fov+b.z);a.beginPath(),a.arc(this.position.x+b.x*this.scale,this.position.y+b.y*this.scale,this.settings.pointScale*c*this.scale,0,this.circ),a.fillStyle=b.color,a.fill()},GlobeCloud.prototype.drawPointLine=function(a,b,c){a.beginPath(),a.moveTo(this.position.x+b.x*this.scale,this.position.y+b.y*this.scale),a.lineTo(this.position.x+b.out.x*this.scale,this.position.y+b.out.y*this.scale),a.strokeStyle=c.lineColor,a.stroke()},LazyGlitchCloud.prototype=Object.create(DrawObject.prototype),LazyGlitchCloud.prototype.constructor=GlitchCloud,LazyGlitchCloud.prototype.generate=function(a,b){this.points.length=0,this.options=_.extend(this.options,b),this.options.radius=Utils.validate(this.options.radius,100),this.options.velocity=Utils.validate(this.options.velocity,100);for(var c=0;c<a;c++)for(var d=0;d<a;d++){var e=Utils.random(0,this.options.radius-10),f=Math.random()*Math.PI*2,g=new Point(Math.cos(f)*e,Math.sin(f)*e);g.current=new Point(g.x,g.y),g.velocity=new Point(Math.random()>=.5?-1:1,Math.random()>=.5?-1:1).normalize().mult(Utils.random(.2*this.options.velocity,this.options.velocity),Utils.random(.2*this.options.velocity,this.options.velocity)),g.enabled=!1,this.points.push(g)}this.connect(),this.changeActivePoint(),"timed"==this.options.triggerMode&&(this.toH=setInterval(this.changeActivePoint,this.options.timedTriggerToggle))},LazyGlitchCloud.prototype.connect=function(){var a=this,b=function(b){return a.points[b]},c=Math.sqrt(a.points.length);if(!(c<2)){for(var d=[],e=[],f=[],g=0,h=c-1;g<=h;g++)for(var i=0,j=c-1;i<=j;i++){var k=g*c+i;i<j&&g<h?d.push([k,k+1,k+c,k].map(b)):g<h?e.push(k):f.push(k)}d=d.concat(e.map(b),f.reverse().map(b)),a.connector=new(Connector.bind.apply(Connector,[Connector].concat(d))),a.connector.position=a.position}},LazyGlitchCloud.prototype.update=function(a){for(var b=(this.options.radius,0);b<this.points.length;b++){var c=this.points[b];if(c.enabled){c.current.x+=c.velocity.x*a,c.current.y+=c.velocity.y*a;var d=c.current.x,e=c.current.y,f=Math.sqrt(d*d+e*e);if(f>=this.options.radius&&!c.prevOut){var g=d/f,h=e/f,i=-h,j=g,k=-(g*c.velocity.x+h*c.velocity.y),l=i*c.velocity.x+j*c.velocity.y;c.velocity.x=k*g+l*i,c.velocity.y=k*h+l*j,c.prevOut=!0,"edge"==this.options.triggerMode&&this.changeActivePoint()}c.prevOut=f>=this.options.radius,c.set(c.current)}}this.connector&&(this.connector.alpha=this.alpha,this.connector.scale=this.scale)},LazyGlitchCloud.prototype.draw=function(a){this.canDraw()&&this.connector&&this.connector.draw(a)},LineCloud.prototype=Object.create(DrawObject.prototype),LineCloud.prototype.constructor=LineCloud,LineCloud.prototype.generate=function(a,b){this.particles.length=0,this.options=_.extend(this.options,b),this.options.startDelay=Utils.collect(this.options.startDelay,1,_.isNumber),this.options.startAcceleration=Utils.collect(this.options.startAcceleration,.05,_.isNumber),this.options.heightSpeed=Utils.collect(this.options.heightSpeed,2,_.isNumber),this.options.heightVariation=Utils.collect(this.options.heightVariation,5,_.isNumber);for(var c=a/2,d=0;d<a;d++){var e=Point.add(this.position,(d-c)*this.options.spacing*this.scale),f=Utils.rangeColor(this.options.color),g=new DrawObject(e,f),b=Math.abs((d>a/2?1:0)-d/a),h=b<this.options.positionDampening?b/this.options.positionDampening:1;g.size=Utils.range(this.options.size),g.delay=Utils.range(this.options.startDelay),g.accel=Utils.range(this.options.startAcceleration),g.speed=Utils.range(this.options.heightSpeed)*(h/.5+.5),g.variation=Utils.range(this.options.heightVariation)*h,g.direction=Math.random()>=.5?-1:1,g.velocity=0,g.offsetX=d-c,g.offsetY=0,g.scale=this.scale*g.size,this.particles.push(g)}},LineCloud.prototype.update=function(a){for(var b=0;b<this.particles.length;b++){var c=this.particles[b];if(this.settings.animating&&c.delay>0)c.delay-=a,c.force=0;else if(this.settings.animating||0!==c.offsetY){(c.offsetY<=-c.variation&&c.direction<0||c.offsetY>=c.variation&&c.direction>0)&&(c.direction*=-1);var d=c.accel*a;c.velocity=this.settings.animating?Math.min(c.velocity+d,c.speed):Math.max(c.velocity-d,0!==c.offsetY?this.settings.minimumStableSpeed:0),c.offsetY+=c.velocity*c.direction,!this.settings.animating&&Math.abs(c.offsetY)<this.settings.minimumStableDistance&&(c.offsetY=0,c.delay=Utils.range(this.options.startDelay))}c.alpha=this.alpha,c.scale=this.scale*c.size,c.position.x=this.position.x+c.offsetX*this.options.spacing*this.scale,c.position.y=this.position.y+c.offsetY*this.scale}},LineCloud.prototype.draw=function(a){if(this.canDraw())for(var b=0;b<this.particles.length;b++)this.particles[b].draw(a)},ParticleCloud.prototype=Object.create(DrawObject.prototype),ParticleCloud.prototype.constructor=ParticleCloud,ParticleCloud.prototype.generate=function(a,b){this.particles.length=0,this.options=_.extend(this.options,b),this.options.radius=Utils.validate(this.options.radius,100),this.options.fill=Utils.validate(this.options.fill,0),this.options.size=Utils.collect(this.options.size,.3,_.isNumber),this.options.speed=Utils.collect(this.options.speed,.3,_.isNumber),this.options.alpha=Utils.collect(this.options.alpha,.2,_.isNumber);for(var c=0;c<a;c++){var d=Utils.range(this.options.size),e=Utils.rangeColor(this.options.color),f=Math.random()*Math.PI*2,g=Utils.random(this.options.fill,this.options.radius),h=new Point(this.position.x+Math.cos(f)*g,this.position.y+Math.sin(f)*g),i=new Decagon(h,e,d);i.speed=Utils.range(this.options.speed),i.angle=f,i.distance=g,i.distanceO=g,i.alphaO=Utils.range(this.options.alpha),this.particles.push(i)}},ParticleCloud.prototype.vacateCenter=function(a,b){a=Utils.validate(a,null),b=Utils.validate(b,1e-4)||1e-4,radius=Utils.validate(this.options.radius,100);for(var c=0;c<this.particles.length;c++){var d=this.particles[c];d.fillEnd=Utils.lerp(d.distanceO,radius,a||0),d.fillStart=d.distance,d.fillTimeTotal=b,d.fillTimeElapsed=0}},ParticleCloud.prototype.update=function(a){for(var b=0;b<this.particles.length;b++){var c=this.particles[b];if(null!=c.fillTimeElapsed&&c.fillTimeElapsed<c.fillTimeTotal){c.fillTimeElapsed+=a;var d=Utils.Easing.easeInOutQuadratic(c.fillTimeElapsed/c.fillTimeTotal);c.distance=Utils.lerp(c.fillStart,c.fillEnd,d)}0!==this.settings.rotate&&(c.angle+=c.speed*this.settings.rotate*a),c.alpha=this.alpha*c.alphaO,c.scale=this.scale,c.position.x=this.position.x+Math.cos(c.angle)*c.distance*this.scale,c.position.y=this.position.y+Math.sin(c.angle)*c.distance*this.scale}},ParticleCloud.prototype.draw=function(a){if(this.canDraw())for(var b=0;b<this.particles.length;b++)this.particles[b].draw(a)},ReactiveGlitchCloud.prototype=Object.create(DrawObject.prototype),ReactiveGlitchCloud.prototype.constructor=ReactiveGlitchCloud,ReactiveGlitchCloud.prototype.generate=function(a,b){this.points.length=0,this.options=_.extend(this.options,b),this.options.radius=Utils.validate(this.options.radius,100);for(var c=0;c<a;c++)for(var d=0;d<a;d++){var e=Utils.random(0,this.options.radius-10),f=Math.random()*Math.PI*2,g=new Point(Math.cos(f)*e,Math.sin(f)*e);g.current=new Point(g.x,g.y),g=new DrawObject(g),this.points.push(Electrostatic(g))}this.connect()},ReactiveGlitchCloud.prototype.generateFromPreset=function(a,b){this.points.length=0,this.options=_.extend(this.options,b),this.options.radius=Utils.validate(this.options.radius,100);for(var c=0;c<a.length;c++){var d=this.options.radius*(a[c].distance/100),e=a[c].angle*(Math.PI/180),f=new Point(Math.cos(e)*d,Math.sin(e)*d);f.current=new Point(f.x,f.y),f=new DrawObject(f),this.points.push(Electrostatic(f))}this.connect()},ReactiveGlitchCloud.prototype.connect=function(){var a=this,b=function(b){return a.points[b]},c=Math.sqrt(a.points.length);if(!(c<2)){for(var d=[],e=[],f=[],g=0,h=c-1;g<=h;g++)for(var i=0,j=c-1;i<=j;i++){var k=g*c+i;i<j&&g<h?d.push([k,k+1,k+c,k].map(b)):g<h?e.push(k):f.push(k)}d=d.concat(e.map(b),f.reverse().map(b)),a.connector=new(Connector.bind.apply(Connector,[Connector].concat(d))),a.connector.position=a.position}},ReactiveGlitchCloud.prototype.update=function(a){this.connector&&(this.connector.alpha=this.alpha,this.connector.scale=this.scale)},ReactiveGlitchCloud.prototype.draw=function(a){this.canDraw()&&this.connector&&this.connector.draw(a)},Neurology.prototype=Object.create(DrawObject.prototype),Neurology.prototype.constructor=Neurology,Neurology.prototype.recenter=function(a){this.position.set(a),this.outerDecagon.position.set(Point.add(this.position,2===this.stage?205:0)),this.innerDecagon.position.set(Point.add(this.position,2===this.stage?-205:0)),this.particleCloud.position.set(this.position),this.globeCloud.position.set(this.position),this.mirroredGlobeCloud=$.extend(!0,{},this.globeCloud),this.lineCloud.position.set(this.position),this.flowCloud.position.set(this.position)},Neurology.prototype.transition=function(a,b){if(this.stage!==a||!0===b){var c=this;this.stage=a,_.each(this.looper.loops,_.bind(function(a,b){this.looper.remove(b)},this));var d=0;switch(a){case 1:for(var e=0;e<window.hintGroup.part1.length;e++)window.hintGroup.part1[e].reset();void 0!=this.laststage||this.laststage>a?(c.looper.add(.1,.8,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part1[0].animateConnector()})),c.looper.add(.1,1.6,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part1[1].animateConnector()})),c.looper.add(.1,2.4,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part1[2].animateConnector()})),this.looper.add(1,0,DrawAnimation(this.innerDecagon,{alpha:.1,scale:.9,mask:.5,"position.x":this.position.x},"easeInOutBack")),
this.looper.add(1,0,DrawAnimation(this.outerDecagon,{alpha:.1,scale:.9,mask:.9,"position.x":this.position.x},"easeInOutBack")),this.looper.add(1,0,DrawAnimation(this.particleCloud,{alpha:1,scale:.85,"settings.rotate":5},"easeInOutBack")),this.looper.add(.8,DrawAnimation(this.globeCloud,{alpha:0,scale:.2,"settings.pointOutRadius":0,"position.x":this.position.x},"easeInOutBack")),this.looper.add(.8,DrawAnimation(this.mirroredGlobeCloud,{alpha:0,scale:.2,"settings.pointOutRadius":0,"position.x":this.position.x},"easeInOutBack")),this.looper.add(.25,DrawAnimation([this.lineCloud],{"position.x":this.position.x-205,alpha:0,scale:0},"easeInOutCubic")),this.looper.add(.25,DrawAnimation([this.flowCloud],{alpha:0,scale:.5},"easeInOutCubic"))):(c.looper.add(.1,.8,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part1[0].animateConnector()})),c.looper.add(.1,1.6,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part1[1].animateConnector()})),c.looper.add(.1,2.4,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part1[2].animateConnector()})),this.looper.add(1,.8,DrawAnimation(this.innerDecagon,{alpha:.1,scale:.9,mask:.5,"position.x":this.position.x},"easeInOutBack")),this.looper.add(1,1,DrawAnimation(this.outerDecagon,{alpha:.1,scale:.9,mask:.9,"position.x":this.position.x},"easeInOutBack")),this.looper.add(1,1.2,DrawAnimation(this.particleCloud,{alpha:1,scale:.85,"settings.rotate":5},"easeInOutBack")),this.looper.add(.8,DrawAnimation(this.globeCloud,{alpha:0,scale:.2,"settings.pointOutRadius":0,"position.x":this.position.x},"easeInOutBack")),this.looper.add(.8,DrawAnimation(this.mirroredGlobeCloud,{alpha:0,scale:.2,"settings.pointOutRadius":0,"position.x":this.position.x},"easeInOutBack")),this.looper.add(.25,DrawAnimation([this.lineCloud],{"position.x":this.position.x-205,alpha:0,scale:0},"easeInOutCubic")),this.looper.add(.25,DrawAnimation([this.flowCloud],{alpha:0,scale:.5},"easeInOutCubic"))),this.lineCloud.settings.animating=!1,this.flowCloud.settings.animating=!1;break;case 2:c.looper.add(2.2,DrawAnimation({dummy:0},{dummy:1},"linear",function(){c.flowCloud.settings.animating=!1,c.lineCloud.settings.animating=!1,c.mirroredGlobeCloud.settings.rotate=-.4,c.looper.add(2,DrawAnimation(c.lineCloud,{scale:0,"position.x":c.mirroredGlobeCloud.position.x},"easeInOutCubic")),c.looper.add(2,DrawAnimation(c.mirroredGlobeCloud,{alpha:1,scale:.6,"settings.pointOutRadius":.8},"easeInOutCubic"))})),this.looper.add(.8,DrawAnimation(this.outerDecagon,{alpha:.15,scale:.47,mask:.87,"position.x":this.position.x+250},"easeInOutCubic",function(){c.looper.add(5,DrawAnimation(c.outerDecagon,{mask:0},"easeInOutCubic"))})),this.looper.add(.8,DrawAnimation(this.innerDecagon,{alpha:.15,scale:.85,mask:0,"position.x":this.position.x-250},"easeInOutBack")),this.looper.add(1.25,DrawAnimation(this.particleCloud,{alpha:1,scale:1.25,"settings.rotate":11.5},"easeInOutBack")),this.looper.add(.8,DrawAnimation(this.globeCloud,{alpha:1,scale:.6,"settings.pointOutRadius":.8,"position.x":this.position.x-250},"easeInOutBack")),this.looper.add(.8,DrawAnimation(this.mirroredGlobeCloud,{alpha:0,scale:.2,"settings.pointOutRadius":.8,"position.x":this.position.x+250},"easeInOutBack")),this.looper.add(.5,DrawAnimation([this.flowCloud],{alpha:1,scale:1.25},"easeInOutBack")),this.looper.add(.5,DrawAnimation([this.lineCloud],{"position.x":this.position.x,alpha:1,scale:1.25},"easeInOutBack")),this.lineCloud.settings.animating=!0,this.flowCloud.settings.animating=!0;break;case 3:case 4:var f=3===a,g=4===a;if(f){for(var e=0;e<window.hintGroup.part3.length;e++)window.hintGroup.part3[e].reset();c.looper.add(.1,1,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part3[0].animateConnector()})),c.looper.add(.1,2,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part3[1].animateConnector()})),c.looper.add(.1,3,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part3[2].animateConnector()})),c.looper.add(.1,4,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part3[3].animateConnector()})),c.looper.add(.1,5,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part3[4].animateConnector()})),c.looper.add(.1,6.5,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part3[5].animateConnector()}))}if(g){for(var e=0;e<window.hintGroup.part4.length;e++)window.hintGroup.part4[e].reset();c.looper.add(.1,1,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part4[0].animateConnector()})),c.looper.add(.1,2,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part4[1].animateConnector()})),c.looper.add(.1,3,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part4[2].animateConnector()})),c.looper.add(.1,4,DrawAnimation({dummy:0},{dummy:1},"linear",function(){window.hintGroup.part4[3].animateConnector()}))}this.looper.add(.8,d,DrawAnimation(this.outerDecagon,{alpha:.1,scale:.9,mask:.9,"position.x":this.position.x},"easeInOutBack")),this.looper.add(.8,d,DrawAnimation(this.innerDecagon,{alpha:.05,scale:.9,mask:.1,"position.x":this.position.x},"easeInOutBack")),this.looper.add(.25,d+=.2,DrawAnimation(this.particleCloud,{alpha:0,scale:2},"easeInOutCubic")),this.looper.add(.45,d,DrawAnimation(this.globeCloud,{alpha:1,scale:1,"position.x":this.position.x},"easeInOutBack")),this.looper.add(.8,d,DrawAnimation(this.globeCloud,{"settings.pointOutRadius":1},"easeInOutBack")),this.looper.add(.45,d,DrawAnimation(this.mirroredGlobeCloud,{alpha:0,scale:1,"position.x":this.position.x},"easeInOutBack")),this.looper.add(.25,DrawAnimation([this.lineCloud],{"position.x":this.position.x-205,alpha:0,scale:0},"easeInOutCubic")),this.looper.add(.25,DrawAnimation([this.flowCloud],{alpha:0,scale:.5},"easeInOutCubic")),this.lineCloud.settings.animating=!1,this.flowCloud.settings.animating=!1}var h=$("#piz"),i=$("#pif"),j=$("#pis");setTimeout(function(){var b={transform:"scale(1)",opacity:1},c={transform:"scale(0)",opacity:0};h.css(1==a?b:c),i.css(3==a?b:c),j.css(4==a?b:c)},100),this.laststage=a,this.trigger("stage:"+a),this.trigger("stage",a)}},Neurology.prototype.update=function(a){this.looper.update(a),this.particleCloud.alpha>0&&this.particleCloud.update(a),this.globeCloud.alpha>0&&this.globeCloud.update(a),this.mirroredGlobeCloud.alpha>0&&this.mirroredGlobeCloud.update(a),this.lineCloud.update(a),this.flowCloud.update(a)},Neurology.prototype.draw=function(a){this.outerDecagon.draw(a),this.globeCloud.draw(a,0,this.globeCloud.zeroIndex),this.mirroredGlobeCloud.draw(a,0,this.mirroredGlobeCloud.zeroIndex),this.innerDecagon.draw(a),this.globeCloud.draw(a,this.globeCloud.zeroIndex),this.mirroredGlobeCloud.draw(a,this.mirroredGlobeCloud.zeroIndex),this.particleCloud.draw(a),this.lineCloud.draw(a),this.flowCloud.draw(a)},Decagon.prototype=Object.create(DrawObject.prototype),Decagon.prototype.constructor=Decagon,Decagon.prototype.setPoints=function(a,b){a="number"==typeof a?a:this.edges,b="number"==typeof b?b:this.radius;var c=1/a,d=0,e=2*Math.PI,f=1.08*b,g=c/3;this.points.length=0;for(var h=0;h<=a;h++){var i={x:b*Math.sin(e*d),y:b*Math.cos(e*d)};if(0!==h){var j=e*(d-g),k=e*(d-(c-g));i.cp1={x:f*Math.sin(j),y:f*Math.cos(j)},i.cp2={x:f*Math.sin(k),y:f*Math.cos(k)}}this.points.push(i),d+=c}return this.points},Decagon.prototype.draw=function(a){if(this.canDraw()&&(a.globalAlpha=this.alpha,a.fillStyle=this.color,this.drawPoints(a),this.mask)){var b=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",a.globalAlpha=1,a.fillStyle="black",this.drawPoints(a,this.mask),a.globalCompositeOperation=b}},Decagon.prototype.drawPoints=function(a,b){a.beginPath();for(var c=this.scale*Utils.validate(b,1),d=0;d<this.points.length;d++){var e=this.points[d];0===d?a.moveTo(this.position.x+e.x*c,this.position.y+e.y*c):a.bezierCurveTo(this.position.x+e.cp1.x*c,this.position.y+e.cp1.y*c,this.position.x+e.cp2.x*c,this.position.y+e.cp2.y*c,this.position.x+e.x*c,this.position.y+e.y*c)}a.fill()},DecagonBrand.prototype=Object.create(Decagon.prototype),DecagonBrand.prototype.constructor=DecagonBrand,DecagonBrand.prototype.update=function(a,b){var c=b?Point.distance(b.pointer,this.position):1/0,d=c<this.radius*this.scale;return this.hovering!==d&&(d?(this.imageOver&&(this.image=new DrawImage(null,this.imageOver)),this.maskOver&&(this.mask=this.maskOver),this.color=this.colorOver,this.trigger("mouseenter")):this.hovering&&(this.imageOut&&(this.image=new DrawImage(null,this.imageOut)),this.maskOut&&(this.mask=this.maskOut),this.color=this.colorOut,this.trigger("mouseleave")),this.hovering=d),this.hovering&&b&&b.clicked&&this.trigger("click"),this.hovering},DecagonBrand.prototype.draw=function(a){Decagon.prototype.draw.call(this,a),this.image.position=this.position,this.image.alpha=this.alpha,this.image.scale=this.scale,this.image.size=this.radius,this.image.draw(a)},DrawImage.prototype=Object.create(DrawObject.prototype),DrawImage.prototype.constructor=DrawImage,DrawObject.prototype.getBounds=function(a){var b=Utils.validate(this.size),c=b||Utils.resolve(this.size,"x")||Utils.resolve(this.cropSize,"x")||this.image.width,d=b||Utils.resolve(this.size,"y")||Utils.resolve(this.cropSize,"y")||this.image.height;if(!Point.isNull(this.size)&&this.maintainRatio){var e=Utils.resolve(this.cropSize,"x")||this.image.width,f=Utils.resolve(this.cropSize,"y")||this.image.height,g=c/d,h=e/f;h>g?d=f*(c/e):h<g&&(c=e*(d/f))}return c*=this.scale,d*=this.scale,a=Point.isPoint(a)?a:this.position,new Bounds(a.x-this.offset.x-(1===this.horizontalAlign?c/2:2===this.horizontalAlign?c:0),a.y-this.offset.y-(1===this.verticalAlign?d/2:2===this.verticalAlign?d:0),c,d)},DrawImage.prototype.canDraw=function(){return DrawObject.prototype.canDraw.apply(this)&&void 0!==this.image.naturalWidth&&this.image.naturalWidth>0},DrawImage.prototype.draw=function(a){if(this.canDraw()){a.globalAlpha=this.alpha,a.imageSmoothingEnabled=!0;var b=this.getBounds();this.cropPosition instanceof Point&&this.cropSize instanceof Point?a.drawImage(this.image,this.cropPosition.x,this.cropPosition.y,this.cropSize.x,this.cropSize.y,b.left,b.top,b.width,b.height):a.drawImage(this.image,b.left,b.top,b.width,b.height)}},Connector.prototype=Object.create(DrawObject.prototype),Connector.prototype.constructor=Connector,Connector.prototype.canDraw=function(){return DrawObject.prototype.canDraw.apply(this)&&this.objects instanceof Array&&this.objects.length>0},Connector.prototype.draw=function(a){if(this.canDraw()){var b=0;a.globalAlpha=this.alpha;var c=a.getLineDash?a.getLineDash():[];a.setLineDash&&a.setLineDash([this.options.dashSize,this.options.dashSpace]),a.strokeStyle=this.options.dashStyle,a.lineWidth=this.options.lineWidth,a.beginPath();for(var d=0,e=this.objects.length;d<e;d++){var f=this.objects[d],g=f.position||f;if(f instanceof Array){for(var h=0;h<f.length;h++){var i=f[h],j=i.position||i;0!==h?a.lineTo(this.position.x+j.x*this.scale,this.position.y+j.y*this.scale):a.moveTo(this.position.x+j.x*this.scale,this.position.y+j.y*this.scale)}b=0}else 0!==b?(a.lineTo(this.position.x+g.x*this.scale,this.position.y+g.y*this.scale),b++):(a.moveTo(this.position.x+g.x*this.scale,this.position.y+g.y*this.scale),b++)}a.stroke(),a.setLineDash&&a.setLineDash(c)}},Looper.prototype.add=function(a,b,c){var d=Number(_.uniqueId());return _.isNumber(b)||(c=b,b=0),this.loops[d]={cancelled:!1,duration:Math.max(.001,Utils.validate(a,1)),elapsed:-b,progress:0,fn:Utils.validate(c,_.noop,"function")},d},Looper.prototype.remove=function(a){return a in this.loops&&(this.loops[a].cancelled=!0,delete this.loops[a],!0)},Looper.prototype.update=function(a){var b=this;_.each(b.loops,function(c,d){c.fn(a,c.elapsed,c.progress,c.duration),c.progress<1?(c.elapsed+=a,c.progress=Utils.clamp(0,1,c.elapsed/c.duration)):b.remove(d)})},workspaces.conclusions.Animation=function(){var a=this;return window.readyForSectionAnimation||(window.readyForSectionAnimation=[]),a.animationConclusions=function(){function b(){m.each(function(a){$(this).delay(200*a).velocity("transition.bounceIn",{duration:800})})}var c=new workspaces.conclusions.Helpers;a.background=SVG("svg_conclusions").size("100%","100%").opacity(.5),a.backgroundBox=a.background.viewbox(0,0,100,100).attr("preserveAspectRatio","xMidYMid meet");var d=a.background.defs().path(window.assetRepo.pathData.decagon_regular);d.size(100).center(50,50),a.background.defs().path(window.assetRepo.pathData.decagon_open_10).size(100).center(50,50).marker("start",10,10,function(a){a.circle(4).center(5,5).fill("#3d3d3d")}),a.background.defs().path(window.assetRepo.pathData.decagon_open_20).size(100).center(50,50).marker("start",10,10,function(a){a.circle(4).center(5,5).fill("#3d3d3d")}),a.background.defs().path(window.assetRepo.pathData.decagon_open_30).size(100).center(50,50).marker("start",10,10,function(a){a.circle(4).center(5,5).fill("#3d3d3d")});var e=assetRepo.patterns.darkgrey(a.background,{pw:1,ph:.4,r1w:1,r1h:1,r2w:1,r2h:.2,m:!1}),f=(assetRepo.patterns.orange(a.background,{pw:1,ph:.5,r1w:1,r1h:1,r2w:1,r2h:.2,m:!1}),a.background.clip().add(d).scale(1),.05),g=.78;pattern1=a.background.use(d).scale(.001).fill("none").stroke({color:e,width:3,opacity:"0.75"}),a.tunnelAnimation(pattern1,2500,0,a.defaultEasing).scale(.94).after(function(){window.csh.scenes.intro.animateAlpha(1,!0)}),SND.play("intro_areas"),pattern2=pattern1.clone().scale(.001).fill("none").stroke({color:e,width:6,opacity:"0.75"}),f=2500-1500/17,a.tunnelAnimation(pattern2,f,0,a.defaultEasing).scale(.82),innerLine=a.background.use(d).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.25}),f-=1500/17,g-=.04,a.tunnelAnimation(innerLine,f,0,a.defaultEasing).scale(g),innerDashed=a.background.use(d).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.25,dasharray:".25px",opacity:"1"}),f-=1500/17,g-=.04,a.tunnelAnimation(innerDashed,f,0,a.defaultEasing).scale(g);for(var h=1;h<=3;h++)innerDashed=innerDashed.clone().scale(.001).fill("none").stroke({color:"#3d3d3d",width:.25,dasharray:".25px",opacity:"1"}),f-=1500/17,g-=.04,a.tunnelAnimation(innerDashed,f,0,a.defaultEasing).scale(g);innerLine2=a.background.use(d).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.25}),f-=1500/17,g-=.04,a.tunnelAnimation(innerLine2,f,0,a.defaultEasing).scale(g);for(var h=1;h<=4;h++)innerDashed=innerDashed.clone().scale(.001).fill("none").stroke({color:"#3d3d3d",width:.3,dasharray:".3px",opacity:"1"}),f-=1500/17,g-=.04,a.tunnelAnimation(innerDashed,f,0,a.defaultEasing).scale(g);innerLine3=a.background.use(d).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.35}),f-=1500/17,g-=.04,a.tunnelAnimation(innerLine3,f,0,a.defaultEasing).scale(g);for(var h=1;h<=4;h++)innerDashed=innerDashed.clone().scale(.001).fill("none").stroke({color:"#3d3d3d",width:.45,dasharray:".45px",opacity:"1"}),f-=1500/17,g-=.04,a.tunnelAnimation(innerDashed,f,0,a.defaultEasing).scale(g);csh.scenes.intro.particleCloud.alpha=0,csh.scenes.intro.particleCloud.scale=.5,csh.scenes.intro.looper.add(.8,1.1,DrawAnimation(csh.scenes.intro.particleCloud,{alpha:1,scale:.875},"easeOutBack")),c.svgPatterns(a.background);var i=$("#conclusion");if(!i.hasClass("done")){i.addClass("done"),$("#conclusion .row").children(".animated").css("opacity",0);var j=a.bundleSelectors("conclusions"),k=[{e:j.five_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1,begin:function(){SND.play("glitch_rectangulos")}}},{e:j.five_grey,p:{width:"85%"},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}},{e:j.four_grey,p:{translateX:"35vw"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}},{e:j.c1,p:{translateY:"-105%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}},{e:j.c_pattern,p:{translateY:"-105%"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}},{e:j.four_orange,p:{translateX:"35vw"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:j.three_grey,p:{translateX:"35vw"},o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}},{e:j.o1,p:{translateY:"-105%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:j.o_pattern,p:{translateY:"-105%"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}},{e:j.three_orange,p:{width:j.three_bar.width()-j.three_grey.width()},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}},{e:j.n,p:{translateY:"-105%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:j.n_pattern,p:{translateY:"-105%"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}},{e:j.one_orange,p:"transition.slideLeftBigIn",o:{easing:"easeInOutCubic",delay:294,duration:750,sequenceQueue:!1,begin:function(){SND.play("glitch_rectangulos")}}},{e:j.one_grey,p:"transition.slideLeftBigIn",o:{easing:"easeInOutCubic",delay:60,duration:750,sequenceQueue:!1}},{e:j.c2,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}},{e:j.l,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}},{e:j.u,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}},{e:j.s1,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}},{e:j.six_first_grey,p:{translateX:"-35vw"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}},{e:j.o2,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:j.two_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}},{e:j.two_grey,p:{translateX:"-45vw",width:"25px"},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}},{e:j.e,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:j.s2,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}},{e:j.six_first_orange,p:{width:"50px"},o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1,complete:function(){"toctrl"in window||(window.toctrl=[]),window.toctrl.push("conclusion"),a.swapHintAnimation(hintGroup.conclusions,1,3800,!0,[],"conclusion"),-1==window.readyForSectionAnimation.indexOf("conclusion")&&window.readyForSectionAnimation.push("conclusion")}}},{e:j.empathy,p:"transition.fadeIn",opacity:1,o:{easing:"easeInOutCubic",delay:425,duration:500,sequenceQueue:!1,begin:function(){var a=j.empathy.find(".bars_text-description");a.attr("data-original",assetRepo.textcontent.conclusionsIntro),new Helpers.Matrixificator(a,20).matrixify(),SND.play("matrix_high")}}},{e:j.terms,p:"transition.fadeIn",opacity:1,o:{easing:"easeInOutCubic",delay:425,duration:750,sequenceQueue:!1}}];$.Velocity.RunSequence(k),$("body").css("overflow-y","auto");var l=$("#menu .navbar-right .it"),m=$("#menu .navbar-right .it_icon");justgothere&&function(){l.each(function(a){$(this).delay(200*a).velocity("transition.slideDownIn",{duration:800})}),setTimeout(function(){b()},800)}(),scrollHint(!0)}},a.rigTerms=function(){$(".terms").each(function(){Helpers.autoMatrixify($(this),assetRepo.textcontent.terms,5500+1e3*Math.random(),!0)})},a.swapHintCount=0,a.swapHintAnimation=function(b,c,d,e,f,g){for(var h=[],i=0;i<b.length;i++)b[i].fullyExpanded&&(a.swapHintCount--,b[i].onScreen()&&b[i].reverseAnimateConnector()),1==e&&b[i].onScreen&&b[i].applyResizeStrategy(),-1==f.indexOf(i)&&h.push(i);for(h.length<c&&(c=h.length);h.length>c;)h.splice(Math.floor(Math.random()*h.length),1);for(var i=0;i<h.length;i++)(b[i].fullyRetracted||0==b[i].animationCount&&a.swapHintCount<=c)&&(a.swapHintCount++,b[h[i]].onScreen()&&b[h[i]].animateConnector());-1!=window.toctrl.indexOf(g)&&setTimeout(a.swapHintAnimation.bind(null,b,c,d,!1,h,g),d)},a.defaultEasing=function(a){return Utils.Easing.easeOutBack(a)},a.tunnelAnimation=function(a,b,c,d){return d=d||function(a){return Math.pow(a,10)},a.animate({duration:b,ease:d,delay:c})},a.scrollAnimation=function(b,c){if(-1!=window.readyForSectionAnimation.indexOf(b)){var d=[];switch(b){case"conclusion":var e=a.bundleSelectors("conclusions");"enter"==c&&(d.push({e:e.five_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1,begin:function(){SND.play("glitch_rectangulos")}}}),d.push({e:e.five_grey,p:{width:"85%"},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}}),d.push({e:e.four_grey,p:{translateX:"35vw"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}}),d.push({e:e.c1,p:{translateY:"-105%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}}),d.push({e:e.c_pattern,p:{translateY:"-105%"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}}),d.push({e:e.four_orange,p:{translateX:"35vw"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.three_grey,p:{translateX:"35vw"},o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}}),d.push({e:e.o1,p:{translateY:"-105%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.o_pattern,p:{translateY:"-105%"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}}),d.push({e:e.three_orange,p:{width:e.three_bar.width()-e.three_grey.width()},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}}),d.push({e:e.n,p:{translateY:"-105%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.n_pattern,p:{translateY:"-105%"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}}),d.push({e:e.one_orange,p:"transition.slideLeftBigIn",o:{easing:"easeInOutCubic",delay:294,duration:750,sequenceQueue:!1}}),d.push({e:e.one_grey,p:"transition.slideLeftBigIn",o:{easing:"easeInOutCubic",delay:60,duration:750,sequenceQueue:!1}}),d.push({e:e.c2,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}}),d.push({e:e.l,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}}),d.push({e:e.u,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}}),d.push({e:e.s1,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}}),d.push({e:e.six_first_grey,p:{translateX:"-35vw"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1,begin:function(){SND.play("glitch_rectangulos")}}}),d.push({e:e.o2,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.two_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}}),d.push({e:e.two_grey,p:{translateX:"-45vw",width:"25px"},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}}),d.push({e:e.e,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.six_first_orange,p:{width:"50px"},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}}),d.push({e:e.s2,p:{translateY:"15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.empathy,p:"transition.fadeIn",opacity:1,o:{easing:"easeInOutCubic",delay:425,duration:500,sequenceQueue:!1,begin:function(){SND.play("animation_decagon")}}})),"leave"==c&&(d.push({e:e.six_first_orange,p:{width:"0px"},o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1,begin:function(){SND.play("glitch_rectangulos")}}}),d.push({e:e.s2,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}}),d.push({e:e.e,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.two_grey,p:{translateX:"45vw",width:"25px"},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}}),d.push({e:e.two_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}}),d.push({e:e.o2,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.six_first_grey,p:{translateX:"35vw"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}}),d.push({e:e.s1,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.u,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}}),d.push({e:e.l,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}}),d.push({e:e.c2,p:{translateY:"-15rem"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}}),d.push({e:e.one_grey,p:"transition.slideLeftBigOut",o:{easing:"easeInOutCubic",delay:60,duration:750,sequenceQueue:!1}}),d.push({e:e.one_orange,p:"transition.slideLeftBigOut",o:{easing:"easeInOutCubic",delay:294,duration:750,sequenceQueue:!1}}),d.push({e:e.n_pattern,p:{translateY:"105%"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1,begin:function(){SND.play("wosh_entrada_scroll")}}}),d.push({e:e.n,p:{translateY:"105%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.three_orange,p:{width:0},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1,begin:function(){SND.play("glitch_rectangulos")}}}),d.push({e:e.o_pattern,p:{translateY:"105%"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}}),d.push({e:e.o1,p:{translateY:"105%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.three_grey,p:{translateX:"-35vw"},o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}}),d.push({e:e.four_orange,p:{translateX:"-35vw"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.c_pattern,p:{translateY:"105%"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}}),d.push({e:e.c1,p:{translateY:"105%"},o:{easing:"easeInOutCubic",delay:94,duration:750,sequenceQueue:!1}}),d.push({e:e.four_grey,p:{translateX:"-35vw"},o:{easing:"easeInOutCubic",delay:0,duration:750,sequenceQueue:!1}}),d.push({e:e.five_grey,p:{width:0},o:{easing:"easeInOutCubic",delay:64,duration:750,sequenceQueue:!1}}),d.push({e:e.five_orange,p:"callout.flash",o:{easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}}),d.push({e:e.empathy,p:"transition.fadeOut",opacity:0,o:{easing:"easeInOutCubic",delay:425,duration:500,sequenceQueue:!1}}))}$.Velocity.RunSequence(d)}},a.bundleSelectors=function(a){switch(a){case"conclusions":return{c1:$("#conclusion .-c1"),c_pattern:$("#conclusion .-c-pattern"),o1:$("#conclusion .-o1"),o_pattern:$("#conclusion .-o-pattern"),n:$("#conclusion .-n"),n_pattern:$("#conclusion .-n-pattern"),c2:$("#conclusion .-c2"),l:$("#conclusion .-l"),u:$("#conclusion .-u"),s1:$("#conclusion .-s1"),o2:$("#conclusion .-o2"),e:$("#conclusion .-e"),s2:$("#conclusion .-s2"),one_grey:$("#conclusion .bars_bar.-one .-grey"),one_orange:$("#conclusion .bars_bar.-one .-orange"),two_grey:$("#conclusion .bars_bar.-two .-grey"),two_orange:$("#conclusion .bars_bar.-two .-orange"),empathy:$("#conclusion .bars_text"),three_bar:$("#conclusion .bars_bar.-three"),three_grey:$("#conclusion .bars_bar.-three .-grey"),three_orange:$("#conclusion .bars_bar.-three .-orange"),four_grey:$("#conclusion .bars_bar.-four .-grey"),four_orange:$("#conclusion .bars_bar.-four .-orange"),five_grey:$("#conclusion .bars_bar.-five .-grey"),five_orange:$("#conclusion .bars_bar.-five .-orange"),six_first_grey:$("#conclusion .bars_bar.-six .-grey"),six_first_orange:$("#conclusion .bars_bar.-six .-orange")}}},a},ondemand.push({id:"conclusions",order:0,ctorfunc:function(a){var b=a.$body.find("#conclusions");b.map(function(){return new Conclusions($(this))}).toArray()}}),workspaces.conclusions.Helpers=function(){var a=this;return a.svgPatterns=function(a){var b=assetRepo.patterns.lightgrey(a,{pw:2.5,ph:1,r1w:1,r1h:1,r2w:1,r2h:2,m:!0}),c=assetRepo.patterns.grey(a,{pw:2.5,ph:1,r1w:1,r1h:1,r2w:1,r2h:2,m:!0}),d=assetRepo.patterns.orange(a,{pw:2.5,ph:1,r1w:1,r1h:1,r2w:1,r2h:2,m:!0}),e=0,f=$(".bars_bar .-grey"),g=$(".bars_bar .-orange");$(".submitbtn").each(function(){var a="submitpattern"+e;e++,$(this).attr("id",a);var b=SVG(a).size("100%","100%");b.rect("100%",25).radius(7).size("98%","98%").center(50,50).x("1%").y("1%").fill("none").stroke({color:c,width:2}),b.rect("100%",25).radius(7).size("98%","98%").center(50,50).x("1%").y("1%").fill("url(#orangePattern2)")}),f.each(function(){var a="greypattern"+e;e++,$(this).attr("id",a),SVG(a).size("100%","25px").rect("100%",25).size("100%","100%").center(0,0).fill(b)}),g.each(function(){var a="orangepattern"+e;e++,$(this).attr("id",a),SVG(a).size("100%","25px").rect("100%",25).size("100%","100%").center(0,0).fill(d)})},a.lastScrollIndex=0,a.scrollerIndexChanged=function(b){var c=new workspaces.conclusions.Animation;0==b&&scrollHint(!0),b>0&&scrollHint(!1),0==a.lastScrollIndex&&0!=b?c.scrollAnimation("conclusion","leave"):0==b&&c.scrollAnimation("conclusion","enter"),a.lastScrollIndex=b},a},workspaces.conclusions.Hints=function(){var a,b=this,c=config.items.idData.map(function(a){return{brand:a[1],category:config.items.categories[a[2]]}});randomBrand=function(){return c.splice(Math.floor(Math.random()*c.length),1)[0]},window.hintGroup={conclusions:[]};for(var d=[{g:hintGroup.conclusions,h:$(".text_conclusions"),s:!0,f:!1,l:!0,r:!1,ocd:!0,aord:"PTH",st:function(){var a=$(".text_conclusions"),b=$(".text_conclusions .img_container.-con .-c1"),c=a.offset(),d=b.offset(),e={x:d.left-c.left+15,y:d.top-c.top};return{pivot:{x:e.x,y:e.y},hover:window.Helpers.angledPoint(e,180,-45)}}},{g:hintGroup.conclusions,h:$(".text_conclusions"),s:!1,f:!0,l:!0,r:!1,ocd:!0,aord:"PTH",st:function(){var a=$(".text_conclusions"),b=$(".text_conclusions .img_container.-con .-n"),c=a.offset(),d=b.offset(),e={x:d.left-c.left-20,y:d.top-c.top};e.x+=b.width();var f=window.Helpers.angledPoint(e,180,-45);return{pivot:{x:e.x,y:e.y},hover:f}}},{g:hintGroup.conclusions,h:$(".text_conclusions"),s:!0,f:!1,l:!0,r:!1,ocd:!0,aord:"PTH",st:function(){var a=$(".text_conclusions"),b=$(".text_conclusions .img_container.-clu .-u"),c=a.offset(),d=b.offset(),e={x:d.left-c.left-25,y:d.top-c.top+10};e.x+=b.width();var f=window.Helpers.angledPoint(e,180,-45);return{pivot:{x:e.x,y:e.y},hover:f}}},{g:hintGroup.conclusions,h:$(".text_conclusions"),s:!0,f:!1,l:!0,r:!0,ocd:!0,aord:"PTH",st:function(){var a=$(".text_conclusions"),b=$(".text_conclusions .img_container.-soes .-s1"),c=a.offset(),d=b.offset(),e={x:d.left-c.left+20,y:d.top-c.top-20};e.y+=b.height();var f=window.Helpers.angledPoint(e,180,135);return{pivot:{x:e.x,y:e.y},hover:f}}},{g:hintGroup.conclusions,h:$(".text_conclusions"),s:!1,f:!0,l:!0,r:!0,ocd:!0,aord:"PTH",st:function(){var a=$(".text_conclusions"),b=$(".text_conclusions .img_container.-soes .-s2"),c=a.offset(),d=b.offset(),e={x:d.left-c.left-20,y:d.top-c.top-20};e.y+=b.height(),e.x+=b.width();var f=window.Helpers.angledPoint(e,180,135);return{pivot:{x:e.x,y:e.y},hover:f}}}],e=0;e<d.length;e++){var f=d[e];a=randomBrand();var g=new AbsoluteHover(f.h,"commonstyle",{x:0,y:0},{x:0,y:0},[{key:"title",value:a.brand},{key:"description",value:a.category}],{drawDecagonStroke:f.s,drawDecagonFill:f.f,drawStraightLine:f.l,maxHoverWidth:f.mhw,onDemandCanvasDraw:f.ocd,animationOrder:f.aord});g.$el.appendTo(g.host),f.r&&g.$hover.css("text-align","right"),g.resizeStrategy=f.st,absolutehovers.push(g),f.g.push(g)}return c=[],b},ondemand.push({id:"experience",order:3,ctorfunc:function(a){var b=a.$body.find("#results");b.map(function(){return new Results($(this))}).toArray()}}),workspaces.conclusions.Scroller=function(){var a=this,b=new workspaces.conclusions.Helpers
;return window.scroller=new Scroller,window.scroller.off("before").on("before",function(a){b.scrollerIndexChanged(a)}).off("after").on("after",function(a){b.scrollerIndexChanged(a)}),$("#scroll svg text").off("click").on("click",function(){window.scroller.scrollTo(window.scroller.getIndex()+1,!1,!0)}),a},workspaces.experience.Animation=function(){var a=this,b={};a.animationExperience=function(){var c=new workspaces.about.Helpers;SND.play("intro_areas"),a.range=SVG("drawing").size("100%","100%"),a.box=a.range.viewbox(0,0,100,100).attr("preserveAspectRatio","xMidYMid meet"),a.leftRect=a.range.rect(.8,2).fill("#3d3d3d").center(7.4,50.1).addClass("leftRect hideElement"),a.rightRect=a.range.rect(.8,2).fill("#3d3d3d").center(92.6,50.1).addClass("rightRect hideElement");var d=a.range.defs().path(window.assetRepo.pathData.decagon_regular);d.size(85).center(50,50);var e=a.range.defs().path(window.assetRepo.pathData.decagon_open);e.size(85).center(50,50);var f=assetRepo.patterns.darkgrey(a.range,{pw:1,ph:.4,r1w:1,r1h:1,r2w:1,r2h:.2,m:!1}),g=assetRepo.patterns.darkgrey(a.range,{pw:1,ph:.3,r1w:1,r1h:1,r2w:1,r2h:.1,m:!1}),h=(assetRepo.patterns.orange(a.range,{pw:1,ph:.5,r1w:1,r1h:1,r2w:1,r2h:.2,m:!1}),a.range.clip().add(d).scale(.065));a.outerSVG=a.range.use(e).scale(1).fill("none").stroke({color:"#3d3d3d",width:.75}),a.outerSVG.addClass("hideLine");var i=0,j=.82;a.innerLine=a.range.use(d).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.25}),a.innerCenterCircle=a.innerLine.clone().fill(g).scale(.9).clipWith(h).addClass("hideElement"),b.pattern1=a.range.use(d).scale(.001).fill("none").stroke({color:f,width:7,opacity:"0.35"}),a.tunnelAnimation(b.pattern1,2500,0,a.defaultEasing).scale(.9).after(a.afterCallback),b.pattern1.originalScale=.9,b.innerDashed=a.range.use(d).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.25,dasharray:".25px",opacity:"0.75"}),i=2500-1500/22,j-=.04,a.tunnelAnimation(b.innerDashed,i,0,a.defaultEasing).scale(j),b.innerDashed.originalScale=j;for(var k=1;k<=3;k++)b["innerDashed"+k]=b.innerDashed.clone().scale(.001).fill("none").stroke({color:"#3d3d3d",width:.25,dasharray:".25px",opacity:"0.75"}),i-=1500/22,j-=.04,a.tunnelAnimation(b["innerDashed"+k],i,0,a.defaultEasing).scale(j),b["innerDashed"+k].originalScale=j;b.innerLine2=a.range.use(d).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.25}),i-=1500/22,j-=.04,a.tunnelAnimation(b.innerLine2,i,0,a.defaultEasing).scale(j),b.innerLine2.originalScale=j;for(var k=1;k<=4;k++)b["innerDashed"+(k+3)]=b.innerDashed.clone().scale(.001).fill("none").stroke({color:"#3d3d3d",width:.3,dasharray:".3px",opacity:"0.75"}),i-=1500/22,j-=.04,a.tunnelAnimation(b["innerDashed"+(k+3)],i,0,a.defaultEasing).scale(j),b["innerDashed"+(k+3)].originalScale=j;b.innerLine3=a.range.use(d).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.35}),i-=1500/22,j-=.04,a.tunnelAnimation(b.innerLine3,i,0,a.defaultEasing).scale(j),b.innerLine3.originalScale=j;for(var k=1;k<=4;k++)b["innerDashed"+(k+7)]=b.innerDashed.clone().scale(.001).fill("none").stroke({color:"#3d3d3d",width:.45,dasharray:".45px",opacity:"0.75"}),i-=1500/22,j-=.04,a.tunnelAnimation(b["innerDashed"+(k+7)],i,0,a.defaultEasing).scale(j),b["innerDashed"+(k+7)].originalScale=j;b.innerLine4=a.range.use(d).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.35}),i-=1500/22,j-=.04,a.tunnelAnimation(b.innerLine4,i,0,a.defaultEasing).scale(j),b.innerLine4.originalScale=j;for(var k=1;k<=2;k++)b["innerDashed"+(k+11)]=b.innerDashed.clone().scale(.001).fill("none").stroke({color:"#3d3d3d",width:.5,dasharray:".5px",opacity:"0.75"}),i-=1500/22,j-=.04,a.tunnelAnimation(b["innerDashed"+(k+11)],i,0,a.defaultEasing).scale(j),b["innerDashed"+(k+11)].originalScale=j;b.innerDashed14=b.innerDashed.clone().scale(.001).fill("none").stroke({color:"#fd664c",width:1,dasharray:"2px",opacity:"1"}),i-=1500/22,a.tunnelAnimation(b.innerDashed14,1e3,0,a.defaultEasing).scale(.1),b.innerDashed14.originalScale=j,c.svgPatterns(a.range),a.flowCircleEnd=a.range.circle(.25).center(50,50).fill("#fd664c"),a.flowCircleStart=a.range.circle(.25).center(14.8,50).fill("#fd664c"),a.flowCircleEnd.addClass("hideElement"),a.flowCircleStart.addClass("hideElement"),a.awarenessText=a.range.text(function(a){a.tspan("SCORE  ").fill("#fd664c")}).font({size:1.3,family:"Stratum"}).center(11,50).addClass("hideElement"),a.scaleText=a.range.text(function(a){a.tspan("2").fill("#ffffff").x(15.5).attr("opacity",0),a.tspan("3").fill("#ffffff").x(24.3).attr("opacity",0),a.tspan("4").fill("#ffffff").x(32.8).attr("opacity",0),a.tspan("5").fill("#ffffff").x(41.3).attr("opacity",0),a.tspan("6").fill("#ffffff").x(49.6).attr("opacity",0)}).font({size:.9,family:"Stratum"}).center(12.5,50).addClass("hideElement"),setTimeout(function(){a.genericMethodSVGAnimation([a.outerSVG],["strokeLine"],!0,function(){})},2100)},a.animateShrinking=function(){for(var c in b)b.hasOwnProperty(c)&&a.tunnelAnimation(b[c],500,0,a.defaultEasing).opacity(.5).scale(.5*b[c].originalScale);a.tunnelAnimation(a.outerSVG,500,0,a.defaultEasing).opacity(.25).scale(.5),a.flowCircleEnd.opacity(0),$(a.scaleText.node).removeClass("scaleNumbersTextAnimation")},a.animateExpanding=function(){for(var c in b)b.hasOwnProperty(c)&&a.tunnelAnimation(b[c],500,0,a.defaultEasing).opacity(1).scale(b[c].originalScale);a.tunnelAnimation(a.outerSVG,500,0,a.defaultEasing).opacity(1).scale(1),a.flowCircleEnd.opacity(1),$(a.scaleText.node).addClass("scaleNumbersTextAnimation")},a.defaultEasing=function(a){return Utils.Easing.easeOutBack(a)},a.tunnelAnimation=function(a,b,c,d){return d=d||function(a){return Math.pow(a,10)},a.animate({duration:b,ease:d,delay:c})},a.afterDisclaimer=function(a){function b(){g.each(function(a){$(this).delay(200*a).velocity("transition.bounceIn",{duration:800})})}a&&(window.exp.firstFilter=!0),setTimeout(function(){$(".filter-settings").addClass("filtersNavAnimation").removeClass("hideElement")},500),$(".category-options").addClass("categoriesNavAnimation").removeClass("hideElement"),$(".filter-options").addClass("filtersNavAnimation").removeClass("hideElement");var c=$(".category-options .category-option").css({opacity:0}),d=$(".filter-options .filter-option").css({opacity:0}),e=[{e:c,p:"transition.slideLeftBigIn",o:{stagger:188,easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}},{e:d,p:"transition.slideRightBigIn",o:{stagger:188,easing:"easeInOutCubic",delay:30,duration:750,sequenceQueue:!1}}];$.Velocity.RunSequence(e);var f=$("#menu .navbar-right .it"),g=$("#menu .navbar-right .it_icon");justgothere&&function(){f.each(function(a){$(this).delay(200*a).velocity("transition.slideDownIn",{duration:800})}),setTimeout(function(){b()},800)}(),justgothere=!1,window.exp.animateAlpha(1,!0,function(){var a=null;window.exp.applyFilters=function(){a&&(a=clearTimeout(a)),a=setTimeout(function(){window.exp.changeBrands(brands.getFilteredItems()),a=null},1e3)},brands.on("filter:remove",function(a,b){window.exp.changeBrands(b)}),brands.on("filter:change",function(a,b){window.exp.changeBrands(b)}),window.expCategories[0].on("complete",window.exp.applyFilters),window.exp.changeBrands(brands.getFilteredItems())})},a.genericMethodSVGAnimation=function(a,b,c,d,e){e&&e();var f="";f=b.length>1?b[1].toString()+"."+b[0].toString():b[0].toString(),_.each(a,function(a){a.addClass(b[0]),c&&a.removeClass("hideElement")}),$("."+f).first().one(window.Helpers.whichAnimationEvent(),function(a){d&&d(null)})},a.afterCallback=function(){async.series([function(b){a.genericMethodSVGAnimation([a.leftRect,a.rightRect],["showRects"],!0,b)},function(b){a.genericMethodSVGAnimation([a.awarenessText],["textAnimation"],!0,b)},function(b){a.genericMethodSVGAnimation([a.scaleText],["scaleNumbersTextAnimation"],!0,b)},function(b){a.genericMethodSVGAnimation([a.flowCircleStart,a.flowCircleEnd],["scaleFlowCircle"],!0,b)},function(b){a.genericMethodSVGAnimation([a.innerCenterCircle],["scaleCenterCircleAnimation"],!0,b,function(){SND.play("wosh_entrada_scroll")})}],function(b,c){a.afterDisclaimer(!0)})}},workspaces.experience.Category=function(a){var b=_.extend(this,Backbone.Events);return b.$el=a,b.$options=a.find(".category-options"),b.$options.addClass("hideElement"),b.$options.find(".category-option").click(function(){var a=$(this).attr("data-category");$(this).hasClass("option-selected")?(b.$options.find("div[data-category]").removeClass("option-selected"),b.removeFilter()):(b.$options.find("div[data-category]").removeClass("option-selected"),$(this).addClass("option-selected"),gaEvent({eventCategory:"Menu RESULTADOS - Atividades",eventAction:"Click",eventLabel:config.items.categories[a]}),b.applyFilter(a,$(this)))}),b.removeFilter=function(a){$("#leftpath").hide(),$(".leftRect").velocity({fill:"#3D3D3D"},{duration:800}),setTimeout(function(){brands.removeFilter("category"),window.expList.fetch()},200)},b.applyFilter=function(a,c){b.drawPath(c),setTimeout(function(){brands.addFilter("category",a),brands.updatedFilters("change"),window.expList.fetch()},800)},b.lastFilterPosition={x:0,y:0},b.drawPath=function(a){var c=[],d=$(".leftRect").offset(),e=$(a).find(".circle").offset(),f={w:$(a).find(".circle").outerWidth(),h:$(a).find(".circle").outerHeight()},g={x:0,y:0,w:0,h:0},h={x:d.left,y:$(window).height()/2},i={x:e.left+f.w/2,y:e.top+f.h/2};i.x>=h.x?(b.lastFilterPosition.x=-1,g.x=h.x,g.w=i.x-h.x):(b.lastFilterPosition.x=1,g.x=i.x,g.w=h.x-i.x),i.y>=h.y?(b.lastFilterPosition.y=-1,g.y=h.y,g.h=i.y-h.y):(b.lastFilterPosition.y=1,g.y=i.y,g.h=h.y-i.y),$("#leftpath").css({top:g.y,left:g.x,width:g.w,height:g.h}),$("#leftpath svg path").attr("d",""),$("#leftpath").show(),c=b.getPathData(),$("#leftpath svg path").attr("d",c[0]),setTimeout(function(){$("#leftpath svg path").attr("d",c[1]),SND.play("matrix_high"),setTimeout(function(){$("#leftpath svg path").attr("d",c[2]),setTimeout(function(){$("#leftpath svg path").attr("d",c[3]),setTimeout(function(){$(".leftRect").velocity({fill:"#FD664C"},{duration:800})},200)},200)},200)},200)},b.getPathData=function(){var a={x:$("#leftpath").position().left,y:$("#leftpath").position().top,w:$("#leftpath").width(),h:$("#leftpath").height()},c=[],d=[],e=[];if(e=1==b.lastFilterPosition.y?[1,1,a.h-1,a.h-1]:[a.h-1,a.h-1,1,1],1==b.lastFilterPosition.x){var f=a.w/4;d=[0,f,3*f,a.w]}else{var f=a.w/4;d=[a.w,3*f,f,0]}c=["M{x:0},{y:0} L{x:0},{y:0} L{x:0},{y:0} L{x:0},{y:0}","M{x:0},{y:0} L{x:1},{y:1} L{x:1},{y:1} L{x:1},{y:1}","M{x:0},{y:0} L{x:1},{y:1} L{x:2},{y:2} L{x:2},{y:2}","M{x:0},{y:0} L{x:1},{y:1} L{x:2},{y:2} L{x:3},{y:3}"];for(var g=0;g<c.length;g++){for(var h=0;h<d.length;h++){var i=new RegExp("{x:"+h+"}","g");c[g]=c[g].replace(i,d[h])}for(var j=0;j<e.length;j++){var k=new RegExp("{y:"+j+"}","g");c[g]=c[g].replace(k,e[j])}}return a.h<15&&$("#rightpath").css("height","15px"),c},b},ondemand.push({id:"experience",order:1,ctorfunc:function(a){var b=a.$body.find(".categories"),c=b.map(function(){return new workspaces.experience.Category($(this))}).toArray();window.expCategories=c}}),ondemand.push({id:"experience",order:0,ctorfunc:function(a){var b=a.$body.find("#drawing");b.map(function(){return new Experience($(this))}).toArray()}}),workspaces.experience.Filter=function(a){var b=_.extend(this,Backbone.Events);return b.lastOpenedFilter="",b.openedFilter="",b.$el=a,b.$options=a.find(".filter-options"),b.$parameters=a.find(".filter-parameters"),b.$parameters.addClass("hideElement"),b.$options.addClass("hideElement"),b.checkFilterStatus=function(){b.$options.find(".filter-option.option-selected").length>0?b.$el.addClass("filtering"):b.$el.removeClass("filtering")},b.$options.find(".filter-option").click(function(){var a=$(this).attr("data-filter");if($(this).hasClass("option-selected")){if(b.$parameters.filter(".filter-"+a+"-parameters").removeClass("filtersParamNavAnimation").css("opacity",1).velocity({opacity:0},250,function(){b.$parameters.filter(".filter-"+a+"-parameters").addClass("hideElement")}),$(this).removeClass("option-selected"),b.$parameters.filter(".filter-"+a+"-parameters").find("[data-filter-parameter]").removeClass("parameter-selected"),b.$parameters.filter(".filter-"+a+"-parameters").find("div[data-filter='"+a+"']").slideUp(100),a==b.openedFilter){b.$parameters.filter(".filter-parameters").find(".parameter-selected").slideDown(100);b.$options.find("[data-filter='gender'].option-selected").length>0&&b.$parameters.filter(".filter-gender-parameters").find(".filter-inlined-parameter").slideDown(100),b.togglePaths(!0)}b.drawPath(a,!0),b.applyFilter(a,!0)}else{if(b.lastOpenedFilter=b.openedFilter,b.openedFilter=a,"gender"==a){var c=$("div[data-filter='"+a+"'].filter-option").offset().top,d=$("div[data-filter='"+a+"'].filter-option").outerHeight();$(".filter-"+a+"-parameters.filter-parameters").css("top",c+d/2);for(var e=b.$parameters.filter(".filter-parameters").find("div[data-filter]"),f=0;f<e.length;f++)$(e[f]).hasClass("parameter-selected")||$(e[f]).slideUp(100);b.$parameters.filter(".filter-parameters").each(function(){$(this).find(".parameter-selected").length>0&&($(this).removeClass("hideElement").show(),$(this).find(".parameter-selected").slideDown())}),b.drawPath(a,!0)}else b.$parameters.filter(".filter-parameters").find("div[data-filter]").slideUp(100),b.togglePaths(!1);b.$options.find("div[data-filter]").each(function(){var a=$(this).attr("data-filter");b.$parameters.filter(".filter-"+a+"-parameters").find(".parameter-selected").length>0||$(this).removeClass("option-selected")}),b.$parameters.filter(".filter-"+a+"-parameters").find("div[data-filter='"+a+"']").slideDown(100),b.$parameters.filter(".filter-"+a+"-parameters").switchClass("hideElement","filtersParamNavAnimation"),$(this).addClass("option-selected"),"gender"!=a&&$(".filter-"+a+"-parameters.filter-parameters").css("top","50%")}b.checkFilterStatus()}),b.$parameters.find(".filter-parameter,.filter-inlined-parameter").click(function(){var a=$(this).attr("data-filter"),c=$(this).attr("data-filter-parameter");if($(this).hasClass("parameter-selected")){if("gender"==a){var d=$("div[data-filter='"+a+"'].filter-option").offset().top,e=$("div[data-filter='"+a+"'].filter-option").outerHeight();$(".filter-"+a+"-parameters.filter-parameters").css("top",d+e/2),b.$parameters.filter(".filter-"+a+"-parameters").find("div[data-filter='"+a+"']").removeClass("parameter-selected"),b.drawPath(a,!0)}else $(".filter-"+a+"-parameters.filter-parameters").css("top","50%"),b.$parameters.filter(".filter-parameters").find("div[data-filter]").slideUp(100),b.$parameters.filter(".filter-"+a+"-parameters").find("div[data-filter='"+a+"']").removeClass("parameter-selected").slideDown(100),b.togglePaths(!1);b.applyFilter(a,!0)}else{if("gender"==a)b.$parameters.filter(".filter-"+a+"-parameters").find("div[data-filter='"+a+"']").each(function(){$(this).attr("data-filter-parameter")!=c&&$(this).removeClass("parameter-selected")}),b.$parameters.filter(".filter-"+a+"-parameters").find("div[data-filter='"+a+"'][data-filter-parameter='"+c+"']").addClass("parameter-selected"),$(".filter-"+a+"-parameters.filter-parameters .filter-inlined-parameter[data-filter='gender'][data-filter-parameter='m'] .inlined-circle"),$(".filter-"+a+"-parameters.filter-parameters .filter-inlined-parameter[data-filter='gender'][data-filter-parameter='m'] .inlined-circle").addClass("forcefully-selected"),b.drawPath(a);else{var d=$("div[data-filter='"+a+"'].filter-option").offset().top,e=$("div[data-filter='"+a+"'].filter-option").outerHeight();$(".filter-"+a+"-parameters.filter-parameters").css("top",d+e/2+4),b.$parameters.filter(".filter-"+a+"-parameters").find("div[data-filter='"+a+"']").each(function(){$(this).attr("data-filter-parameter")!=c&&$(this).removeClass("parameter-selected").slideUp(200)}),b.$parameters.filter(".filter-"+a+"-parameters").find("div[data-filter='"+a+"'][data-filter-parameter='"+c+"']").addClass("parameter-selected").slideDown(200),b.$parameters.filter(".filter-parameters").find("div[data-filter].parameter-selected,div[data-filter].filter-inlined-parameter").slideDown(100);b.$options.find("[data-filter='gender'].option-selected").length>0||(b.$parameters.filter(".filter-gender-parameters").removeClass("filtersParamNavAnimation").css("opacity",1).velocity({opacity:0},250,function(){b.$parameters.filter(".filter-gender-parameters").addClass("hideElement")}),b.$parameters.filter(".filter-gender-parameters").find(".filter-inlined-parameter").slideUp(100)),b.togglePaths(!0)}b.applyFilter(a)}}),b.calculateMultiPathPosition=function(){var a=$(".rightRect").offset().left+$(".rightRect").width(),b=$(window).width()-314-a;$("#rightpath").css({left:a,width:b})},b.togglePaths=function(a){a?($("[data-filter='gender'].filter-option.option-selected").length>0&&b.drawPath("gender"),$("[data-filter='skills'].filter-option.option-selected").length>0&&b.drawPath("skills"),$("[data-filter='region'].filter-option.option-selected").length>0&&b.drawPath("region"),$("[data-filter='salary'].filter-option.option-selected").length>0&&b.drawPath("salary"),$("[data-filter='age'].filter-option.option-selected").length>0&&b.drawPath("age")):(b.drawPath("gender",!0),b.drawPath("skills",!0),b.drawPath("age",!0),b.drawPath("region",!0),b.drawPath("salary",!0))},b.applyFilter=function(a,c){void 0==c&&(c=!1),b.$options.filter(0==".option-selected".length)&&$(".rightRect").velocity({fill:"#3D3D3D"},{duration:500}),setTimeout(function(){for(var a=getAppliedFilters(),b=0;b<window.exp.brands.length;b++){var c=STUDYDATA.getBrandScore(window.exp.brands[b].id,a),d=window.exp.getRadiusForValue(-1==c?3:c);window.exp.brands[b].filteredscore=c,window.exp.brands[b].irrelevant=-1==c,window.exp.brands[b].refinementradius=d,window.exp.brands[b].originalradius=d,window.exp.looper.add(1,0,DrawAnimation(window.exp.brands[b],{calcRadius:d},"easeInOutBack"))}for(var b=0;b<window.exp.occludedbrands.length;b++){var c=STUDYDATA.getBrandScore(window.exp.occludedbrands[b].id,a),d=window.exp.getRadiusForValue(-1==c?1:c);window.exp.occludedbrands[b].filteredscore=c,window.exp.occludedbrands[b].irrelevant=-1==c,window.exp.occludedbrands[b].refinementradius=d,window.exp.occludedbrands[b].originalradius=d}window.expList.fetch()},500)},b.drawPath=function(a,c){b.calculateMultiPathPosition();var d=[],e=$("#rightpath svg path[data-path-filter='"+a+"']");e.attr("d",""),c||(d=b.getPathData(a,$("#rightpath").width()),e.attr("d",d[0]),setTimeout(function(){e.attr("d",d[1]),SND.play("matrix_high"),setTimeout(function(){e.attr("d",d[2]),setTimeout(function(){e.attr("d",d[3]),setTimeout(function(){$(".rightRect").velocity({fill:"#FD664C"},{duration:800})},200)},200)},200)},200))},b.getPathData=function(a,b){var c=0,d=.2*b,e=0;switch(a){case"gender":c=25.5,e=d;break;case"age":c=78.5,e=d+.3*b;break;case"salary":c=135.5,e=d+.3*b;break;case"skills":c=191.5,e=d+.3*b;break;case"region":c=247.5,e=d}pathdata=["M{w},{fy} L{w},{fy} L{w},{fy} L{w},{fy}","M{w},{fy} L{fe},{fy} L{fe},{fy} L{fe},{fy}","M{w},{fy} L{fe},{fy} L{ve},{cy} L{ve},{cy}","M{w},{fy} L{fe},{fy} L{ve},{cy} L0,{cy}"];for(var f=0;f<pathdata.length;f++)pathdata[f]=pathdata[f].replace(new RegExp("{w}","g"),b),pathdata[f]=pathdata[f].replace(new RegExp("{fy}","g"),c),pathdata[f]=pathdata[f].replace(new RegExp("{fe}","g"),b-d),pathdata[f]=pathdata[f].replace(new RegExp("{ve}","g"),e),pathdata[f]=pathdata[f].replace(new RegExp("{cy}","g"),136);return pathdata},b},ondemand.push({id:"experience",order:2,ctorfunc:function(a){var b=a.$body.find(".filters"),c=b.map(function(){return new workspaces.experience.Filter($(this))}).toArray();window.expFilters=c,window.expModeCurrent="globe",window.expMode=_.throttle(function(a){if(window.expModeCurrent!=a){window.expModeCurrent=a;var b=$(".filter-settings [data-view]");switch(b.removeClass("selected"),b.filter('[data-view="'+a+'"]').addClass("selected"),a){case"list":gaEvent({eventCategory:"Menu RESULTADOS - Display",eventAction:"Click",eventLabel:"List"}),window.exp.changeMode(!0),window.expa.animateShrinking(),setTimeout(function(){window.expList.empty(),window.expList.fetch(),window.expList.show()},200);break;case"globe":gaEvent({eventCategory:"Menu RESULTADOS - Display",eventAction:"Click",eventLabel:"Standard"}),window.expList.staggerItems(!0,function(){window.expList.hide(),window.expa.animateExpanding(),window.exp.changeMode(!1)})}}},2e3,!0);var d=$(".filter-settings");d.on("click",".setting-indicator",function(a){var b=$(this).closest(".setting-option"),c=b.find(".setting-parameters");b.hasClass("opened")?c.slideUp(200):c.css("display",""),b.toggleClass("opened")}).on("click","[data-view]",function(a){window.expMode($(this).attr("data-view"))}),d.find(".setting-parameters").hide()}}),workspaces.experience.List=function(a){var b=_.extend(this,Backbone.Events);return b.$el=a,b.$list=b.$el.find(".results-list"),b.items=[],b.current=0,b.template=$("#results_list_template").html(),b.template=b.template.replace(/<%/g,"{{").replace(/%>/g,"}}"),Mustache.parse(b.template),b.$el.on("click",".-behind, .-ahead",function(){var a=$(this),c=a.index(),d=a.attr("data-id");b.scrollToItem(c),fillBrandDataAndShowModal(d)}).on("click",".-current",function(){fillBrandDataAndShowModal($(this).attr("data-id"))}),b.$list.on("scroll",_.debounce(function(a){var c=b.$list.scrollTop(),d=b.getScrollItemOffset(),e=Math.round(c/d);b.update(e),b.scrollToItem(e)},150)).on("keydown",function(a){a.preventDefault()}),$(window).on("keydown",function(a){if(b.$el.is(":visible"))switch(a.keyCode){case 38:b.scrollToItem(Math.max(0,b.current-1));break;case 40:b.scrollToItem(Math.min(b.items.length-1,b.current+1));break;case 13:b.$list.find(".-current").trigger("click")}}),b.show=function(){b.$el.stop(!0,!0).fadeIn(250),b.$list.scrollTop(0)},b.hide=function(){b.$el.stop(!0,!0).fadeOut(250)},b.staggerItems=function(a,c){"function"!=typeof c&&(c=function(){});var d=$({index:0}),e=b.$list.children().filter(".results-item"),f=e.filter(".-behind-2, .-behind-1, .-current, .-ahead-1, .-ahead-2");if(f.length<1)return c(),d;var g=-1,h=f.length;return a||f.addClass("-no-transition -enter").removeClass("-exit"),d.animate({index:h+1},{duration:150*h,step:function(){var b=Math.round(this.index);if(b!=g&&b<h){var c=f.eq(b);c.removeClass("-no-transition"),a?c.addClass("-exit"):c.removeClass("-enter"),g=b}},complete:function(){a?e.addClass("exit").removeClass("-enter -no-transition"):e.removeClass("-enter -exit -no-transition"),c()}})},b.fetch=function(a){b.staggerItems(!0,function(){b.empty();var c=getAppliedFilters(),d=brands.getFilteredItems(),e=_.chain(d).map(function(a){var b=STUDYDATA.getBrandScore(a.id,c);return{id:a.id,name:a.brand.name,category:a.brand.category.slug,score:b>-1?(Math.round(100*b)/100).toFixed(2):"N/A"}}).sortBy(function(a){return-a.score}).value();b.$list.scrollTop(0),b.render(e),setTimeout(function(){b.staggerItems(!1,function(){"function"==typeof a&&a(e)})},1)})},b.empty=function(){b.$list.empty()},b.render=function(a){for(var c="N/A",d=0,e=1,f=0;f<a.length;f++){c!=a[f].score?(c=a[f].score,d+=e,e=1):e++,a[f].rank=d;var g=b.renderItem(a[f],f);g.addClass("-enter"),g.appendTo(b.$list)}b.items=a,b.update(0)},b.renderItem=function(a){var c=Mustache.render(b.template,a),d=document.createDocumentFragment(),e=SVG(d).size("130px","130px"),f=assetRepo.patterns.orange(e,{pw:2,ph:1,r1w:1,r1h:1,r2w:1,r2h:10,m:!0}),g=assetRepo.patterns.grey(e,{pw:2,ph:1,r1w:1,r1h:1,r2w:1,r2h:10,m:!0}),h=e.defs().path(window.assetRepo.pathData.decagon_regular);h.size(122).center(65,65),e.use(h).attr("class","shape-orange").fill("none").stroke({color:f,width:10}),e.use(h).attr("class","shape-grey").fill("none").stroke({color:g,width:10});var i=$(c);return i.find(".item-logo").append(d),i},b.inc=function(a){b.update(Utils.clamp(0,b.items.length-1,b.current+a))},b.update=function(a){if(b.items instanceof Array&&!(b.items.length<1)){a%=b.items.length;for(var c=0;c<b.items.length;c++)if(c===a)b.$list.children("div:eq("+c+")").removeClass("-behind -behind-1 -behind-2 -ahead -ahead-1 -ahead-2").addClass("-current");else{var d=c-a;b.$list.children("div:eq("+c+")").removeClass("-current").toggleClass("-behind",d<0).toggleClass("-behind-1",-1==d).toggleClass("-behind-2",-2==d).toggleClass("-ahead",d>0).toggleClass("-ahead-1",1==d).toggleClass("-ahead-2",2==d)}b.current=a}},b.getScrollItemOffset=function(){return 100+.08*window.innerHeight},b.scrollToItem=function(a,c){b.update(a),b.$list.stop().animate({scrollTop:b.getScrollItemOffset()*a},{duration:c||250})},b},ondemand.push({id:"experience",order:2,ctorfunc:function(a){window.expList=new workspaces.experience.List($(".results-container:first"))}});var absolutehovers=[];!function(){$(window).resize(function(){for(var a=0;a<absolutehovers.length;a++){var b=absolutehovers[a];if(null==b.resizeStrategy)return;var c=b.resizeStrategy();b.update(c.pivot,c.hover)}})}(),workspaces.mobile.Animation=function(){var a=this;return a.warningMobile=function(){var b=new workspaces.mobile.Helpers;a.warning=SVG("svg_warning").size("100%","100%"),a.warningBox=a.warning.viewbox(0,0,100,100).attr("preserveAspectRatio","xMidYMid meet");var c=a.warning.defs().path(window.assetRepo.pathData.decagon_regular);c.size(100).center(50,50);var d=assetRepo.patterns.orange(a.warning,{pw:1,ph:2.5,r1w:1,r1h:1,r2w:1,r2h:1,m:!1});warningDecagon=a.warning.use(c).scale(1).fill(d),b.svgPatterns(a.background)},a.animationMobile=function(){var b=new workspaces.mobile.Helpers;a.background=SVG("svg_mobile").size("150%","100%").opacity(.5),a.backgroundBox=a.background.viewbox(0,0,100,100).attr("preserveAspectRatio","xMidYMid meet");var c=a.background.defs().path(window.assetRepo.pathData.decagon_regular);c.size(100).center(50,50);var d=a.background.defs().path(window.assetRepo.pathData.decagon_open_10);d.size(100).center(50,50).marker("start",10,10,function(a){a.circle(4).center(5,5).fill("#3d3d3d")});var e=a.background.defs().path(window.assetRepo.pathData.decagon_open_20);e.size(100).center(50,50).marker("start",10,10,function(a){a.circle(4).center(5,5).fill("#3d3d3d")});var f=a.background.defs().path(window.assetRepo.pathData.decagon_open_30);f.size(100).center(50,50).marker("start",10,10,function(a){a.circle(4).center(5,5).fill("#3d3d3d")});var g=assetRepo.patterns.darkgrey(a.background,{pw:1,ph:.4,r1w:1,r1h:1,r2w:1,r2h:.2,m:!1}),h=(assetRepo.patterns.orange(a.background,{pw:1,ph:.5,r1w:1,r1h:1,r2w:1,r2h:.2,m:!1}),a.background.clip().add(c).scale(1),.05),i=.78;pattern1=a.background.use(c).scale(.001).fill("none").stroke({color:g,width:3,opacity:"0.45"}),a.tunnelAnimation(pattern1,2500,0,a.defaultEasing).scale(.94).after(function(){}),pattern2=pattern1.clone().scale(.001).fill("none").stroke({color:g,width:6,opacity:"0.45"}),h=2500-1500/17,a.tunnelAnimation(pattern2,h,0,a.defaultEasing).scale(.82),innerLine=a.background.use(d).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.35}),h-=1500/17,i-=.04,a.tunnelAnimation(innerLine,h,0,a.defaultEasing).scale(i),innerDashed=a.background.use(c).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.25,dasharray:".65px",opacity:"0.75"}),h-=1500/17,i-=.04,a.tunnelAnimation(innerDashed,h,0,a.defaultEasing).scale(i);for(var j=1;j<=3;j++)innerDashed=innerDashed.clone().scale(.001).fill("none").stroke({color:"#3d3d3d",width:.25,dasharray:".65px",opacity:"0.75"}),h-=1500/17,i-=.04,a.tunnelAnimation(innerDashed,h,0,a.defaultEasing).scale(i);innerLine2=a.background.use(e).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.45}),h-=1500/17,i-=.04,a.tunnelAnimation(innerLine2,h,0,a.defaultEasing).scale(i);for(var j=1;j<=4;j++)innerDashed=innerDashed.clone().scale(.001).fill("none").stroke({color:"#3d3d3d",width:.3,dasharray:"1px",opacity:"0.75"}),h-=1500/17,i-=.04,a.tunnelAnimation(innerDashed,h,0,a.defaultEasing).scale(i);innerLine3=a.background.use(f).scale(.001).fill("none").stroke({color:"#3d3d3d",width:.55}),h-=1500/17,i-=.04,a.tunnelAnimation(innerLine3,h,0,a.defaultEasing).scale(i);for(var j=1;j<=4;j++)innerDashed=innerDashed.clone().scale(.001).fill("none").stroke({color:"#3d3d3d",width:.6,dasharray:"1.5px",opacity:"0.75"}),h-=1500/17,i-=.04,a.tunnelAnimation(innerDashed,h,0,a.defaultEasing).scale(i);b.changeLetters(a.background)},a.defaultEasing=function(a){return Utils.Easing.easeOutBack(a)},a.tunnelAnimation=function(a,b,c,d){return d=d||function(a){return Math.pow(a,10)},a.animate({duration:b,ease:d,delay:c})},a},workspaces.mobile.Helpers=function(){var a=this;return a.svgPatterns=function(a){var b=assetRepo.patterns.lightgrey(a,{pw:2,ph:1,r1w:1,r1h:1,r2w:1,r2h:2,m:!0}),c=(assetRepo.patterns.grey(a,{pw:2,ph:1,r1w:1,r1h:1,r2w:1,r2h:2,m:!0}),assetRepo.patterns.orange(a,{pw:2,ph:1,r1w:1,r1h:1,r2w:1,r2h:2,m:!0})),d=(assetRepo.patterns.orange(a,{pw:2,ph:1,r1w:1,r1h:1,r2w:1,r2h:2,m:!0}),0),e=$(".bars_bar .-grey"),f=$(".bars_bar .-orange");e.each(function(){var a="greypattern"+d;d++,$(this).attr("id",a),SVG(a).size("100%","25px").rect("100%",25).size("100%","100%").center(0,0).fill(b)}),f.each(function(){var a="orangepattern"+d;d++,$(this).attr("id",a),SVG(a).size("100%","25px").rect("100%",25).size("100%","100%").center(0,0).fill(c)})},a.changeLetters=function(a){var b=(assetRepo.patterns.lightgrey(a,{pw:2.5,ph:1,r1w:1,r1h:1,r2w:1,r2h:2,m:!0}),assetRepo.patterns.orange(a,{pw:2.5,ph:1,r1w:1,r1h:1,r2w:1,r2h:2,m:!0}),0);$("#mobile_who_cares .bars_img.pattern").each(function(){var a="letterpattern"+b;b++,$(this).attr("id",a)})},a};var config={items:{url:"assets/data.json",categories:{retalho:"Retalho e DistribuiÃ§Ã£o",tecnologia:"Tecnologia",alimentacao:"AlimentaÃ§Ã£o",internet:"Internet",saude:"SaÃºde e Beleza",telecomunicacao:"TelecomunicaÃ§Ãµes",automovel:"AutomÃ³vel",bebidas:"Bebidas",seguros:"Seguros",banca:"Banca",sexualidade:"Sexualidade"},ids:[["google","google"],["youtube","youtube"],["facebook","facebook"],["samsung","samsung"],["nestle","nestle"],["continente","continente"],["nivea","nivea"],["ola","ola"],["colgate","colgate"],["pingo-doce","pingo-doce"],["danone","danone"],["compal","compal"],["apple","apple"],["microsoft","microsoft"],["lidl","lidl"],["dove","dove"],["milka","milka"],["instagram","instagram"],["mimosa","mimosa"],["mercedes","mercedes"],["dodot","dodot"],["superbock","super-bock"],["luso","luso"],["bmw","bmw"],["gallo","gallo"],["huawei","huawei"],["oliveira-da-serra","oliveira-da-serra"],["vodafone","vodafone"],["nacional","nacional"],["audi","audi"],["loreal","loreal"],["garnier","garnier"],["jumbo","jumbo"],["coca-cola","coca-cola"],["nokia","nokia"],["volkswagen","volkswagen"],["renault","renault"],["sagres","sagres"],["peugeot","peugeot"],["vitalis","vitalis"],["nos","nos"],["meo","meo"],["durex","durex"],["control","control"],["minipreco","minipreco"],["intermarche","intermarche"],["fidelidade","fidelidade"],["nowo","nowo"],["allianz","allianz"],["tranquilidade","tranquilidade"],["ok-teleseguros","ok-teleseguros"],["santander-totta","santander-totta"],["direct","direct"],["millennium-bcp","millennium-bcp"],["logo","logo"],["bpi","bpi"],["cgd","cgd"],["pornhub","pornhub"],["banco-big","banco-big"],["novo-banco","novo-banco"]],
idData:[["google","Google","tecnologia"],["youtube","Youtube","internet"],["facebook","Facebook","tecnologia"],["samsung","Samsung","tecnologia"],["nestle","NestlÃ©","alimentacao"],["continente","Continente","retalho"],["nivea","Nivea","saude"],["ola","OlÃ¡","alimentacao"],["colgate","Colgate","saude"],["pingo-doce","Pingo Doce","retalho"],["danone","Danone","alimentacao"],["compal","Compal","alimentacao"],["apple","Apple","tecnologia"],["microsoft","Microsoft","tecnologia"],["lidl","LIDL","retalho"],["dove","Dove","saude"],["milka","Milka","alimentacao"],["instagram","Instagram","internet"],["mimosa","Mimosa","alimentacao"],["mercedes","Mercedes","automovel"],["dodot","Dodot","saude"],["superbock","Superbock","bebidas"],["luso","Luso","bebidas"],["bmw","BMW","automovel"],["gallo","Gallo","alimentacao"],["huawei","Huawei","tecnologia"],["oliveira-da-serra","Oliveira da Serra","alimentacao"],["vodafone","Vodafone","telecomunicacao"],["nacional","Nacional","alimentacao"],["audi","Audi","automovel"],["loreal","L'Oreal","saude"],["garnier","Garnier","saude"],["jumbo","Jumbo","retalho"],["coca-cola","Coca-Cola","bebidas"],["nokia","Nokia","tecnologia"],["volkswagen","Volkswagen","automovel"],["renault","Renault","automovel"],["sagres","Sagre","bebidas"],["peugeot","Peugeot","automovel"],["vitalis","Vitalis","bebidas"],["nos","NOS","telecomunicacao"],["meo","MEO","telecomunicacao"],["durex","Durex","sexualidade"],["control","Control","sexualidade"],["minipreco","MinipreÃ§o","retalho"],["intermarche","IntermarchÃ©","retalho"],["fidelidade","Fidelidade","seguros"],["nowo","NOWO","telecomunicacao"],["allianz","Allianz","seguros"],["tranquilidade","Tranquilidade","seguros"],["ok-teleseguros","OK! Teleseguros","seguros"],["santander-totta","Santander Totta","banca"],["direct","Direct","seguros"],["millennium-bcp","Millennium BCP","banca"],["logo","Logo","seguros"],["bpi","BPI","banca"],["cgd","CGD","banca"],["pornhub","Pornhub","sexualidade"],["banco-big","Banco BIG","banca"],["novo-banco","Novo Banco","banca"]]},preload:{active:!0,assetsJSON:"assets/assets.js"},sound:!0};window.Update=new function(){function a(){if(d&&(j(d),d=!1),!c&&f.length>0){d=i(a);var k=Date.now();h=Math.min(1,h+(k-(g||k))/1e3),g=k,h>=b.limit&&(e&&e.begin(),f.forEach(function(a){!0!==a.paused&&a(h)}),h=0,e&&e.end())}}var b=this,c=!1,d=!1,e=null,f=[],g=null,h=0;b.limit=1/33;var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1e3/60)}}(),j=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(a){return cancelTimeout(a)}}();return b.resume=function(){c=!1,i(a)},b.pause=function(){c=!0},b.register=function(b){if("function"==typeof b){return-1===f.indexOf(b)&&(f.push(b),d||c||i(a),!0)}},b.unregister=function(a){if("function"!=typeof a)return f.length=0,!0;var b=f.indexOf(a);return b>-1&&(f.splice(b,1),!0)},b.addStats=function(){e||(e=new Stats,e.setMode(0),$(e.domElement).css({position:"fixed",bottom:"0px",right:"0px",left:"auto",top:"auto"})),$(e.domElement).appendTo("body")},b.removeStats=function(){e&&($(e.domElement).detach(),e=null)},b};var Utils=new function(){this.splitPath=function(a){return a=a.replace(/\[(\w+)\]/g,".$1"),a=a.replace(/^\.+/,""),a=a.replace(/\.+$/,""),a.split(".")},this.resolve=function(a,b,c){if(null==a)return c;if(!("string"==typeof b||b instanceof Array))return c;for(var d=b instanceof Array?b:this.splitPath(b),e=a,f=0,g=d.length;f<g;f++){var h=d[f],i=e[h];if(null==i)return c;e=i}return e},this.resolveSet=function(a,b,c){if(null==a)return!1;if(!("string"==typeof b||b instanceof Array))return!1;for(var d=b instanceof Array?b:this.splitPath(b),e=a,f=0,g=d.length-1;f<=g;f++){var h=d[f];if(null==e[h])return returns;if(f===g)return e[h]=c;e=e[h]}return!1},this.validate=function(a,b,c){return("object"==typeof c?a instanceof c:"function"==typeof c?c(a):typeof a===(c||"number"))?a:b},this.collect=function(a,b,c){return c=c||_.isNumber,_.isArray(a)?_.filter(a,c):this.validate(a,b,c)},this.random=function(a,b){return a=this.validate(a,0),b?a+Math.random()*(b-a):a},this.randomN=function(a,b,c){b=Utils.validate(b,3),c=Utils.validate(c,3);for(var d=0,e=0,f=Utils.validate(a,6);e<f;e++)d+=Math.random();return Math.abs((d-b)/c)},this.variation=function(a,b){return this.random(a-b,a+b)},this.lerp=function(a,b,c,d){var e=a+c*(b-a),f=Math.abs(e-a);return d>0&&e!==b&&f<d?b:e},this.elapsed=function(a,b,c){return(c-a)/(b-a)},this.wrap=function(a,b,c){var d=c-a,e=b-a;return a+(d%e+e)%e},this.clamp=function(a,b,c){return Math.min(b,Math.max(a,c))},this.range=function(a){return _.isArray(a)?this.random(a[0],a[1]):a},this.rangeColor=function(a){if(_.isString(a))return a;var b=255,c=255,d=255,e=1;return _.isArray(a[0])?(a=_.unzip(a),b=this.validate(this.range(a[0]),b),c=this.validate(this.range(a[1]),c),d=this.validate(this.range(a[2]),d),e=this.validate(this.range(a[3]),e)):(b=this.validate(a[0],b),c=this.validate(a[1],c),d=this.validate(a[2],d),e=this.validate(a[3],e)),"rgba("+Math.ceil(b)+", "+Math.ceil(c)+", "+Math.ceil(d)+", "+e+")"},this.createDiagonalPattern=_.memoize(function(a,b,c){b="number"==typeof b?b:1,c="number"==typeof c?c:1;var d=document.createElement("canvas");d.width=3*(b+c-1),d.height=d.width;var e=d.getContext("2d");e.strokeStyle=a,e.lineWidth=b;var f=3*(b+c-1),g=-f,h=-f,i=d.width+f,j=d.height+f;return e.beginPath(),e.moveTo(g,h),e.lineTo(i,j),e.moveTo(g-f,h),e.lineTo(i-f,j),e.moveTo(g+f,h),e.lineTo(i+f,j),e.stroke(),e.createPattern(d,"repeat")}),this.Bezier=function(){"use strict";var a=function(a){return 1/(200*a)},b=function(b,c,d,e){var f=3*b,g=3*(d-b)-f,h=1-f-g,i=3*c,j=3*(e-c)-i,k=1-i-j,l=function(a){return((h*a+g)*a+f)*a},m=function(a){return((k*a+j)*a+i)*a},n=function(a){return(3*h*a+2*g)*a+f},o=function(a,b){var c,d,e,f,g,h;for(e=a,h=0;h<8;h++){if(f=l(e)-a,Math.abs(f)<b)return e;if(g=n(e),Math.abs(g)<1e-6)break;e-=f/g}if(c=0,d=1,(e=a)<c)return c;if(e>d)return d;for(;c<d;){if(f=l(e),Math.abs(f-a)<b)return e;a>f?c=e:d=e,e=.5*(d-c)+c}return e},p=function(a,b){return m(o(a,b))};return function(b,c){return p(b,a(+c||400))}};return{linear:b(0,0,1,1),ease:b(.25,.1,.25,1),easeIn:b(.42,0,1,1),easeOut:b(0,0,.58,1),easeInOut:b(.42,0,.58,1),cubicBezier:function(a,c,d,e,f,g){return b(a,c,d,e)(f,g)}}}(),this.Easing=function(){"use strict";var a=.5*Math.pow(.5,1.925);return{linear:function(a){return a},ease:function(a){return a<=0?0:a>=1?1:1.0042954579734844*Math.exp(-6.404173895841566*Math.exp(-7.290824133098134*a))},easeInApprox:function(a){return Math.pow(a,1.685)},easeInQuadratic:function(a){return a*a},easeInCubic:function(a){return a*a*a},easeOutApprox:function(a){return 1-Math.pow(1-a,1.685)},easeOutQuadratic:function(a){return 1-(a-=1)*a},easeOutCubic:function(a){return 1+(a-=1)*a*a},easeInOutApprox:function(b){return b<.5?a*Math.pow(b,1.925):1-a*Math.pow(1-b,1.925)},easeInOutQuadratic:function(a){return a<.5?2*a*a:1-2*(a-=1)*a},easeInOutCubic:function(a){return a<.5?4*a*a*a:1+4*(a-=1)*a*a},easeInOutQuartic:function(a){return a<.5?8*a*a*a*a:1+8*(a-=1)*a*a*a},easeInOutQuintic:function(a){return a<.5?16*a*a*a*a*a:1+16*(a-=1)*a*a*a*a},easeInOutBack:function(a){var b=2*a,c=2.5949095;return b<1?b*b*((c+1)*b-c)*.5:.5*((b-=2)*b*((c+1)*b+c)+2)},easeOutBack:function(a){var b=a-1,c=1.70158;return b*b*((c+1)*b+c)+1}}}()},STUDYDATA={data:{},ids:[],loadData:function(){var a=this;return $.ajax({url:config.items.url,dataType:"json"}).done(function(b){a.data=b,a.ids=_.map(b.brands,function(a){return a.brand.slug})})},getBrandIndex:function(a){return this.ids.indexOf(a)},getBrandScore:function(a,b){var c=STUDYDATA.getBrandIndex(a);if(-1===c)return-1;for(var d=_.where(STUDYDATA.data.data,b),e=0,f=0,g=0;g<d.length;g++){var h=d[g].score[c];h<1||(e++,f+=h)}return e>0?f/e:-1}};init.push(function(a){var b=a.$body.find(".footer");b.map(function(){return new Footer($(this))}).toArray()}),init.push(function(a){var b=a.$body.find("#menu");b.map(function(){return new Menu($(this))}).toArray()});var modals,presentationData;init.push(function(a){modals=new Modal});var SND={muted:!1,_loops:[],uniquePlay:function(a){this.hasInstanceOf(a)||this.play(a)},play:function(a,b){if(!this.muted){void 0==b&&(b=1);var c=soundsloaded.play(a);soundsloaded.setVolume(c,b)}},loop:function(a,b){if(!this.hasLoop(a)){var c={handler:a,id:soundsloaded.loop(b),volume:this.muted?0:1};this._loops.push(c),soundsloaded.setVolume(c.id,c.volume)}},stopLoop:function(a){soundsloaded.stopAndDeleteInstance(this.getLoopId(a)),this.deleteLoop(a)},stopAllSounds:function(a){for(var b=[],c=0;c<a.length;c++){var d=this.getLoopId(a[c]);-1!=d&&b.push(d)}this.deleteAllLoopsExcept(a),soundsloaded.stopAllExcept(b)},panLoop:function(a,b){this.hasLoop(a)&&soundsloaded.setPan(this.getLoopId(a),b)},volLoop:function(a,b){this.hasLoop(a)&&(this.muted||(soundsloaded.setVolume(this.getLoopId(a),b),this.setLoopVolume(a,b)))},toggleMute:function(){this.muted=!this.muted;for(var a=0;a<this._loops.length;a++)this.muted?soundsloaded.setVolume(this._loops[a].id,0):soundsloaded.setVolume(this._loops[a].id,this._loops[a].volume)},scanDOM:function(){$("[data-sound-id]").each(function(){if("1"!=$(this).attr("data-sound-rigged")){for(var a=$(this).attr("data-sound-id").split(","),b=$(this).attr("data-sound-trigger").split(","),c=0;c<a.length;c++){var d=a[c].trim(),e=b[c].trim();switch($(this).attr("data-sound-"+e,d),e){case"click":$(this).click(function(){var a=$(this).attr("data-sound-click");SND.play(a)});break;case"mouseenter":$(this).mouseenter(function(){var a=$(this).attr("data-sound-mouseenter");SND.play(a)});break;case"mouseleave":$(this).mouseleave(function(){var a=$(this).attr("data-sound-mouseleave");SND.play(a)})}}$(this).attr("data-sound-rigged","1")}})},hasLoop:function(a){for(var b=0;b<this._loops.length;b++)if(a==this._loops[b].handler)return!0;return!1},hasInstanceOf:function(a){var b=soundsloaded.getInstances();for(var c in b)if(b.hasOwnProperty(c)&&b[c].assetid==a)return!0;return!1},getLoopId:function(a){for(var b=0;b<this._loops.length;b++)if(a==this._loops[b].handler)return parseInt(this._loops[b].id);return-1},deleteLoop:function(a){for(var b=this._loops.length-1;b>=0;b--)if(a==this._loops[b].handler)return void this._loops.splice(b,1)},deleteAllLoopsExcept:function(a){for(var b=this._loops.length-1;b>=0;b--){var c=this._loops[b].handler;-1==a.indexOf(c)&&this._loops.splice(b,1)}},setLoopVolume:function(a,b){for(var c=0;c<this._loops.length;c++)if(a==this._loops[c].handler)return void(this._loops[c].volume=b)}};
//# sourceMappingURL=empathy.min.js.map